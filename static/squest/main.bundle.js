/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{var e,t,n={3412:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".button{font-family:Arial,monospace;text-align:center;padding:10px;border:1px solid #c3a17b;outline:#8d703c solid 1px;text-shadow:none;transition:all .2s ease;cursor:pointer;box-sizing:border-box;background:linear-gradient(90deg,rgba(71,56,20,0.4),rgba(84,69,25,0.7));box-shadow:5px 5px 5px rgba(0,0,0,0.267)}@media (max-width: 700px){.button{box-shadow:none}}.button.half-height{padding:0 10px}.button.bg{background:linear-gradient(20deg,rgba(45,36,13,0.4) 0%,rgba(90,56,25,0.7) 50%,rgba(55,43,16,0.4) 100%)}.button.rounded{border-radius:10px}.button:hover{text-shadow:0 0 8px #c3a38e;box-shadow:0 0 15px #ffeba4}.button.outline{transition:all 1s cubic-bezier(.19,1,.22,1);outline-offset:0}.button.outline:hover{outline-offset:15px;outline-color:transparent}",""]),e.exports=t},8823:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"html{overflow-x:hidden}*{box-sizing:border-box}body{margin:0;width:100vw;min-height:100vh;position:relative;color:#f5e0d1;background:linear-gradient(-20deg,#b8860b 0%,#5b3509 20%,#110911 70%,#0e0909 100%);animation:bg-move 3s ease normal forwards;overflow-x:hidden;font-family:monospace}a{text-decoration:none;color:#f5e0d1;transition:color .2s ease}.link a,a.link{color:#d2825c}.link a:hover,a.link:hover{color:#fdc57c}hr{height:2px;border:none;background:linear-gradient(90deg,transparent,#b8860b,transparent)}#app{width:100%;height:100%}#app .flex-root{min-height:calc(100vh - 70px);display:flex;flex-direction:column}#app .flex-root .app-flex-filler{flex:1}.text-big-xx{text-shadow:0 0 8px #c6c1bf,0 0 4px #ae613c;font-size:40px;font-family:Arial,monospace;color:#f5e0d1}@media (max-width: 700px){.text-big-xx{text-shadow:0 0 8px #c3a38e}}.text-big-x{text-shadow:0 0 8px #c3a38e;font-size:30px;font-family:Roboto,monospace;color:#f5e0d1}@media (max-width: 700px){.text-big-x{text-shadow:0 0 8px #c3a38e}}.text-big{font-size:20px;font-family:Roboto,monospace;color:#e5cdb1}.text-middle{font-size:18px;font-family:Roboto,monospace;color:#e5cdb1}.text-small{text-shadow:none;font-size:15px;font-family:Arial,monospace;color:#c1a691}.text-small-x{text-shadow:none;font-size:13px;font-family:Arial,monospace;color:#ab9a86}.pc-hide{display:none}@media (max-width: 700px){.mobile-hide{display:none}.pc-hide{display:block}}@-moz-keyframes bg-move{from{background-position:100%;background-size:1000%}to{background-position:0;background-size:300%}}@-webkit-keyframes bg-move{from{background-position:100%;background-size:1000%}to{background-position:0;background-size:300%}}@-o-keyframes bg-move{from{background-position:100%;background-size:1000%}to{background-position:0;background-size:300%}}@keyframes bg-move{from{background-position:100%;background-size:1000%}to{background-position:0;background-size:300%}}",""]),e.exports=t},6486:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".scrollable{overflow-y:auto;scrollbar-width:bold;scrollbar-height:bold;scrollbar-color:#b8860b #29190c}.scrollable:hover{scrollbar-color:#d4a740 #29190c}.scrollable:hover::-webkit-scrollbar-thumb{background-color:#d4a740}.scrollable::-webkit-scrollbar{width:10px;height:10px}.scrollable::-webkit-scrollbar-track{background:#29190c;border-radius:5px}.scrollable::-webkit-scrollbar-thumb{background-color:#b8860b;border-radius:5px;border:2px solid #29190c}.scrollable::-webkit-scrollbar-corner{background:#29190c}",""]),e.exports=t},1360:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".show{animation:show .3s linear forwards}.showed{animation:none}.hide{animation:hide .3s linear forwards}.hidden{display:none !important}.roll-active{transition:height .3s ease;overflow-y:hidden}.roll-active.closed{height:0}.simple-roll{transition:max-height .3s ease;overflow-y:hidden;max-height:1000px}.simple-roll.closed{max-height:0}.no-animations{transition:none}@media (max-width: 700px){.roll-closed{transition:height .3s ease !important}}@-moz-keyframes hide{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes hide{0%{opacity:1}100%{opacity:0}}@-o-keyframes hide{0%{opacity:1}100%{opacity:0}}@keyframes hide{0%{opacity:1}100%{opacity:0}}@-moz-keyframes show{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes show{0%{opacity:0}100%{opacity:1}}@-o-keyframes show{0%{opacity:0}100%{opacity:1}}@keyframes show{0%{opacity:0}100%{opacity:1}}",""]),e.exports=t},7816:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".wrapper[data-v-1b8755e2]{width:100%;min-height:calc(100vh - 70px)}.wrapper > *[data-v-1b8755e2]{position:absolute;width:100%}.wrapper .loading[data-v-1b8755e2]{top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px}",""]),e.exports=t},2601:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".addable-list[data-v-2ea0139c]{padding:0;list-style:none;overflow-x:hidden}.button[data-v-2ea0139c]{display:flex;align-items:center;justify-content:center;padding:0}.button img[data-v-2ea0139c]{width:40px}",""]),e.exports=t},8111:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"li[data-v-2bb4e74b]{margin-top:10px;margin-bottom:10px;display:flex;justify-content:space-between}li[data-v-2bb4e74b] :last-child{margin-bottom:0}li[data-v-2bb4e74b] :first-child{margin-top:0}li > input[data-v-2bb4e74b]{flex:1;width:100%;padding:10px;box-sizing:border-box;float:left;border-left:none}li > .radio[data-v-2bb4e74b]{margin-left:20px;margin-right:5px}li > .button[data-v-2bb4e74b]{opacity:1;transition:all .3s ease;overflow:hidden;height:40px;box-sizing:border-box;float:right;display:flex;align-content:center;justify-content:center}li > .button .arrow.right[data-v-2bb4e74b]{margin-left:5px}li[data-v-2bb4e74b] > :last-child{width:20%;margin-left:0}li[data-v-2bb4e74b] > :not(:last-child){margin-right:20px}li > .closed[data-v-2bb4e74b]{opacity:0;width:0;padding-left:0;padding-right:0;margin-left:0;margin-right:0;pointer-events:none}li > .orderid[data-v-2bb4e74b]{display:flex;align-items:center;margin-right:5px}li > .move-buttons > .button[data-v-2bb4e74b]{padding:0 15px}li:first-child > .move-buttons > .button[data-v-2bb4e74b]:first-child{opacity:.2;pointer-events:none}li.last-child > .move-buttons > .button[data-v-2bb4e74b]:last-child{opacity:.2;pointer-events:none}@media (max-width: 700px){li > .orderid[data-v-2bb4e74b]{font-size:20px}li > div[data-v-2bb4e74b]:not(:last-child){margin-right:8px}li > div[data-v-2bb4e74b]:last-child{margin-left:8px}li > div.goto-button[data-v-2bb4e74b]{width:12%;padding:10px 0}li > div.goto-button .arrow[data-v-2bb4e74b]{margin-right:5px}}",""]),e.exports=t},9239:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".arrow[data-v-c87f8c5a]{width:var(--size);height:var(--size);border-top:5px solid #a78331;border-right:5px solid #d4a740;border-radius:7px 0 7px 0;transition:all .2s ease;display:inline-block}.arrow.right[data-v-c87f8c5a]{right:0;transform:rotate(45deg);margin-left:20px}.arrow.left[data-v-c87f8c5a]{right:0;transform:rotate(-135deg);margin-right:20px}.arrow.top[data-v-c87f8c5a]{right:0;transform:rotate(-45deg);margin-left:20px}.arrow.bottom[data-v-c87f8c5a]{right:0;transform:rotate(135deg);margin-left:20px}",""]),e.exports=t},8655:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"li[data-v-22db384e]{list-style-type:none;padding:0;margin:0;width:100%;border-color:#5b3509;border-style:solid;border-width:0;border-top-width:1px;transition:all .2s ease;cursor:pointer;background:linear-gradient(20deg,rgba(121,86,34,0.3) 0%,rgba(55,43,16,0) 100%) -50% 50% no-repeat;background-size:0}li .all-info[data-v-22db384e]{transition:all .2s ease;padding:10px;display:flex;justify-content:flex-start;align-items:center}li .all-info img[data-v-22db384e]{width:25px;display:inline-block;margin-right:10px}li .all-info .main-info[data-v-22db384e]{max-width:70%}li .all-info .main-info .info[data-v-22db384e]{overflow:hidden;text-overflow:ellipsis}li .all-info .choose[data-v-22db384e]{opacity:.3;margin-left:30px;transition:all .3s ease-out;transition-delay:20ms}li svg[data-v-22db384e]{margin-right:10px}li ul[data-v-22db384e]{padding:0;margin:0}li[data-v-22db384e]:last-child{border-bottom-width:1px}li.selected[data-v-22db384e],li[data-v-22db384e]:hover,li:hover + li[data-v-22db384e]{border-color:#b8860b}li.inside[data-v-22db384e]:hover{border-left-width:20px}li.inside:hover > .all-info[data-v-22db384e]{border-left-width:0;color:#f5e0d1;letter-spacing:2px;text-shadow:0 0 50px #f5f0f0,0 0 10px #eaacbf,0 0 15px #eaa093}li.inside:hover > .all-info .choose[data-v-22db384e]{opacity:1;text-shadow:0 0 8px #e7bfac}li.selected[data-v-22db384e]{background-size:100%}li.selected > .all-info[data-v-22db384e]{text-shadow:0 0 3px #a29a97}li.inside > .all-info[data-v-22db384e]{background-size:25px 100%;border-left:rgba(0,0,0,0.333) 20px solid}li.bg[data-v-22db384e]{background-size:100%}",""]),e.exports=t},2936:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.cross[data-v-52b2a75c]{width:var(--size);height:var(--size);transform:rotate(45deg);position:relative;display:inline-block;transition:all .3s ease;border-radius:50%}.cross[data-v-52b2a75c]:hover{transform:rotate(135deg) scale(1.1)}.cross[data-v-52b2a75c]:hover:before,.cross[data-v-52b2a75c]:hover:after{background:#d4a740}.cross[data-v-52b2a75c]:before,.cross[data-v-52b2a75c]:after{content:"";position:absolute;z-index:-1;background:#d2825c}.cross[data-v-52b2a75c]:before{top:0;left:50%;width:14%;margin-left:-7%;height:100%}.cross[data-v-52b2a75c]:after{top:50%;left:0;height:14%;margin-top:-7%;width:100%}',""]),e.exports=t},1002:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".float-button[data-v-44bab0e4]{cursor:pointer;overflow:hidden;position:fixed;bottom:30px;right:30px;height:50px;min-width:50px;border-radius:25px;padding:5px;padding-right:10px;background:#b8860b;box-shadow:3px 3px 5px rgba(0,0,0,0.267)}.float-button .fields[data-v-44bab0e4]{height:100%;display:flex;align-items:center;text-align:center;flex-direction:row;justify-content:flex-end;transition:all .2s ease}.float-button .fields .image[data-v-44bab0e4]{transition:all .2s ease;width:30px;height:30px;opacity:.8}.float-button .fields .hover-text[data-v-44bab0e4]{transition:all .2s ease;overflow:hidden;width:0;pointer-events:none;opacity:0}.float-button[data-v-44bab0e4]:hover{box-shadow:5px 5px 8px rgba(0,0,0,0.267)}.float-button:hover .hover-text[data-v-44bab0e4]{width:120px;opacity:1}.float-button:hover .image[data-v-44bab0e4]{transform:scale(1.1);opacity:1}.float-button.green[data-v-44bab0e4]{background:#416c19}@media (max-width: 700px){.float-button[data-v-44bab0e4]{transition:opacity .3s ease,right .3s ease !important}}",""]),e.exports=t},9926:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.floating-input-fields[data-v-64b42682]{position:relative}.floating-input-fields input:not([type=checkbox]) + label[data-v-64b42682]{position:absolute;top:12px;left:8px;transition:all .2s ease;font-size:16px;pointer-events:none}.floating-input-fields input:not([type=checkbox]):focus + label[data-v-64b42682],.floating-input-fields input:not([type=checkbox]):not(:placeholder-shown) + label[data-v-64b42682]{top:-16px;left:4px;font-size:14px}.floating-input-fields input[data-v-64b42682]{text-align:center}.floating-input-fields input:not([type=checkbox]).left[data-v-64b42682]{text-align:left;border-left:none}.floating-input-fields input:not([type=checkbox]).right[data-v-64b42682]{text-align:right;border-right:none}.floating-input-fields.error .input-like[data-v-64b42682],.floating-input-fields.error input[data-v-64b42682]{border-color:error-color}.floating-input-fields.error .error-text[data-v-64b42682]{margin-left:80px}.floating-input-fields > div[data-v-64b42682]{margin:20px 0;transition:all .3s ease}.floating-input-fields > div > label[data-v-64b42682]{font-family:Arial,monospace}.floating-input-fields > div > textarea[data-v-64b42682],.floating-input-fields > div > input[type=text][data-v-64b42682],.floating-input-fields > div > input[type=password][data-v-64b42682],.floating-input-fields > div > input[type=email][data-v-64b42682],.floating-input-fields > div display block[data-v-64b42682]{width:100%;padding:10px}.floating-input-fields > div .info[data-v-64b42682]{margin:5px 0}@supports (-webkit-appearance:none) or (-moz-appearance:none){input[type=checkbox][data-v-64b42682]{--active:#5e9b25;--active-inner:#f5e0d1;--focus:2px #fff;--border:#e5cdb1;--border-hover:#f5e0d1;--background:#a13623;--disabled:#b08946;--disabled-inner:#e1e6f9;-webkit-appearance:none;-moz-appearance:none;height:21px;outline:none;display:inline-block;vertical-align:top;position:relative;margin:0;cursor:pointer;border:1px solid var(--bc,var(--border));background:var(--b,var(--background));transition:background .3s,border-color .3s,box-shadow .2s;box-shadow:0 0 5px 0 #000 inset}input[type=checkbox][data-v-64b42682]:after{content:"";display:block;left:0;top:0;position:absolute;transition:transform var(--d-t,.3s) var(--d-t-e,ease),opacity var(--d-o,.2s)}input[type=checkbox][data-v-64b42682]:checked{--b:var(--active);--d-o:.3s;--d-t:.6s;--d-t-e:cubic-bezier(.2,.85,.32,1.2)}input[type=checkbox][data-v-64b42682]:disabled{--b:var(--disabled);cursor:not-allowed;opacity:.9}input[type=checkbox][data-v-64b42682]:disabled:checked{--b:var(--disabled-inner)}input[type=checkbox]:disabled + label[data-v-64b42682]{cursor:not-allowed}input[type=checkbox][data-v-64b42682]:hover:not(:checked):not(:disabled){--bc:var(--border-hover)}input[type=checkbox][data-v-64b42682]:not(.switch){width:21px}input[type=checkbox][data-v-64b42682]:not(.switch):after{opacity:var(--o,0)}input[type=checkbox][data-v-64b42682]:not(.switch):checked{--o:1}input[type=checkbox] + label[data-v-64b42682]{font-size:14px;line-height:21px;display:inline-block;vertical-align:top;cursor:pointer;margin-left:4px}input[type=checkbox][data-v-64b42682]:not(.switch){border-radius:7px}input[type=checkbox][data-v-64b42682]:not(.switch):after{width:5px;height:9px;border:2px solid var(--active-inner);border-top:0;border-left:0;left:7px;top:4px;transform:rotate(var(--r,20deg))}input[type=checkbox][data-v-64b42682]:not(.switch):checked{--r:43deg}input[type=checkbox].switch[data-v-64b42682]{width:38px;border-radius:11px}input[type=checkbox].switch[data-v-64b42682]:after{left:2px;top:2px;border-radius:50%;width:15px;height:15px;background:var(--ab,var(--border));transform:translateX(var(--x,0))}input[type=checkbox].switch[data-v-64b42682]:checked{--ab:var(--active-inner);--x:17px}input[type=checkbox].switch[data-v-64b42682]:disabled:not(:checked):after{opacity:.6}}',""]),e.exports=t},197:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"footer[data-v-7917d476]{flex:0 0 auto;bottom:0;width:100%;margin:0;margin-top:80px;padding:0;padding-bottom:10px;background:linear-gradient(20deg,rgba(84,67,24,0) 0%,rgba(84,67,24,0.6) 50%,rgba(84,67,24,0) 100%) no-repeat;border-top:solid 2px;border-color:#d4a740;box-shadow:rgba(231,190,28,0.5) 0 0 8px 0;list-style:none}footer a[data-v-7917d476]{display:inline-flex;align-items:center;padding:10px 15px}footer a .title[data-v-7917d476]{font-size:14px;font-family:Arial,monospace;color:#f5e0d1}footer a img[data-v-7917d476]{width:30px;display:compact;margin-right:5px;transition:transform .2s ease}footer a .description[data-v-7917d476]{font-size:12px;font-family:Arial,monospace;color:#ab9a86;transition:color .2s ease}footer a:hover img[data-v-7917d476]{transform:scale(1.1)}footer a:hover .description[data-v-7917d476]{color:#e5cdb1}",""]),e.exports=t},1987:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"textarea,input,.input-like{all:unset;width:100%;color:#f5e0d1;box-sizing:border-box;font-family:Arial;padding:10px;font-size:1rem;transition:all .2s ease}textarea{background:rgba(0,0,0,0.333);border-radius:3px;border:transparent 1px solid}textarea:focus{border:#d4a740 1px solid}input,.input-like{background:rgba(0,0,0,0.082);border-radius:5px 5px 0 0;border-bottom:1px solid #b08946;border-right:100px solid transparent;border-left:100px solid transparent}@media (max-width: 700px){input,.input-like{border-right-width:10px;border-left-width:10px}}textarea:focus,input:focus,.input-like:focus{background:rgba(0,0,0,0.333);border-right-width:0;border-left-width:0}.form:not(.no-bg){background:linear-gradient(20deg,#110911 0%,#5b3509 50%,#29190c 100%) 50% 50% no-repeat;box-shadow:3px 3px 10px #000;padding:40px 30px;margin-top:100px}.form{margin-left:auto;margin-right:auto;width:100%;max-width:460px;border-radius:7px;transition:all .3s ease}.form .info-container{text-align:center;margin:20px auto}.form .submit-container .info{margin-top:15px}.form .fields-container > div{margin:20px 0;transition:all .3s ease}.form .fields-container > div > label{font-family:Arial,monospace}.form .fields-container > div > textarea,.form .fields-container > div > input[type=text],.form .fields-container > div > input[type=password],.form .fields-container > div > input[type=email],.form .fields-container > div display block{width:100%;padding:10px}.form .fields-container > div .info{margin:5px 0}.form > div{margin:30px 0}.form > div:last-child{margin-bottom:0}.form > div:first-child{margin-top:0}.form textarea{resize:vertical;transition:border-color .3s ease}.form input[type=button],.form input[type=submit]{background:linear-gradient(20deg,rgba(45,36,13,0.4) 0%,rgba(90,56,25,0.7) 50%,rgba(55,43,16,0.4) 100%) 50% 50% no-repeat;width:100%;padding:10px;text-align:center;border-color:#b08946;cursor:pointer;border:1px #b08946 solid;border-radius:3px;box-shadow:inset 0 0 0 transparent,5px 5px 10px rgba(0,0,0,0.333)}.form input[type=button]:hover,.form input[type=submit]:hover{box-shadow:inset 0 0 20px #c3a27f,0 0 10px #ffeba4}.form .form-info{opacity:0;transition:all .3s}.form.error .form-info,.form.success .form-info{opacity:1}.form.error,.form .error{color:#ff8e72}.form.error *,.form .error *{color:#ff8e72}.form.error textarea,.form .error textarea,.form.error input,.form .error input,.form.error .input-like,.form .error .input-like{border-color:#ff8e72}.form.success,.form .success{color:#c4ff72}.form.success *,.form .success *{color:#c4ff72}.form.success textarea,.form .success textarea,.form.success input,.form .success input,.form.success .input-like,.form .success .input-like{border-color:#c4ff72}.form.disabled input,.form.disabled .input-like{user-select:none;filter:saturate(0)}@media (max-width: 700px){.form{padding-left:10px;padding-right:10px}}",""]),e.exports=t},4265:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"",""]),e.exports=t},5217:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".markdown[data-v-1cd39c46]{position:relative}.markdown textarea[data-v-1cd39c46]{padding-top:25px}.markdown-panel[data-v-1cd39c46]{position:absolute;top:0;left:0;display:flex;overflow:hidden;box-shadow:3px 3px 5px #000;margin:0;border-radius:3px 0 3px 0;font-family:Arial;font-size:14px;height:20px;background:#29190c}.markdown-panel svg[data-v-1cd39c46]{fill:#f5e0d1;overflow:visible}.markdown-panel > div[data-v-1cd39c46]{cursor:pointer;text-align:center;margin:auto 0 auto 0;width:30px;height:100%;padding:2px 0 0 0;background:transparent;transition:background ease .2s;background-image:radial-gradient(1px 45% at 0% 50%,#110911,transparent),radial-gradient(1px 45% at 100% 50%,#110911,transparent)}.markdown-panel > div ._photo[data-v-1cd39c46]{stroke:#f5e0d1;stroke-width:1px;fill:transparent}.markdown-panel > div._italic[data-v-1cd39c46]{font-family:Cursive;padding-top:0}.markdown-panel > div[data-v-1cd39c46]:hover{background:#b8860b}.markdown-panel > div._bold[data-v-1cd39c46]{font-weight:bold}.markdown-panel > div._italic[data-v-1cd39c46]{font-style:italic}.markdown-panel > div._underscore[data-v-1cd39c46]{text-decoration:underline}.markdown-panel > div._strikethrough[data-v-1cd39c46]{text-decoration:line-through}",""]),e.exports=t},6629:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"._markdown_renderer{display:block;background:rgba(0,0,0,0.2);padding:20px;font-size:16px;font-family:Arial}code{font-family:monospace;background:#29190c;border-radius:2px}blockquote{border-left:2px #29190c solid;margin:5px 0;padding:0 0 0 10px;margin-inline-start:25px}ul{list-style-type:disc;margin:5px 0;padding-inline-start:40px}ul li::marker{color:#29190c}p{margin:5px 0}img{max-width:100%;margin:0}",""]),e.exports=t},9386:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".qr-generator[data-v-e7cdf28a]{overflow:hidden}.qr-image[data-v-e7cdf28a]{width:400px;max-height:400px;transition:filter .5s ease}.qr-image.invert[data-v-e7cdf28a]{filter:invert(1)}.qr-image.blured[data-v-e7cdf28a]{filter:blur(10px);overflow:hidden}.qr-image.invert.blured[data-v-e7cdf28a]{filter:invert(1) blur(10px)}.switch[data-v-e7cdf28a]{display:inline-block}.link[data-v-e7cdf28a]{word-break:break-all}.flex-container[data-v-e7cdf28a]{display:flex;flex-wrap:wrap}.container-bg[data-v-e7cdf28a]{background:rgba(0,0,0,0.267);box-shadow:0 0 10px rgba(0,0,0,0.267)}@media (max-width: 700px){.container-bg[data-v-e7cdf28a]{box-shadow:none}}.switch-container[data-v-e7cdf28a]{padding:10px 10px;padding-bottom:0;display:flex;border-radius:0 0 10px 10px;width:min-content}.switch-container .switch[data-v-e7cdf28a]{margin:0 10px}.range-container[data-v-e7cdf28a]{padding:10px;border-radius:0 10px 10px 0;width:100%;max-width:400px}.range-container .title[data-v-e7cdf28a]{display:block}.range-container .slider-container[data-v-e7cdf28a]{display:flex;flex-direction:column}.range-container .slider-container .slider[data-v-e7cdf28a]{all:unset;margin:10px;height:13px;max-width:300px;width:calc(100% - 10px);background:#29190c;outline:none;border-radius:15px;overflow:hidden;box-shadow:inset 0 0 5px #b8860b}@media (max-width: 700px){.range-container .slider-container .slider[data-v-e7cdf28a]{background:linear-gradient(170deg,#29190c,#473a31);box-shadow:none}}.range-container .slider-container .slider[data-v-e7cdf28a]::-webkit-slider-thumb{-webkit-appearance:none;width:15px;height:15px;border-radius:50%;background:#d4a740;cursor:pointer;border:4px solid #333;box-shadow:-305px 0 0 300px rgba(184,134,11,0.3)}.range-container .slider-container .range-labels[data-v-e7cdf28a]{max-width:300px;width:calc(100% - 10px);display:flex;flex-direction:row;justify-content:space-between}@media (min-width:560px){.range-container[data-v-e7cdf28a]{width:90px}.range-container .slider-container[data-v-e7cdf28a]{display:block;height:300px;flex-direction:row}.range-container .slider-container .slider[data-v-e7cdf28a]{transform:rotate(-90deg) translateX(-297px);transform-origin:left;min-width:300px}.range-container .slider-container .range-labels[data-v-e7cdf28a]{transform:translate(23px,-23px);flex-direction:column-reverse;width:unset;height:300px}}",""]),e.exports=t},9201:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"video[data-v-3d382764]{max-width:100%}",""]),e.exports=t},4241:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".quest-preview[data-v-92ee4662]{display:block;transition:all .2s ease;box-shadow:0 0 20px rgba(0,0,0,0.333);margin:20px;margin-bottom:0;width:100%;height:200px;max-width:400px;border-radius:7px;position:relative;overflow:hidden}.quest-preview .preview-image[data-v-92ee4662]{position:absolute;inset:0;object-fit:cover;width:100%;height:100%}.quest-preview .preview-image.default[data-v-92ee4662]{text-align:right;padding-right:20px;line-height:200px;font-size:100px;letter-spacing:10px;opacity:.8;color:#c1a691;background:#29190c;z-index:-1}.quest-preview .container[data-v-92ee4662]{padding:10px 20px;background:linear-gradient(100deg,#6c421e 0%,#744921 40%,rgba(90,56,25,0.9) 60%,transparent 100%) no-repeat;background-size:150%;background-position-x:80%;transition:all .5s cubic-bezier(.2,.65,.11,.99);width:100%;height:100%;position:relative}.quest-preview .container .edit[data-v-92ee4662]{width:40px;position:absolute;right:10px;top:10px;transition:all .2s ease;opacity:.8}.quest-preview .container .edit[data-v-92ee4662]:hover{transform:scale(1.1);opacity:1}.quest-preview .container .text-container[data-v-92ee4662]{max-height:75px;height:100%;min-height:60px;overflow:hidden}.quest-preview .container .text-container .title img[data-v-92ee4662]{width:30px}.quest-preview .container .text-container .description[data-v-92ee4662]{overflow:hidden;text-overflow:ellipsis}.quest-preview .container .statistics[data-v-92ee4662]{display:flex;margin-bottom:5px}.quest-preview .container .statistics .rating[data-v-92ee4662],.quest-preview .container .statistics .time[data-v-92ee4662]{display:flex;align-items:center;font-size:15px;margin-right:20px}.quest-preview .container .statistics .rating img[data-v-92ee4662],.quest-preview .container .statistics .time img[data-v-92ee4662]{width:40px}.quest-preview .container .statistics .rating[data-v-92ee4662]{font-size:25px}.quest-preview .container .statistics .rating.good[data-v-92ee4662]{color:#a9ff5b}.quest-preview .container .statistics .rating.bad[data-v-92ee4662]{color:#ff7963}.quest-preview .container .branches[data-v-92ee4662]{position:absolute;bottom:0;left:0;right:0}.quest-preview[data-v-92ee4662]:hover{box-shadow:10px 10px 20px rgba(0,0,0,0.267)}.quest-preview:hover .container[data-v-92ee4662]{background-position-x:0}.main-info[data-v-92ee4662]{transition:all .2s ease;z-index:-1}.container.inactive .main-info[data-v-92ee4662]{filter:blur(5px)}.container[data-v-92ee4662]:before{content:'';position:absolute;inset:0;transition:all .2s ease;z-index:1}.container.inactive[data-v-92ee4662]:before{background:rgba(0,0,0,0.6)}.container *[data-v-92ee4662]{z-index:2}.author-fields[data-v-92ee4662]{display:flex;align-items:center}.author-fields img[data-v-92ee4662]{height:17px;margin-right:3px}.author-fields span[data-v-92ee4662]{transition:all .3s ease;color:#c1a691}.author-fields:hover span[data-v-92ee4662]{color:#f5e0d1}",""]),e.exports=t},8261:(e,t,n)=>{var i=n(3645),r=n(1667),s=n(9489);t=i(!1);var a=r(s);t.push([e.id,"@font-face{font-family:GothicE;src:url("+a+")}.navbar[data-v-589bcc29]{font-family:monospace;font-size:16px;width:80%;height:60px;margin:0 auto 10px auto;border-bottom-left-radius:100px 60px;border-bottom-right-radius:100px 60px;overflow:hidden;background:linear-gradient(25deg,#070505 10%,#543616 50%,#070505 100%);animation:open-navbar-589bcc29 3s ease forwards;position:relative}.navbar a[data-v-589bcc29]{letter-spacing:2px;color:#c1a691;text-transform:uppercase;transition:all .4s ease;text-shadow:none}.navbar a[data-v-589bcc29]:hover{letter-spacing:5px;color:#e5cdb1;padding-left:15px;padding-right:15px;text-shadow:0 0 50px #f5f0f0,0 0 30px #f54da1,0 0 40px #f54da1,0 0 50px #f54da1,0 0 60px #f54da1}@media (max-width: 700px){.navbar a[data-v-589bcc29]:hover{text-shadow:none}}.navbar a[data-v-589bcc29]{text-decoration:none}.navbar .side-item[data-v-589bcc29]{padding:5px 10px;position:absolute;top:0}.navbar .side-item *[data-v-589bcc29]{pointer-events:none;padding:0 5px}.navbar .side-item img[data-v-589bcc29]{width:16px;height:16px}.navbar .side-item.left[data-v-589bcc29]{background:linear-gradient(90deg, rgba(184, 134, 11, 0.3) 30%, rgba(218, 165, 32, 0) 100%) 0 100% no-repeat;background-size:100% 1px;left:0}.navbar .side-item.right[data-v-589bcc29]{background:linear-gradient(-90deg, rgba(184, 134, 11, 0.3) 30%, rgba(218, 165, 32, 0) 100%) 0 100% no-repeat;background-size:100% 1px;right:0}.navbar .bottom[data-v-589bcc29]{margin-top:5px;left:0;width:100%}.navbar .progress[data-v-589bcc29]{margin-top:-5px;font-size:30px;font-family:GothicE;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:radial-gradient(rgba(245,77,161,0.6),transparent 70%)}.navbar .progress .progress-container[data-v-589bcc29]{display:flex;align-items:center;flex-direction:column}.navbar .progress .progress-container .info[data-v-589bcc29]{display:block;max-height:0;text-align:center;overflow-y:hidden;transition:all .3s ease}.navbar .progress:hover .progress-container .info[data-v-589bcc29]{max-height:20px}.navbar .progressbar[data-v-589bcc29]{position:absolute;bottom:10px;width:100%;height:5px;background:linear-gradient(90deg,rgba(218,165,32,0.7) 50%,rgba(0,0,0,0.5) 53%) 0 0 no-repeat;background-position-x:calc(100% - 100% * var(--progress));background-size:200%;border:rgba(167,131,49,0.3) 1px solid;transition:background-position-x ease 3s}@media (max-width: 700px){.navbar linkbutton[data-v-589bcc29]{font-size:20px}.progressbar[data-v-589bcc29]{transition:background-size .3s ease !important}}.opacity-in[data-v-589bcc29]{opacity:0;animation:opacity-in-589bcc29 2s ease-in forwards}.opacity-in.delayedBig[data-v-589bcc29]{animation-delay:1s}.opacity-in.delayedSmall[data-v-589bcc29]{animation-delay:.5s}.avatar[data-v-589bcc29]{display:none}@-moz-keyframes opacity-in-589bcc29{from{opacity:0}to{opacity:1}}@-webkit-keyframes opacity-in-589bcc29{from{opacity:0}to{opacity:1}}@-o-keyframes opacity-in-589bcc29{from{opacity:0}to{opacity:1}}@keyframes opacity-in-589bcc29{from{opacity:0}to{opacity:1}}@-moz-keyframes open-navbar-589bcc29{from{width:0;border-bottom-left-radius:200px 100px;border-bottom-right-radius:200px 100px}to{width:80%;border-bottom-left-radius:100px 60px;border-bottom-right-radius:100px 60px}}@-webkit-keyframes open-navbar-589bcc29{from{width:0;border-bottom-left-radius:200px 100px;border-bottom-right-radius:200px 100px}to{width:80%;border-bottom-left-radius:100px 60px;border-bottom-right-radius:100px 60px}}@-o-keyframes open-navbar-589bcc29{from{width:0;border-bottom-left-radius:200px 100px;border-bottom-right-radius:200px 100px}to{width:80%;border-bottom-left-radius:100px 60px;border-bottom-right-radius:100px 60px}}@keyframes open-navbar-589bcc29{from{width:0;border-bottom-left-radius:200px 100px;border-bottom-right-radius:200px 100px}to{width:80%;border-bottom-left-radius:100px 60px;border-bottom-right-radius:100px 60px}}",""]),e.exports=t},9324:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".title-container[data-v-060e5115]{margin:50px 0 20px 0;width:100%;display:flex;align-content:stretch;justify-content:center;transition:all .3s ease;box-shadow:0 10px 10px 0 #000}.title-container > *[data-v-060e5115]{width:100%;padding:20px;transition:all .3s ease;text-shadow:0 0 3px #a29a97;color:#f5e0d1}@media (max-width: 700px){.title-container > *[data-v-060e5115]{padding:10px}}.title-container > * > .text-small[data-v-060e5115],.title-container > * > .text-big[data-v-060e5115],.title-container > * > .text-big-x[data-v-060e5115],.title-container > * > .text-middle[data-v-060e5115],.title-container > * > .text-small-x[data-v-060e5115]{transition:inherit;transition-delay:20ms}.title-container.bg[data-v-060e5115]{background:linear-gradient(160deg,#3b2516,#1f1313) no-repeat}.title-container.clickable.low-opacity > *[data-v-060e5115]{opacity:.5}.title-container.clickable > *[data-v-060e5115]{cursor:pointer;opacity:.8;background:linear-gradient(160deg,#3b2516,#1f1313) no-repeat;border-bottom:transparent 2px solid}.title-container.clickable > *[data-v-060e5115]:hover{width:150%;color:#f5e0d1;letter-spacing:2px;transition:all .3s ease;text-shadow:0 0 50px #f5f0f0,0 0 10px #eaacbf,0 0 15px #eaa093;opacity:1;border-bottom:#b8860b 2px solid}.title-container.clickable > *[data-v-060e5115]{display:flex;align-content:center;align-items:center;justify-content:center}.title-container.clickable > *[data-v-060e5115]:last-child{justify-content:flex-end;background:linear-gradient(320deg, rgba(188,116,39, 0.3) 0%, rgba(31,26,9,0.2) 100%) no-repeat;border-right:none}.title-container.clickable > *[data-v-060e5115]:first-child{justify-content:flex-start;background:linear-gradient(160deg, rgba(188,116,39, 0.3) 0%, rgba(31,26,9,0.2) 100%) no-repeat}.title-container.clickable span[data-v-060e5115]{display:inline-block}.no-link[data-v-060e5115]{cursor:default}",""]),e.exports=t},4147:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".circle-loading[data-v-0837623a]{margin-left:auto;margin-right:auto}.lds-default[data-v-0837623a]{display:inline-block;position:relative;width:100%;height:100%}.lds-default div[data-v-0837623a]{position:absolute;width:7%;height:7%;background:#fff;border-radius:50%;animation:lds-default-0837623a 1.2s linear infinite}.lds-default div[data-v-0837623a]:nth-child(1){animation-delay:0s;top:46.25%;left:82.5%}.lds-default div[data-v-0837623a]:nth-child(2){animation-delay:-.1s;top:27.5%;left:77.5%}.lds-default div[data-v-0837623a]:nth-child(3){animation-delay:-.2s;top:13.75%;left:65%}.lds-default div[data-v-0837623a]:nth-child(4){animation-delay:-.3s;top:8.75%;left:46.25%}.lds-default div[data-v-0837623a]:nth-child(5){animation-delay:-.4s;top:13.75%;left:27.5%}.lds-default div[data-v-0837623a]:nth-child(6){animation-delay:-.5s;top:27.5%;left:13.75%}.lds-default div[data-v-0837623a]:nth-child(7){animation-delay:-.6s;top:46.25%;left:8.75%}.lds-default div[data-v-0837623a]:nth-child(8){animation-delay:-.7s;top:65%;left:13.75%}.lds-default div[data-v-0837623a]:nth-child(9){animation-delay:-.8s;top:77.5%;left:27.5%}.lds-default div[data-v-0837623a]:nth-child(10){animation-delay:-.9s;top:82.5%;left:46.25%}.lds-default div[data-v-0837623a]:nth-child(11){animation-delay:-1s;top:77.5%;left:65%}.lds-default div[data-v-0837623a]:nth-child(12){animation-delay:-1.1s;top:65%;left:77.5%}@-moz-keyframes lds-default-0837623a{0%,20%,80%,100%{transform:scale(1);opacity:.05}50%{transform:scale(1.5);opacity:1}}@-webkit-keyframes lds-default-0837623a{0%,20%,80%,100%{transform:scale(1);opacity:.05}50%{transform:scale(1.5);opacity:1}}@-o-keyframes lds-default-0837623a{0%,20%,80%,100%{transform:scale(1);opacity:.05}50%{transform:scale(1.5);opacity:1}}@keyframes lds-default-0837623a{0%,20%,80%,100%{transform:scale(1);opacity:.05}50%{transform:scale(1.5);opacity:1}}",""]),e.exports=t},203:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".modal[data-v-ed7b41d8]{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:999}.modal .modal-background[data-v-ed7b41d8]{position:fixed;left:0;top:0;width:100%;height:100vh;background-color:rgba(0,0,0,0.667)}.modal .form[data-v-ed7b41d8]{position:relative}.modal .form .confirm-button[data-v-ed7b41d8]{width:45%;display:inline-block;margin-left:2.5%;margin-right:2.5%}.modal .form .close-btn[data-v-ed7b41d8]{position:absolute;color:#e5cdb1;text-shadow:#e5cdb1;right:20px;top:10px;width:20px;height:20px;transition:all .2s ease;cursor:pointer}.modal .form .close-btn[data-v-ed7b41d8]:hover{color:#f5e0d1;text-shadow:#f5e0d1;transform:scale(1.1)}",""]),e.exports=t},324:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".popup-messages{position:fixed;top:15px;right:15px;width:225px;z-index:1000;font-family:Arial}.popup-messages .popup-message{box-sizing:content-box;overflow:hidden;margin-bottom:15px;padding:10px;border-radius:2px;color:#f5e0d1;opacity:1}.popup-messages .popup-message .title{padding-bottom:5px}.popup-messages .popup-message{background-color:#28a745;border-left:5px solid #218838}.popup-messages .popup-message.error{background-color:#e54d42;border-left-color:#b82e24}.popup-messages .popup-message.alert{background-color:#d9d23f;border-left-color:#b89f24}.popup-messages .popup-message._transitionOpacity{transition:opacity 1s ease;opacity:.3}.popup-messages .popup-message._transitionHeight{transition:all .3s ease;height:0;padding:0;margin:0;opacity:0}",""]),e.exports=t},6271:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".flex-root .side-item[data-v-7c59f0ce]{padding:20px;margin-bottom:30px}.flex-root .side-item ul[data-v-7c59f0ce]{margin:0;padding-left:25px}.flex-root .side-item.left[data-v-7c59f0ce]{background:linear-gradient(90deg, rgba(184, 134, 11, 0.3) 30%, rgba(218, 165, 32, 0) 100%) 0 100% no-repeat;background-size:100% 1px;left:0;text-align:left}.flex-root .side-item.right[data-v-7c59f0ce]{background:linear-gradient(-90deg, rgba(184, 134, 11, 0.3) 30%, rgba(218, 165, 32, 0) 100%) 0 100% no-repeat;background-size:100% 1px;right:0;text-align:right}.flex-root .side-item.right .text-big-xx[data-v-7c59f0ce]{font-size:30px}.flex-root .register-button[data-v-7c59f0ce]{width:fit-content;background:linear-gradient(90deg,rgba(71,56,20,0.4) 0%,rgba(84,69,25,0.7) 100%) 50% 50% no-repeat;margin-top:20px;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto}.about-page[data-v-7c59f0ce]{text-align:center}",""]),e.exports=t},372:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".form-fullwidth[data-v-c491216a]{margin-top:0;max-width:unset}textarea[data-v-c491216a]{white-space:pre-wrap}",""]),e.exports=t},7635:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".form-fullwidth[data-v-33acbb0e]{margin-top:0;max-width:unset}",""]),e.exports=t},1524:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".form-fullwidth[data-v-90eba14a]{margin-top:0;max-width:unset}textarea[data-v-90eba14a]{white-space:pre-wrap}",""]),e.exports=t},5771:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".quest-container[data-v-72b70446]{width:100%;padding:20px;padding-bottom:40px;padding-top:0;display:flex;flex-wrap:wrap;justify-content:space-evenly}.float-button[data-v-72b70446]{z-index:10}",""]),e.exports=t},4808:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".form[data-v-3bb8cb8b]{margin-top:20px;padding:20px}.top-buttons[data-v-3bb8cb8b]{margin-bottom:0}.description[data-v-3bb8cb8b]{padding:20px;font-size:16px;color:#e5cdb1;font-family:Arial;border-bottom:#5b3509 1px solid}.restart-button > *[data-v-3bb8cb8b]{text-align:left}.qr-form[data-v-3bb8cb8b]{background:linear-gradient(20deg,rgba(84,67,24,0) 0%,#583a18 50%,rgba(84,67,24,0) 100%) 50% 50% no-repeat;box-shadow:0 0 10px 0 rgba(162,116,14,0.7),0 0 15px 0 rgba(34,28,4,0.4) inset;padding:40px 30px;margin-top:100px;margin-left:auto;margin-right:auto;width:100%;max-width:460px;border-radius:7px;transition:all .3s ease}.qr-form input[data-v-3bb8cb8b]{all:unset;color:#f5e0d1;box-sizing:border-box;font-family:Arial;padding:10px;font-size:1rem;margin-top:20px;border:1px solid rgba(0,0,0,0.267);border-bottom:1px solid border-color;transition:all .2s ease;border-radius:3px;background:linear-gradient(20deg,rgba(45,36,13,0.4) 0%,rgba(62,39,17,0.6) 50%,rgba(38,30,11,0.4) 100%) 50% 50% no-repeat;box-shadow:input-box-shadow;background:linear-gradient(20deg,rgba(45,36,13,0.4) 0%,rgba(90,56,25,0.7) 50%,rgba(55,43,16,0.4) 100%) 50% 50% no-repeat;width:100%;text-align:center;border-color:#b08946;cursor:pointer}.qr-form input[data-v-3bb8cb8b]:hover{box-shadow:inset 0 0 20px #c3a27f,0 0 15px #ffeba4}.congratulations[data-v-3bb8cb8b]{text-align:center}.congratulations .buttons[data-v-3bb8cb8b]{text-align:left}.stats .stats-container[data-v-3bb8cb8b]{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.stats .stats-container > *[data-v-3bb8cb8b]{margin:0 5px}.stats .stats-container img[data-v-3bb8cb8b]{width:30px}.stats .stars[data-v-3bb8cb8b]{flex-direction:row-reverse}.stats .stars img[data-v-3bb8cb8b]{cursor:pointer;transition:all .3s ease}.stats .stars img.checked[data-v-3bb8cb8b]{transform:scale(1.2)}.stats .stars img[data-v-3bb8cb8b]:hover{transform:scale(1.3)}.stats .stars img:hover ~ img[data-v-3bb8cb8b],.stats .stars img[data-v-3bb8cb8b]:hover,.stats .stars img:focus ~ img[data-v-3bb8cb8b],.stats .stars img.checked[data-v-3bb8cb8b]{color:#d62a9d;filter:saturate(5)}.stats .stars img.checked + img[data-v-3bb8cb8b]{animation:scaleup-3bb8cb8b .5s}@-moz-keyframes scaleup-3bb8cb8b{from{transform:scale(1.4);color:#600040}to{transform:scale(1.3);color:#d62a9d}}@-webkit-keyframes scaleup-3bb8cb8b{from{transform:scale(1.4);color:#600040}to{transform:scale(1.3);color:#d62a9d}}@-o-keyframes scaleup-3bb8cb8b{from{transform:scale(1.4);color:#600040}to{transform:scale(1.3);color:#d62a9d}}@keyframes scaleup-3bb8cb8b{from{transform:scale(1.4);color:#600040}to{transform:scale(1.3);color:#d62a9d}}",""]),e.exports=t},1404:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".quest-preview[data-v-33b14396]{background:linear-gradient(20deg,rgba(90,56,25,0.9) 0%,rgba(55,43,16,0.5) 100%) 50% 50% no-repeat;border-bottom:#b08946 1px solid;display:block;transition:all .2s ease;margin-bottom:0;position:relative;overflow:hidden}.quest-preview .preview-image[data-v-33b14396]{position:absolute;inset:0;object-fit:cover;width:100%;height:100%}.quest-preview .preview-image.default[data-v-33b14396]{text-align:right;padding-right:20px;font-size:100px;letter-spacing:10px;opacity:.8;color:#c1a691;background:#29190c;z-index:-1}.quest-preview .container[data-v-33b14396]{padding:10px 20px;background:linear-gradient(100deg,rgba(116,73,33,0.8) 0%,rgba(90,56,25,0.5) 40%,transparent 80%) no-repeat;background-size:150%;background-position-x:100%;transition:all .2s ease;width:100%;height:100%;position:relative}.quest-preview .container .title img[data-v-33b14396]{width:30px}.quest-preview .container .statistics[data-v-33b14396]{display:flex;margin:10px 0}.quest-preview .container .statistics .rating[data-v-33b14396],.quest-preview .container .statistics .time[data-v-33b14396]{display:flex;align-items:center;font-size:17px;margin-right:20px}.quest-preview .container .statistics .rating img[data-v-33b14396],.quest-preview .container .statistics .time img[data-v-33b14396]{width:45px}.quest-preview .container .statistics .rating[data-v-33b14396]{font-size:30px}.quest-preview .container .statistics .rating.good[data-v-33b14396]{color:#a9ff5b}.quest-preview .container .statistics .rating.bad[data-v-33b14396]{color:#ff7963}.quest-preview .container .author[data-v-33b14396]{margin-bottom:30px}.quest-preview .container .description[data-v-33b14396]{background:none;padding:0}.quest-preview .container .branches[data-v-33b14396]{z-index:10;margin-top:20px;margin-left:-20px;margin-bottom:-10px;width:calc(100% + 40px)}.main-info[data-v-33b14396]{transition:all .2s ease;z-index:-1}.container.inactive .main-info[data-v-33b14396]{filter:blur(5px)}.container[data-v-33b14396]:before{content:'';position:absolute;inset:0;transition:all .2s ease;z-index:1;pointer-events:none}.container.inactive[data-v-33b14396]:before{background:rgba(0,0,0,0.6)}.container *[data-v-33b14396]{z-index:2}",""]),e.exports=t},675:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".form-fullwidth[data-v-40fe7dc5]{margin-top:0;max-width:unset}.link-fields[data-v-40fe7dc5]{position:relative}.link-button[data-v-40fe7dc5]{padding:4px 4px 0 3px;border-radius:5px;position:absolute;right:10px;top:0}.link-button .link-image[data-v-40fe7dc5]{width:20px;height:20px}.qr[data-v-40fe7dc5]{max-width:500px;max-height:500px}.quest-link[data-v-40fe7dc5]{padding-right:30px;margin-left:20px;word-break:break-all}",""]),e.exports=t},6103:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".form-fullwidth[data-v-4067976a]{margin-top:0;max-width:unset}.link-fields[data-v-4067976a]{position:relative}.link-button[data-v-4067976a]{padding:4px 4px 0 3px;border-radius:5px;position:absolute;right:10px;top:0}.link-button .link-image[data-v-4067976a]{width:20px;height:20px}.qr[data-v-4067976a]{max-width:500px;max-height:500px}.quest-link[data-v-4067976a]{padding-right:30px;margin-left:20px;word-break:break-all}.image-fields .flex-container[data-v-4067976a]{display:flex;align-items:center}.image-fields .flex-container .image-container[data-v-4067976a]{width:400px;height:200px;position:relative;border-radius:10px;border:#ab9a86 1px solid;overflow:hidden}.image-fields .flex-container .image-container .preview-image[data-v-4067976a]{position:absolute;inset:0;object-fit:cover;width:100%;height:100%}.image-fields .flex-container .image-container .preview-image.default[data-v-4067976a]{text-align:right;padding-right:20px;font-size:100px;letter-spacing:10px;opacity:.8;color:#c1a691;background:rgba(41,25,12,0.5)}.image-fields .flex-container .image-container[data-v-4067976a]::before{content:'Изменить';font-family:Arial;padding-left:20px;font-size:20px;text-align:center;display:flex;align-items:center;position:absolute;inset:0;background:rgba(0,0,0,0.667);z-index:1;opacity:0;transition:opacity .3s ease;cursor:pointer}.image-fields .flex-container .image-container[data-v-4067976a]:hover::before{opacity:1}.image-fields .flex-container .delete-button[data-v-4067976a]{padding:5px;margin:10px}.image-fields .flex-container .delete-button img[data-v-4067976a]{width:40px}",""]),e.exports=t},989:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".quest-container[data-v-7977445a]{width:100%;padding:20px;padding-bottom:40px;padding-top:0;display:flex;flex-wrap:wrap;justify-content:space-evenly}.float-button[data-v-7977445a]{z-index:10}",""]),e.exports=t},5985:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"",""]),e.exports=t},564:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".form-fullwidth[data-v-784082bb]{margin-top:0;max-width:unset}.qr-gen[data-v-784082bb]{margin:10px 0}.flex-string[data-v-784082bb]{display:flex;justify-content:space-between}.flex-string input[type=button][data-v-784082bb]{flex:.45;padding:7px}.save-button[data-v-784082bb]{margin-bottom:10px}",""]),e.exports=t},2670:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"hr[data-v-e0eed6fe]{margin:0}.profile-plate[data-v-e0eed6fe]{padding:5px 30px 30px 30px;border-radius:150px 150px 10px 10px/100px 100px 10px 10px}.profile-plate .info-container .top-container[data-v-e0eed6fe]{display:flex;justify-content:space-between;align-items:flex-end;width:100%;text-align:center}.profile-plate .info-container .rating[data-v-e0eed6fe],.profile-plate .info-container .position[data-v-e0eed6fe]{flex:1;font-size:30px}.profile-plate .info-container .username[data-v-e0eed6fe]{margin-top:20px;padding:5px;padding-top:2px}.profile-plate .quest-statistics[data-v-e0eed6fe]{padding:10px;background:rgba(0,0,0,0.2)}.profile-plate .quest-statistics .quest[data-v-e0eed6fe]{height:30px;line-height:30px}.logout[data-v-e0eed6fe]{width:100%}.another-user-info[data-v-e0eed6fe]{margin-top:5px}.now-playing[data-v-e0eed6fe]{margin-top:5px}.admin-button[data-v-e0eed6fe]{margin:30px auto;width:30%;min-width:300px;display:block}.avatar[data-v-e0eed6fe],.avatar-div[data-v-e0eed6fe]{width:80px;height:80px;border:rgba(229,205,177,0.5) 1px solid;border-radius:50%;position:relative;overflow:hidden}.avatar-container[data-v-e0eed6fe]{position:relative}.avatar-container .delete-avatar[data-v-e0eed6fe]{position:absolute;right:-40px;top:20px;cursor:pointer;transition:all .2s ease;width:40px;opacity:0;pointer-events:none}.avatar-container .delete-avatar[data-v-e0eed6fe]:hover{transform:scale(1.1)}.avatar-container:hover .delete-avatar[data-v-e0eed6fe]{opacity:1;pointer-events:auto}.avatar-container .avatar-div[data-v-e0eed6fe]::before{content:'Изменить';font-family:Arial;padding-left:5px;font-size:15px;text-align:center;display:flex;align-items:center;position:absolute;inset:0;background:rgba(0,0,0,0.667);z-index:1;opacity:0;transition:opacity .3s ease;cursor:pointer}.avatar-container .avatar-div[data-v-e0eed6fe]:hover::before{opacity:1}",""]),e.exports=t},1284:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".form .logo{width:140px;margin-bottom:20px}",""]),e.exports=t},8697:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".loading[data-v-3c37c27c]{margin-left:auto;margin-right:auto}",""]),e.exports=t},8470:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"\n.fade-enter-active[data-v-1b8755e2],\r\n.fade-leave-active[data-v-1b8755e2] {\r\n  transition: opacity 0.2s ease;\n}\n.fade-enter-from[data-v-1b8755e2],\r\n.fade-leave-to[data-v-1b8755e2] {\r\n  opacity: 0;\n}\n.slide-left-enter-active[data-v-1b8755e2],\r\n.slide-left-leave-active[data-v-1b8755e2] {\r\n  transition: all 0.4s ease;\n}\n.slide-left-enter-to[data-v-1b8755e2] {\r\n  left: 0;\n}\n.slide-left-enter-from[data-v-1b8755e2] {\r\n  left: -100%;\n}\n.slide-left-leave-to[data-v-1b8755e2] {\r\n  left: -100%;\r\n  transform: scale(0.8);\n}\n.slide-left-leave-from[data-v-1b8755e2] {\r\n  left: 0;\n}\n.slide-right-enter-active[data-v-1b8755e2],\r\n.slide-right-leave-active[data-v-1b8755e2] {\r\n  transition: all 0.4s ease;\n}\n.slide-right-enter-to[data-v-1b8755e2] {\r\n  left: 0;\n}\n.slide-right-enter-from[data-v-1b8755e2] {\r\n  left: -100%;\n}\n.slide-right-leave-to[data-v-1b8755e2] {\r\n  right: -100%;\r\n  transform: scale(0.5);\n}\n.slide-right-leave-from[data-v-1b8755e2] {\r\n  right: 0;\n}\n.scale-slide-left-enter-active[data-v-1b8755e2],\r\n.scale-slide-left-leave-active[data-v-1b8755e2] {\r\n  transition: all 0.3s ease;\n}\n.scale-slide-left-enter-from[data-v-1b8755e2] {\r\n  left: -30%;\r\n  opacity: 0;\n}\n.scale-slide-left-enter-to[data-v-1b8755e2] {\r\n  left: 0%;\r\n  opacity: 1;\n}\n.scale-slide-left-leave-from[data-v-1b8755e2] {\r\n  transform: scale(1);\n}\n.scale-slide-left-leave-to[data-v-1b8755e2] {\r\n  transform: scale(0.8);\r\n  opacity: 0;\n}\n.scale-slide-right-enter-active[data-v-1b8755e2],\r\n.scale-slide-right-leave-active[data-v-1b8755e2] {\r\n  transition: all 0.4s ease;\n}\n.scale-slide-right-enter-from[data-v-1b8755e2] {\r\n  right: -30%;\r\n  opacity: 0;\n}\n.scale-slide-right-enter-to[data-v-1b8755e2] {\r\n  right: 0%;\r\n  opacity: 1;\n}\n.scale-slide-right-leave-from[data-v-1b8755e2] {\r\n  transform: scale(1);\n}\n.scale-slide-right-leave-to[data-v-1b8755e2] {\r\n  transform: scale(0.8);\r\n  opacity: 0;\n}\n.scale-in-enter-active[data-v-1b8755e2],\r\n.scale-in-leave-active[data-v-1b8755e2] {\r\n  transition: all 0.3s ease;\n}\n.scale-in-enter-from[data-v-1b8755e2] {\r\n  transform: scale(1.2);\r\n  opacity: 0;\n}\n.scale-in-enter-to[data-v-1b8755e2] {\r\n  transform: scale(1);\r\n  opacity: 1;\n}\n.scale-in-leave-from[data-v-1b8755e2] {\r\n  transform: scale(1);\r\n  opacity: 1;\n}\n.scale-in-leave-to[data-v-1b8755e2] {\r\n  transform: scale(0.8);\r\n  opacity: 0;\n}\r\n",""]),e.exports=t},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i,r,s=e[1]||"",a=e[3];if(!a)return s;if(t&&"function"==typeof btoa){var o=(n=a,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[s].concat(l).concat([o]).join("\n")}return[s].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},9489:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=n.p+"squest/c523cf738528ed1281c004a948a238c8.ttf"},3829:(e,t,n)=>{var i=n(3379),r=n(3412);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},6615:(e,t,n)=>{var i=n(3379),r=n(8823);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},2983:(e,t,n)=>{var i=n(3379),r=n(6486);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},1713:(e,t,n)=>{var i=n(3379),r=n(1360);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},7958:(e,t,n)=>{var i=n(3379),r=n(7816);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},3575:(e,t,n)=>{var i=n(3379),r=n(2601);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},4712:(e,t,n)=>{var i=n(3379),r=n(8111);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},1923:(e,t,n)=>{var i=n(3379),r=n(9239);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},2843:(e,t,n)=>{var i=n(3379),r=n(8655);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},9541:(e,t,n)=>{var i=n(3379),r=n(2936);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},7905:(e,t,n)=>{var i=n(3379),r=n(1002);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},3742:(e,t,n)=>{var i=n(3379),r=n(9926);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},4357:(e,t,n)=>{var i=n(3379),r=n(197);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},2171:(e,t,n)=>{var i=n(3379),r=n(1987);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},1328:(e,t,n)=>{var i=n(3379),r=n(4265);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},9945:(e,t,n)=>{var i=n(3379),r=n(5217);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},5738:(e,t,n)=>{var i=n(3379),r=n(6629);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},3202:(e,t,n)=>{var i=n(3379),r=n(9386);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},1185:(e,t,n)=>{var i=n(3379),r=n(9201);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},360:(e,t,n)=>{var i=n(3379),r=n(4241);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},7002:(e,t,n)=>{var i=n(3379),r=n(8261);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},3252:(e,t,n)=>{var i=n(3379),r=n(9324);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},8681:(e,t,n)=>{var i=n(3379),r=n(4147);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},242:(e,t,n)=>{var i=n(3379),r=n(203);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},3724:(e,t,n)=>{var i=n(3379),r=n(324);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},345:(e,t,n)=>{var i=n(3379),r=n(6271);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},6379:(e,t,n)=>{var i=n(3379),r=n(372);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},5363:(e,t,n)=>{var i=n(3379),r=n(7635);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},682:(e,t,n)=>{var i=n(3379),r=n(1524);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},9895:(e,t,n)=>{var i=n(3379),r=n(5771);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},9462:(e,t,n)=>{var i=n(3379),r=n(4808);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},7084:(e,t,n)=>{var i=n(3379),r=n(1404);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},8142:(e,t,n)=>{var i=n(3379),r=n(675);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},507:(e,t,n)=>{var i=n(3379),r=n(6103);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},8519:(e,t,n)=>{var i=n(3379),r=n(989);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},6985:(e,t,n)=>{var i=n(3379),r=n(5985);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},2170:(e,t,n)=>{var i=n(3379),r=n(564);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},7405:(e,t,n)=>{var i=n(3379),r=n(2670);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},7417:(e,t,n)=>{var i=n(3379),r=n(1284);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},9503:(e,t,n)=>{var i=n(3379),r=n(8697);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},6874:(e,t,n)=>{var i=n(3379),r=n(8470);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},3379:(e,t,n)=>{"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function o(e,t){for(var n={},i=[],r=0;r<e.length;r++){var o=e[r],l=t.base?o[0]+t.base:o[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var u=a(d),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(s[u].references++,s[u].updater(p)):s.push({identifier:d,updater:g(p,t),references:1}),i.push(d)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function p(e,t,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,f=0;function g(e,t){var n,i,r;if(t.singleton){var s=f++;n=h||(h=l(t)),i=u.bind(null,n,s,!1),r=u.bind(null,n,s,!0)}else n=l(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=a(n[i]);s[r].references--}for(var l=o(e,t),c=0;c<n.length;c++){var d=a(n[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}n=l}}}},3744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,i]of t)n[e]=i;return n}}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={id:e,exports:{}};return n[e](s,s.exports,r),s.exports}r.m=n,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"squest/"+e+".bundle.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="squest_frontend:",r.l=(n,i,s,a)=>{if(e[n])e[n].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[i];var p=(t,i)=>{o.onerror=o.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(i))),t)return t(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={179:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=s);var a=r.p+r.u(t),o=new Error;r.l(a,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,s,[a,o,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);l&&l(r)}for(t&&t(n);c<a.length;c++)s=a[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunksquest_frontend=self.webpackChunksquest_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0,(()=>{"use strict";function e(e,t){const n=Object.create(null),i=e.split(",");for(let e=0;e<i.length;e++)n[i[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function n(e){return!!e||""===e}function i(e){if($(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=A(r)?l(r):i(r);if(s)for(const e in s)t[e]=s[e]}return t}return A(e)||I(e)?e:void 0}const a=/;(?![^(]*\))/g,o=/:(.+)/;function l(e){const t={};return e.split(a).forEach((e=>{if(e){const n=e.split(o);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function c(e){let t="";if(A(e))t=e;else if($(e))for(let n=0;n<e.length;n++){const i=c(e[n]);i&&(t+=i+" ")}else if(I(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function d(e){if(!e)return null;let{class:t,style:n}=e;return t&&!A(t)&&(e.class=c(t)),n&&(e.style=i(n)),e}const u=e=>A(e)?e:null==e?"":$(e)||I(e)&&(e.toString===q||!E(e.toString))?JSON.stringify(e,p,2):String(e),p=(e,t)=>t&&t.__v_isRef?p(e,t.value):C(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:S(t)?{[`Set(${t.size})`]:[...t.values()]}:!I(t)||$(t)||R(t)?t:String(t),h={},f=[],g=()=>{},m=()=>!1,v=/^on[^a-z]/,b=e=>v.test(e),x=e=>e.startsWith("onUpdate:"),y=Object.assign,w=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},k=Object.prototype.hasOwnProperty,_=(e,t)=>k.call(e,t),$=Array.isArray,C=e=>"[object Map]"===O(e),S=e=>"[object Set]"===O(e),E=e=>"function"==typeof e,A=e=>"string"==typeof e,T=e=>"symbol"==typeof e,I=e=>null!==e&&"object"==typeof e,L=e=>I(e)&&E(e.then)&&E(e.catch),q=Object.prototype.toString,O=e=>q.call(e),R=e=>"[object Object]"===O(e),M=e=>A(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,B=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),P=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},z=/-(\w)/g,V=P((e=>e.replace(z,((e,t)=>t?t.toUpperCase():"")))),F=/\B([A-Z])/g,j=P((e=>e.replace(F,"-$1").toLowerCase())),D=P((e=>e.charAt(0).toUpperCase()+e.slice(1))),U=P((e=>e?`on${D(e)}`:"")),N=(e,t)=>!Object.is(e,t),Q=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},H=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},G=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Z,W;class K{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&W&&(this.parent=W,this.index=(W.scopes||(W.scopes=[])).push(this)-1)}run(e){if(this.active){const t=W;try{return W=this,e()}finally{W=t}}}on(){W=this}off(){W=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const Y=e=>{const t=new Set(e);return t.w=0,t.n=0,t},X=e=>(e.w&ie)>0,J=e=>(e.n&ie)>0,ee=new WeakMap;let te,ne=0,ie=1;const re=Symbol(""),se=Symbol("");class ae{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=W){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=te,t=le;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=te,te=this,le=!0,ie=1<<++ne,ne<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ie})(this):oe(this),this.fn()}finally{ne<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];X(r)&&!J(r)?r.delete(e):t[n++]=r,r.w&=~ie,r.n&=~ie}t.length=n}})(this),ie=1<<--ne,te=this.parent,le=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){te===this?this.deferStop=!0:this.active&&(oe(this),this.onStop&&this.onStop(),this.active=!1)}}function oe(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let le=!0;const ce=[];function de(){ce.push(le),le=!1}function ue(){const e=ce.pop();le=void 0===e||e}function pe(e,t,n){if(le&&te){let t=ee.get(e);t||ee.set(e,t=new Map);let i=t.get(n);i||t.set(n,i=Y()),he(i)}}function he(e,t){let n=!1;ne<=30?J(e)||(e.n|=ie,n=!X(e)):n=!e.has(te),n&&(e.add(te),te.deps.push(e))}function fe(e,t,n,i,r,s){const a=ee.get(e);if(!a)return;let o=[];if("clear"===t)o=[...a.values()];else if("length"===n&&$(e))a.forEach(((e,t)=>{("length"===t||t>=i)&&o.push(e)}));else switch(void 0!==n&&o.push(a.get(n)),t){case"add":$(e)?M(n)&&o.push(a.get("length")):(o.push(a.get(re)),C(e)&&o.push(a.get(se)));break;case"delete":$(e)||(o.push(a.get(re)),C(e)&&o.push(a.get(se)));break;case"set":C(e)&&o.push(a.get(re))}if(1===o.length)o[0]&&ge(o[0]);else{const e=[];for(const t of o)t&&e.push(...t);ge(Y(e))}}function ge(e,t){const n=$(e)?e:[...e];for(const e of n)e.computed&&me(e);for(const e of n)e.computed||me(e)}function me(e,t){(e!==te||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ve=e("__proto__,__v_isRef,__isVue"),be=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(T)),xe=$e(),ye=$e(!1,!0),we=$e(!0),ke=_e();function _e(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=ot(this);for(let e=0,t=this.length;e<t;e++)pe(n,0,e+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(ot)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){de();const n=ot(this)[t].apply(this,e);return ue(),n}})),e}function $e(e=!1,t=!1){return function(n,i,r){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&r===(e?t?Je:Xe:t?Ye:Ke).get(n))return n;const s=$(n);if(!e&&s&&_(ke,i))return Reflect.get(ke,i,r);const a=Reflect.get(n,i,r);return(T(i)?be.has(i):ve(i))?a:(e||pe(n,0,i),t?a:ht(a)?s&&M(i)?a:a.value:I(a)?e?tt(a):et(a):a)}}function Ce(e=!1){return function(t,n,i,r){let s=t[n];if(rt(s)&&ht(s)&&!ht(i))return!1;if(!e&&!rt(i)&&(st(i)||(i=ot(i),s=ot(s)),!$(t)&&ht(s)&&!ht(i)))return s.value=i,!0;const a=$(t)&&M(n)?Number(n)<t.length:_(t,n),o=Reflect.set(t,n,i,r);return t===ot(r)&&(a?N(i,s)&&fe(t,"set",n,i):fe(t,"add",n,i)),o}}const Se={get:xe,set:Ce(),deleteProperty:function(e,t){const n=_(e,t),i=(e[t],Reflect.deleteProperty(e,t));return i&&n&&fe(e,"delete",t,void 0),i},has:function(e,t){const n=Reflect.has(e,t);return T(t)&&be.has(t)||pe(e,0,t),n},ownKeys:function(e){return pe(e,0,$(e)?"length":re),Reflect.ownKeys(e)}},Ee={get:we,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Ae=y({},Se,{get:ye,set:Ce(!0)}),Te=e=>e,Ie=e=>Reflect.getPrototypeOf(e);function Le(e,t,n=!1,i=!1){const r=ot(e=e.__v_raw),s=ot(t);n||(t!==s&&pe(r,0,t),pe(r,0,s));const{has:a}=Ie(r),o=i?Te:n?dt:ct;return a.call(r,t)?o(e.get(t)):a.call(r,s)?o(e.get(s)):void(e!==r&&e.get(t))}function qe(e,t=!1){const n=this.__v_raw,i=ot(n),r=ot(e);return t||(e!==r&&pe(i,0,e),pe(i,0,r)),e===r?n.has(e):n.has(e)||n.has(r)}function Oe(e,t=!1){return e=e.__v_raw,!t&&pe(ot(e),0,re),Reflect.get(e,"size",e)}function Re(e){e=ot(e);const t=ot(this);return Ie(t).has.call(t,e)||(t.add(e),fe(t,"add",e,e)),this}function Me(e,t){t=ot(t);const n=ot(this),{has:i,get:r}=Ie(n);let s=i.call(n,e);s||(e=ot(e),s=i.call(n,e));const a=r.call(n,e);return n.set(e,t),s?N(t,a)&&fe(n,"set",e,t):fe(n,"add",e,t),this}function Be(e){const t=ot(this),{has:n,get:i}=Ie(t);let r=n.call(t,e);r||(e=ot(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&fe(t,"delete",e,void 0),s}function Pe(){const e=ot(this),t=0!==e.size,n=e.clear();return t&&fe(e,"clear",void 0,void 0),n}function ze(e,t){return function(n,i){const r=this,s=r.__v_raw,a=ot(s),o=t?Te:e?dt:ct;return!e&&pe(a,0,re),s.forEach(((e,t)=>n.call(i,o(e),o(t),r)))}}function Ve(e,t,n){return function(...i){const r=this.__v_raw,s=ot(r),a=C(s),o="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,c=r[e](...i),d=n?Te:t?dt:ct;return!t&&pe(s,0,l?se:re),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:o?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function Fe(e){return function(...t){return"delete"!==e&&this}}function je(){const e={get(e){return Le(this,e)},get size(){return Oe(this)},has:qe,add:Re,set:Me,delete:Be,clear:Pe,forEach:ze(!1,!1)},t={get(e){return Le(this,e,!1,!0)},get size(){return Oe(this)},has:qe,add:Re,set:Me,delete:Be,clear:Pe,forEach:ze(!1,!0)},n={get(e){return Le(this,e,!0)},get size(){return Oe(this,!0)},has(e){return qe.call(this,e,!0)},add:Fe("add"),set:Fe("set"),delete:Fe("delete"),clear:Fe("clear"),forEach:ze(!0,!1)},i={get(e){return Le(this,e,!0,!0)},get size(){return Oe(this,!0)},has(e){return qe.call(this,e,!0)},add:Fe("add"),set:Fe("set"),delete:Fe("delete"),clear:Fe("clear"),forEach:ze(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{e[r]=Ve(r,!1,!1),n[r]=Ve(r,!0,!1),t[r]=Ve(r,!1,!0),i[r]=Ve(r,!0,!0)})),[e,n,t,i]}const[De,Ue,Ne,Qe]=je();function He(e,t){const n=t?e?Qe:Ne:e?Ue:De;return(t,i,r)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(_(n,i)&&i in t?n:t,i,r)}const Ge={get:He(!1,!1)},Ze={get:He(!1,!0)},We={get:He(!0,!1)},Ke=new WeakMap,Ye=new WeakMap,Xe=new WeakMap,Je=new WeakMap;function et(e){return rt(e)?e:nt(e,!1,Se,Ge,Ke)}function tt(e){return nt(e,!0,Ee,We,Xe)}function nt(e,t,n,i,r){if(!I(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const a=(o=e).__v_skip||!Object.isExtensible(o)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>O(e).slice(8,-1))(o));var o;if(0===a)return e;const l=new Proxy(e,2===a?i:n);return r.set(e,l),l}function it(e){return rt(e)?it(e.__v_raw):!(!e||!e.__v_isReactive)}function rt(e){return!(!e||!e.__v_isReadonly)}function st(e){return!(!e||!e.__v_isShallow)}function at(e){return it(e)||rt(e)}function ot(e){const t=e&&e.__v_raw;return t?ot(t):e}function lt(e){return H(e,"__v_skip",!0),e}const ct=e=>I(e)?et(e):e,dt=e=>I(e)?tt(e):e;function ut(e){le&&te&&he((e=ot(e)).dep||(e.dep=Y()))}function pt(e,t){(e=ot(e)).dep&&ge(e.dep)}function ht(e){return!(!e||!0!==e.__v_isRef)}function ft(e,t){return ht(e)?e:new gt(e,t)}class gt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ot(e),this._value=t?e:ct(e)}get value(){return ut(this),this._value}set value(e){e=this.__v_isShallow?e:ot(e),N(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:ct(e),pt(this))}}function mt(e){return ht(e)?e.value:e}const vt={get:(e,t,n)=>mt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return ht(r)&&!ht(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function bt(e){return it(e)?e:new Proxy(e,vt)}class xt{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ae(e,(()=>{this._dirty||(this._dirty=!0,pt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=ot(this);return ut(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function yt(e,t,n,i){let r;try{r=i?e(...i):e()}catch(e){kt(e,t,n)}return r}function wt(e,t,n,i){if(E(e)){const r=yt(e,t,n,i);return r&&L(r)&&r.catch((e=>{kt(e,t,n)})),r}const r=[];for(let s=0;s<e.length;s++)r.push(wt(e[s],t,n,i));return r}function kt(e,t,n,i=!0){if(t&&t.vnode,t){let i=t.parent;const r=t.proxy,s=n;for(;i;){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,s))return;i=i.parent}const a=t.appContext.config.errorHandler;if(a)return void yt(a,null,10,[e,r,s])}!function(e,t,n,i=!0){console.error(e)}(e,0,0,i)}let _t=!1,$t=!1;const Ct=[];let St=0;const Et=[];let At=null,Tt=0;const It=[];let Lt=null,qt=0;const Ot=Promise.resolve();let Rt=null,Mt=null;function Bt(e){const t=Rt||Ot;return e?t.then(this?e.bind(this):e):t}function Pt(e){Ct.length&&Ct.includes(e,_t&&e.allowRecurse?St+1:St)||e===Mt||(null==e.id?Ct.push(e):Ct.splice(function(e){let t=St+1,n=Ct.length;for(;t<n;){const i=t+n>>>1;Dt(Ct[i])<e?t=i+1:n=i}return t}(e.id),0,e),zt())}function zt(){_t||$t||($t=!0,Rt=Ot.then(Ut))}function Vt(e,t,n,i){$(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),zt()}function Ft(e,t=null){if(Et.length){for(Mt=t,At=[...new Set(Et)],Et.length=0,Tt=0;Tt<At.length;Tt++)At[Tt]();At=null,Tt=0,Mt=null,Ft(e,t)}}function jt(e){if(Ft(),It.length){const e=[...new Set(It)];if(It.length=0,Lt)return void Lt.push(...e);for(Lt=e,Lt.sort(((e,t)=>Dt(e)-Dt(t))),qt=0;qt<Lt.length;qt++)Lt[qt]();Lt=null,qt=0}}const Dt=e=>null==e.id?1/0:e.id;function Ut(e){$t=!1,_t=!0,Ft(e),Ct.sort(((e,t)=>Dt(e)-Dt(t)));try{for(St=0;St<Ct.length;St++){const e=Ct[St];e&&!1!==e.active&&yt(e,null,14)}}finally{St=0,Ct.length=0,jt(),_t=!1,Rt=null,(Ct.length||Et.length||It.length)&&Ut(e)}}new Set,new Map;let Nt,Qt=[],Ht=!1;function Gt(e,...t){Nt?Nt.emit(e,...t):Ht||Qt.push({event:e,args:t})}function Zt(e,t){var n,i;Nt=e,Nt?(Nt.enabled=!0,Qt.forEach((({event:e,args:t})=>Nt.emit(e,...t))),Qt=[]):"undefined"!=typeof window&&window.HTMLElement&&!(null===(i=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{Zt(e,t)})),setTimeout((()=>{Nt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ht=!0,Qt=[])}),3e3)):(Ht=!0,Qt=[])}const Wt=Xt("component:added"),Kt=Xt("component:updated"),Yt=Xt("component:removed");function Xt(e){return t=>{Gt(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function Jt(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||h;let r=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:s}=i[e]||h;s&&(r=n.map((e=>e.trim()))),t&&(r=n.map(G))}let o;!function(e,t,n){Gt("component:emit",e.appContext.app,e,t,n)}(e,t,r);let l=i[o=U(t)]||i[o=U(V(t))];!l&&s&&(l=i[o=U(j(t))]),l&&wt(l,e,6,r);const c=i[o+"Once"];if(c){if(e.emitted){if(e.emitted[o])return}else e.emitted={};e.emitted[o]=!0,wt(c,e,6,r)}}function en(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(void 0!==r)return r;const s=e.emits;let a={},o=!1;if(!E(e)){const i=e=>{const n=en(e,t,!0);n&&(o=!0,y(a,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||o?($(s)?s.forEach((e=>a[e]=null)):y(a,s),i.set(e,a),a):(i.set(e,null),null)}function tn(e,t){return!(!e||!b(t))&&(t=t.slice(2).replace(/Once$/,""),_(e,t[0].toLowerCase()+t.slice(1))||_(e,j(t))||_(e,t))}let nn=null,rn=null;function sn(e){const t=nn;return nn=e,rn=e&&e.type.__scopeId||null,t}function an(e){rn=e}function on(){rn=null}function ln(e,t=nn,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Qi(-1);const r=sn(t),s=e(...n);return sn(r),i._d&&Qi(1),Kt(t),s};return i._n=!0,i._c=!0,i._d=!0,i}function cn(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[a],slots:o,attrs:l,emit:c,render:d,renderCache:u,data:p,setupState:h,ctx:f,inheritAttrs:g}=e;let m,v;const b=sn(e);try{if(4&n.shapeFlag){const e=r||i;m=or(d.call(e,e,u,s,h,p,f)),v=l}else{const e=t;m=or(e.length>1?e(s,{attrs:l,slots:o,emit:c}):e(s,null)),v=t.props?l:dn(l)}}catch(t){ji.length=0,kt(t,e,1),m=tr(Vi)}let y=m;if(v&&!1!==g){const e=Object.keys(v),{shapeFlag:t}=y;e.length&&7&t&&(a&&e.some(x)&&(v=un(v,a)),y=ir(y,v))}return n.dirs&&(y=ir(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),m=y,sn(b),m}const dn=e=>{let t;for(const n in e)("class"===n||"style"===n||b(n))&&((t||(t={}))[n]=e[n]);return t},un=(e,t)=>{const n={};for(const i in e)x(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function pn(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!tn(n,s))return!0}return!1}function hn(e,t){if(fr){let n=fr.provides;const i=fr.parent&&fr.parent.provides;i===n&&(n=fr.provides=Object.create(i)),n[e]=t}}function fn(e,t,n=!1){const i=fr||nn;if(i){const r=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&E(t)?t.call(i.proxy):t}}const gn={};function mn(e,t,n){return vn(e,t,n)}function vn(e,t,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:a}=h){const o=fr;let l,c,d=!1,u=!1;if(ht(e)?(l=()=>e.value,d=st(e)):it(e)?(l=()=>e,i=!0):$(e)?(u=!0,d=e.some((e=>it(e)||st(e))),l=()=>e.map((e=>ht(e)?e.value:it(e)?yn(e):E(e)?yt(e,o,2):void 0))):l=E(e)?t?()=>yt(e,o,2):()=>{if(!o||!o.isUnmounted)return c&&c(),wt(e,o,3,[p])}:g,t&&i){const e=l;l=()=>yn(e())}let p=e=>{c=b.onStop=()=>{yt(e,o,4)}};if(xr)return p=g,t?n&&wt(t,o,3,[l(),u?[]:void 0,p]):l(),g;let f=u?[]:gn;const m=()=>{if(b.active)if(t){const e=b.run();(i||d||(u?e.some(((e,t)=>N(e,f[t]))):N(e,f)))&&(c&&c(),wt(t,o,3,[e,f===gn?void 0:f,p]),f=e)}else b.run()};let v;m.allowRecurse=!!t,v="sync"===r?m:"post"===r?()=>Oi(m,o&&o.suspense):()=>function(e){Vt(e,At,Et,Tt)}(m);const b=new ae(l,v);return t?n?m():f=b.run():"post"===r?Oi(b.run.bind(b),o&&o.suspense):b.run(),()=>{b.stop(),o&&o.scope&&w(o.scope.effects,b)}}function bn(e,t,n){const i=this.proxy,r=A(e)?e.includes(".")?xn(i,e):()=>i[e]:e.bind(i,i);let s;E(t)?s=t:(s=t.handler,n=t);const a=fr;mr(this);const o=vn(r,s.bind(i),n);return a?mr(a):vr(),o}function xn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function yn(e,t){if(!I(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),ht(e))yn(e.value,t);else if($(e))for(let n=0;n<e.length;n++)yn(e[n],t);else if(S(e)||C(e))e.forEach((e=>{yn(e,t)}));else if(R(e))for(const n in e)yn(e[n],t);return e}const wn=[Function,Array],kn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wn,onEnter:wn,onAfterEnter:wn,onEnterCancelled:wn,onBeforeLeave:wn,onLeave:wn,onAfterLeave:wn,onLeaveCancelled:wn,onBeforeAppear:wn,onAppear:wn,onAfterAppear:wn,onAppearCancelled:wn},setup(e,{slots:t}){const n=gr(),i=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vn((()=>{e.isMounted=!0})),Dn((()=>{e.isUnmounting=!0})),e}();let r;return()=>{const s=t.default&&An(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==Vi){a=t,e=!0;break}}const o=ot(e),{mode:l}=o;if(i.isLeaving)return Cn(a);const c=Sn(a);if(!c)return Cn(a);const d=$n(c,o,i,n);En(c,d);const u=n.subTree,p=u&&Sn(u);let h=!1;const{getTransitionKey:f}=c.type;if(f){const e=f();void 0===r?r=e:e!==r&&(r=e,h=!0)}if(p&&p.type!==Vi&&(!Ki(c,p)||h)){const e=$n(p,o,i,n);if(En(p,e),"out-in"===l)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},Cn(a);"in-out"===l&&c.type!==Vi&&(e.delayLeave=(e,t,n)=>{_n(i,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return a}}};function _n(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function $n(e,t,n,i){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:u,onLeave:p,onAfterLeave:h,onLeaveCancelled:f,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:b}=t,x=String(e.key),y=_n(n,e),w=(e,t)=>{e&&wt(e,i,9,t)},k=(e,t)=>{const n=t[1];w(e,t),$(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},_={mode:s,persisted:a,beforeEnter(t){let i=o;if(!n.isMounted){if(!r)return;i=g||o}t._leaveCb&&t._leaveCb(!0);const s=y[x];s&&Ki(e,s)&&s.el._leaveCb&&s.el._leaveCb(),w(i,[t])},enter(e){let t=l,i=c,s=d;if(!n.isMounted){if(!r)return;t=m||l,i=v||c,s=b||d}let a=!1;const o=e._enterCb=t=>{a||(a=!0,w(t?s:i,[e]),_.delayedLeave&&_.delayedLeave(),e._enterCb=void 0)};t?k(t,[e,o]):o()},leave(t,i){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();w(u,[t]);let s=!1;const a=t._leaveCb=n=>{s||(s=!0,i(),w(n?f:h,[t]),t._leaveCb=void 0,y[r]===e&&delete y[r])};y[r]=e,p?k(p,[t,a]):a()},clone:e=>$n(e,t,n,i)};return _}function Cn(e){if(Ln(e))return(e=ir(e)).children=null,e}function Sn(e){return Ln(e)?e.children?e.children[0]:void 0:e}function En(e,t){6&e.shapeFlag&&e.component?En(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function An(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let a=e[s];const o=null==n?a.key:String(n)+String(null!=a.key?a.key:s);a.type===Pi?(128&a.patchFlag&&r++,i=i.concat(An(a.children,t,o))):(t||a.type!==Vi)&&i.push(null!=o?ir(a,{key:o}):a)}if(r>1)for(let e=0;e<i.length;e++)i[e].patchFlag=-2;return i}function Tn(e){return E(e)?{setup:e,name:e.name}:e}const In=e=>!!e.type.__asyncLoader,Ln=e=>e.type.__isKeepAlive;function qn(e,t){Rn(e,"a",t)}function On(e,t){Rn(e,"da",t)}function Rn(e,t,n=fr){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Bn(t,i,n),n){let e=n.parent;for(;e&&e.parent;)Ln(e.parent.vnode)&&Mn(i,t,n,e),e=e.parent}}function Mn(e,t,n,i){const r=Bn(t,e,i,!0);Un((()=>{w(i[t],r)}),n)}function Bn(e,t,n=fr,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;de(),mr(n);const r=wt(t,n,e,i);return vr(),ue(),r});return i?r.unshift(s):r.push(s),s}}RegExp,RegExp;const Pn=e=>(t,n=fr)=>(!xr||"sp"===e)&&Bn(e,t,n),zn=Pn("bm"),Vn=Pn("m"),Fn=Pn("bu"),jn=Pn("u"),Dn=Pn("bum"),Un=Pn("um"),Nn=Pn("sp"),Qn=Pn("rtg"),Hn=Pn("rtc");function Gn(e,t=fr){Bn("ec",e,t)}function Zn(e,t){const n=nn;if(null===n)return e;const i=kr(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[n,s,a,o=h]=t[e];E(n)&&(n={mounted:n,updated:n}),n.deep&&yn(s),r.push({dir:n,instance:i,value:s,oldValue:void 0,arg:a,modifiers:o})}return e}function Wn(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let l=o.dir[i];l&&(de(),wt(l,n,8,[e.el,o,e,t]),ue())}}const Kn="components";function Yn(e,t){return Jn(Kn,e,!0,t)||e}const Xn=Symbol();function Jn(e,t,n=!0,i=!1){const r=nn||fr;if(r){const n=r.type;if(e===Kn){const e=function(e,t=!0){return E(e)?e.displayName||e.name:e.name||t&&e.__name}(n,!1);if(e&&(e===t||e===V(t)||e===D(V(t))))return n}const s=ei(r[e]||n[e],t)||ei(r.appContext[e],t);return!s&&i?n:s}}function ei(e,t){return e&&(e[t]||e[V(t)]||e[D(V(t))])}function ti(e,t,n,i){let r;const s=n&&n[i];if($(e)||A(e)){r=new Array(e.length);for(let n=0,i=e.length;n<i;n++)r[n]=t(e[n],n,void 0,s&&s[n])}else if("number"==typeof e){r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n,void 0,s&&s[n])}else if(I(e))if(e[Symbol.iterator])r=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);r=new Array(n.length);for(let i=0,a=n.length;i<a;i++){const a=n[i];r[i]=t(e[a],a,i,s&&s[i])}}else r=[];return n&&(n[i]=r),r}function ni(e,t,n={},i,r){if(nn.isCE||nn.parent&&In(nn.parent)&&nn.parent.isCE)return tr("slot","default"===t?null:{name:t},i&&i());let s=e[t];s&&s._c&&(s._d=!1),Ui();const a=s&&ii(s(n)),o=Zi(Pi,{key:n.key||`_${t}`},a||(i?i():[]),a&&1===e._?64:-2);return!r&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function ii(e){return e.some((e=>!Wi(e)||e.type!==Vi&&!(e.type===Pi&&!ii(e.children))))?e:null}const ri=e=>e?br(e)?kr(e)||e.proxy:ri(e.parent):null,si=y(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ri(e.parent),$root:e=>ri(e.root),$emit:e=>e.emit,$options:e=>di(e),$forceUpdate:e=>e.f||(e.f=()=>Pt(e.update)),$nextTick:e=>e.n||(e.n=Bt.bind(e.proxy)),$watch:e=>bn.bind(e)}),ai={get({_:e},t){const{ctx:n,setupState:i,data:r,props:s,accessCache:a,type:o,appContext:l}=e;let c;if("$"!==t[0]){const o=a[t];if(void 0!==o)switch(o){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(i!==h&&_(i,t))return a[t]=1,i[t];if(r!==h&&_(r,t))return a[t]=2,r[t];if((c=e.propsOptions[0])&&_(c,t))return a[t]=3,s[t];if(n!==h&&_(n,t))return a[t]=4,n[t];oi&&(a[t]=0)}}const d=si[t];let u,p;return d?("$attrs"===t&&pe(e,0,t),d(e)):(u=o.__cssModules)&&(u=u[t])?u:n!==h&&_(n,t)?(a[t]=4,n[t]):(p=l.config.globalProperties,_(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return r!==h&&_(r,t)?(r[t]=n,!0):i!==h&&_(i,t)?(i[t]=n,!0):!(_(e.props,t)||"$"===t[0]&&t.slice(1)in e||(s[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},a){let o;return!!n[a]||e!==h&&_(e,a)||t!==h&&_(t,a)||(o=s[0])&&_(o,a)||_(i,a)||_(si,a)||_(r.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:_(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let oi=!0;function li(e,t,n){wt($(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function ci(e,t,n,i){const r=i.includes(".")?xn(n,i):()=>n[i];if(A(e)){const n=t[e];E(n)&&mn(r,n)}else if(E(e))mn(r,e.bind(n));else if(I(e))if($(e))e.forEach((e=>ci(e,t,n,i)));else{const i=E(e.handler)?e.handler.bind(n):t[e.handler];E(i)&&mn(r,i,e)}}function di(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let l;return o?l=o:r.length||n||i?(l={},r.length&&r.forEach((e=>ui(l,e,a,!0))),ui(l,t,a)):l=t,s.set(t,l),l}function ui(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&ui(e,s,n,!0),r&&r.forEach((t=>ui(e,t,n,!0)));for(const r in t)if(i&&"expose"===r);else{const i=pi[r]||n&&n[r];e[r]=i?i(e[r],t[r]):t[r]}return e}const pi={data:hi,props:mi,emits:mi,methods:mi,computed:mi,beforeCreate:gi,created:gi,beforeMount:gi,mounted:gi,beforeUpdate:gi,updated:gi,beforeDestroy:gi,beforeUnmount:gi,destroyed:gi,unmounted:gi,activated:gi,deactivated:gi,errorCaptured:gi,serverPrefetch:gi,components:mi,directives:mi,watch:function(e,t){if(!e)return t;if(!t)return e;const n=y(Object.create(null),e);for(const i in t)n[i]=gi(e[i],t[i]);return n},provide:hi,inject:function(e,t){return mi(fi(e),fi(t))}};function hi(e,t){return t?e?function(){return y(E(e)?e.call(this,this):e,E(t)?t.call(this,this):t)}:t:e}function fi(e){if($(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gi(e,t){return e?[...new Set([].concat(e,t))]:t}function mi(e,t){return e?y(y(Object.create(null),e),t):t}function vi(e,t,n,i){const[r,s]=e.propsOptions;let a,o=!1;if(t)for(let l in t){if(B(l))continue;const c=t[l];let d;r&&_(r,d=V(l))?s&&s.includes(d)?(a||(a={}))[d]=c:n[d]=c:tn(e.emitsOptions,l)||l in i&&c===i[l]||(i[l]=c,o=!0)}if(s){const t=ot(n),i=a||h;for(let a=0;a<s.length;a++){const o=s[a];n[o]=bi(r,t,o,i[o],e,!_(i,o))}}return o}function bi(e,t,n,i,r,s){const a=e[n];if(null!=a){const e=_(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&E(e)){const{propsDefaults:s}=r;n in s?i=s[n]:(mr(r),i=s[n]=e.call(null,t),vr())}else i=e}a[0]&&(s&&!e?i=!1:!a[1]||""!==i&&i!==j(n)||(i=!0))}return i}function xi(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const s=e.props,a={},o=[];let l=!1;if(!E(e)){const i=e=>{l=!0;const[n,i]=xi(e,t,!0);y(a,n),i&&o.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!s&&!l)return i.set(e,f),f;if($(s))for(let e=0;e<s.length;e++){const t=V(s[e]);yi(t)&&(a[t]=h)}else if(s)for(const e in s){const t=V(e);if(yi(t)){const n=s[e],i=a[t]=$(n)||E(n)?{type:n}:n;if(i){const e=_i(Boolean,i.type),n=_i(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||_(i,"default"))&&o.push(t)}}}const c=[a,o];return i.set(e,c),c}function yi(e){return"$"!==e[0]}function wi(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function ki(e,t){return wi(e)===wi(t)}function _i(e,t){return $(t)?t.findIndex((t=>ki(t,e))):E(t)&&ki(t,e)?0:-1}const $i=e=>"_"===e[0]||"$stable"===e,Ci=e=>$(e)?e.map(or):[or(e)],Si=(e,t,n)=>{if(t._n)return t;const i=ln(((...e)=>Ci(t(...e))),n);return i._c=!1,i},Ei=(e,t,n)=>{const i=e._ctx;for(const n in e){if($i(n))continue;const r=e[n];if(E(r))t[n]=Si(0,r,i);else if(null!=r){const e=Ci(r);t[n]=()=>e}}},Ai=(e,t)=>{const n=Ci(t);e.slots.default=()=>n};function Ti(){return{app:null,config:{isNativeTag:m,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ii=0;function Li(e,t){return function(n,i=null){E(n)||(n=Object.assign({},n)),null==i||I(i)||(i=null);const r=Ti(),s=new Set;let a=!1;const o=r.app={_uid:Ii++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Cr,get config(){return r.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&E(e.install)?(s.add(e),e.install(o,...t)):E(e)&&(s.add(e),e(o,...t))),o),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),o),component:(e,t)=>t?(r.components[e]=t,o):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,o):r.directives[e],mount(s,l,c){if(!a){const d=tr(n,i);return d.appContext=r,l&&t?t(d,s):e(d,s,c),a=!0,o._container=s,s.__vue_app__=o,o._instance=d.component,function(e,t){Gt("app:init",e,t,{Fragment:Pi,Text:zi,Comment:Vi,Static:Fi})}(o,Cr),kr(d.component)||d.component.proxy}},unmount(){a&&(e(null,o._container),o._instance=null,function(e){Gt("app:unmount",e)}(o),delete o._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,o)};return o}}function qi(e,t,n,i,r=!1){if($(e))return void e.forEach(((e,s)=>qi(e,t&&($(t)?t[s]:t),n,i,r)));if(In(i)&&!r)return;const s=4&i.shapeFlag?kr(i.component)||i.component.proxy:i.el,a=r?null:s,{i:o,r:l}=e,c=t&&t.r,d=o.refs===h?o.refs={}:o.refs,u=o.setupState;if(null!=c&&c!==l&&(A(c)?(d[c]=null,_(u,c)&&(u[c]=null)):ht(c)&&(c.value=null)),E(l))yt(l,o,12,[a,d]);else{const t=A(l),i=ht(l);if(t||i){const o=()=>{if(e.f){const n=t?d[l]:l.value;r?$(n)&&w(n,s):$(n)?n.includes(s)||n.push(s):t?(d[l]=[s],_(u,l)&&(u[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else t?(d[l]=a,_(u,l)&&(u[l]=a)):i&&(l.value=a,e.k&&(d[e.k]=a))};a?(o.id=-1,Oi(o,n)):o()}}}const Oi=function(e,t){t&&t.pendingBranch?$(e)?t.effects.push(...e):t.effects.push(e):Vt(e,Lt,It,qt)};function Ri(e,t){const n=Z||(Z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:{});n.__VUE__=!0,Zt(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:i,remove:s,patchProp:a,createElement:o,createText:l,createComment:c,setText:d,setElementText:u,parentNode:p,nextSibling:m,setScopeId:v=g,cloneNode:b,insertStaticContent:x}=e,w=(e,t,n,i=null,r=null,s=null,a=!1,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Ki(e,t)&&(i=ne(e),Y(e,r,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:d,shapeFlag:u}=t;switch(c){case zi:k(e,t,n,i);break;case Vi:$(e,t,n,i);break;case Fi:null==e&&C(t,n,i,a);break;case Pi:R(e,t,n,i,r,s,a,o,l);break;default:1&u?S(e,t,n,i,r,s,a,o,l):6&u?M(e,t,n,i,r,s,a,o,l):(64&u||128&u)&&c.process(e,t,n,i,r,s,a,o,l,re)}null!=d&&r&&qi(d,e&&e.ref,s,t||e,!t)},k=(e,t,n,r)=>{if(null==e)i(t.el=l(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},$=(e,t,n,r)=>{null==e?i(t.el=c(t.children||""),n,r):t.el=e.el},C=(e,t,n,i)=>{[e.el,e.anchor]=x(e.children,t,n,i,e.el,e.anchor)},S=(e,t,n,i,r,s,a,o,l)=>{a=a||"svg"===t.type,null==e?E(t,n,i,r,s,a,o,l):I(e,t,r,s,a,o,l)},E=(e,t,n,r,s,l,c,d)=>{let p,h;const{type:f,props:g,shapeFlag:m,transition:v,patchFlag:x,dirs:y}=e;if(e.el&&void 0!==b&&-1===x)p=e.el=b(e.el);else{if(p=e.el=o(e.type,l,g&&g.is,g),8&m?u(p,e.children):16&m&&T(e.children,p,null,r,s,l&&"foreignObject"!==f,c,d),y&&Wn(e,null,r,"created"),g){for(const t in g)"value"===t||B(t)||a(p,t,null,g[t],l,e.children,r,s,te);"value"in g&&a(p,"value",null,g.value),(h=g.onVnodeBeforeMount)&&ur(h,r,e)}A(p,e,e.scopeId,c,r)}Object.defineProperty(p,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(p,"__vueParentComponent",{value:r,enumerable:!1}),y&&Wn(e,null,r,"beforeMount");const w=(!s||s&&!s.pendingBranch)&&v&&!v.persisted;w&&v.beforeEnter(p),i(p,t,n),((h=g&&g.onVnodeMounted)||w||y)&&Oi((()=>{h&&ur(h,r,e),w&&v.enter(p),y&&Wn(e,null,r,"mounted")}),s)},A=(e,t,n,i,r)=>{if(n&&v(e,n),i)for(let t=0;t<i.length;t++)v(e,i[t]);if(r&&t===r.subTree){const t=r.vnode;A(e,t,t.scopeId,t.slotScopeIds,r.parent)}},T=(e,t,n,i,r,s,a,o,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=o?lr(e[c]):or(e[c]);w(null,l,t,n,i,r,s,a,o)}},I=(e,t,n,i,r,s,o)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:p}=t;c|=16&e.patchFlag;const f=e.props||h,g=t.props||h;let m;n&&Mi(n,!1),(m=g.onVnodeBeforeUpdate)&&ur(m,n,t,e),p&&Wn(t,e,n,"beforeUpdate"),n&&Mi(n,!0);const v=r&&"foreignObject"!==t.type;if(d?q(e.dynamicChildren,d,l,n,i,v,s):o||U(e,t,l,null,n,i,v,s,!1),c>0){if(16&c)O(l,t,f,g,n,i,r);else if(2&c&&f.class!==g.class&&a(l,"class",null,g.class,r),4&c&&a(l,"style",f.style,g.style,r),8&c){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const o=s[t],c=f[o],d=g[o];d===c&&"value"!==o||a(l,o,c,d,r,e.children,n,i,te)}}1&c&&e.children!==t.children&&u(l,t.children)}else o||null!=d||O(l,t,f,g,n,i,r);((m=g.onVnodeUpdated)||p)&&Oi((()=>{m&&ur(m,n,t,e),p&&Wn(t,e,n,"updated")}),i)},q=(e,t,n,i,r,s,a)=>{for(let o=0;o<t.length;o++){const l=e[o],c=t[o],d=l.el&&(l.type===Pi||!Ki(l,c)||70&l.shapeFlag)?p(l.el):n;w(l,c,d,null,i,r,s,a,!0)}},O=(e,t,n,i,r,s,o)=>{if(n!==i){for(const l in i){if(B(l))continue;const c=i[l],d=n[l];c!==d&&"value"!==l&&a(e,l,d,c,o,t.children,r,s,te)}if(n!==h)for(const l in n)B(l)||l in i||a(e,l,n[l],null,o,t.children,r,s,te);"value"in i&&a(e,"value",n.value,i.value)}},R=(e,t,n,r,s,a,o,c,d)=>{const u=t.el=e?e.el:l(""),p=t.anchor=e?e.anchor:l("");let{patchFlag:h,dynamicChildren:f,slotScopeIds:g}=t;g&&(c=c?c.concat(g):g),null==e?(i(u,n,r),i(p,n,r),T(t.children,n,p,s,a,o,c,d)):h>0&&64&h&&f&&e.dynamicChildren?(q(e.dynamicChildren,f,n,s,a,o,c),(null!=t.key||s&&t===s.subTree)&&Bi(e,t,!0)):U(e,t,n,p,s,a,o,c,d)},M=(e,t,n,i,r,s,a,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,a,l):P(t,n,i,r,s,a,l):z(e,t,l)},P=(e,t,n,i,r,s,a)=>{const o=e.component=function(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||pr,s={uid:hr++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new K(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xi(i,r),emitsOptions:en(i,r),emit:null,emitted:null,propsDefaults:h,inheritAttrs:i.inheritAttrs,ctx:h,data:h,props:h,attrs:h,slots:h,refs:h,setupState:h,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Jt.bind(null,s),e.ce&&e.ce(s),s}(e,i,r);if(Ln(e)&&(o.ctx.renderer=re),function(e,t=!1){xr=t;const{props:n,children:i}=e.vnode,r=br(e);(function(e,t,n,i=!1){const r={},s={};H(s,Yi,1),e.propsDefaults=Object.create(null),vi(e,t,r,s);for(const t in e.propsOptions[0])t in r||(r[t]=void 0);n?e.props=i?r:nt(r,!1,Ae,Ze,Ye):e.type.props?e.props=r:e.props=s,e.attrs=s})(e,n,r,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=ot(t),H(t,"_",n)):Ei(t,e.slots={})}else e.slots={},t&&Ai(e,t);H(e.slots,Yi,1)})(e,i);const s=r?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=lt(new Proxy(e.ctx,ai));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(pe(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;mr(e),de();const r=yt(i,e,0,[e.props,n]);if(ue(),vr(),L(r)){if(r.then(vr,vr),t)return r.then((n=>{yr(e,n,t)})).catch((t=>{kt(t,e,0)}));e.asyncDep=r}else yr(e,r,t)}else wr(e,t)}(e,t):void 0;xr=!1}(o),o.asyncDep){if(r&&r.registerDep(o,F),!e.el){const e=o.subTree=tr(Vi);$(null,e,t,n)}}else F(o,e,t,n,r,s,a)},z=(e,t,n)=>{const i=t.component=e.component;if(function(e,t,n){const{props:i,children:r,component:s}=e,{props:a,children:o,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!o||o&&o.$stable)||i!==a&&(i?!a||pn(i,a,c):!!a);if(1024&l)return!0;if(16&l)return i?pn(i,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==i[n]&&!tn(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void D(i,t,n);i.next=t,function(e){const t=Ct.indexOf(e);t>St&&Ct.splice(t,1)}(i.update),i.update()}else t.el=e.el,i.vnode=t},F=(e,t,n,i,r,s,a)=>{const o=e.effect=new ae((()=>{if(e.isMounted){let t,{next:n,bu:i,u:o,parent:l,vnode:c}=e,d=n;Mi(e,!1),n?(n.el=c.el,D(e,n,a)):n=c,i&&Q(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&ur(t,l,n,c),Mi(e,!0);const u=cn(e),h=e.subTree;e.subTree=u,w(h,u,p(h.el),ne(h),e,r,s),n.el=u.el,null===d&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,u.el),o&&Oi(o,r),(t=n.props&&n.props.onVnodeUpdated)&&Oi((()=>ur(t,l,n,c)),r),Kt(e)}else{let a;const{el:o,props:l}=t,{bm:c,m:d,parent:u}=e,p=In(t);if(Mi(e,!1),c&&Q(c),!p&&(a=l&&l.onVnodeBeforeMount)&&ur(a,u,t),Mi(e,!0),o&&oe){const n=()=>{e.subTree=cn(e),oe(o,e.subTree,e,r,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const a=e.subTree=cn(e);w(null,a,n,i,e,r,s),t.el=a.el}if(d&&Oi(d,r),!p&&(a=l&&l.onVnodeMounted)){const e=t;Oi((()=>ur(a,u,e)),r)}(256&t.shapeFlag||u&&In(u.vnode)&&256&u.vnode.shapeFlag)&&e.a&&Oi(e.a,r),e.isMounted=!0,Wt(e),t=n=i=null}}),(()=>Pt(l)),e.scope),l=e.update=()=>o.run();l.id=e.uid,Mi(e,!0),l()},D=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:a}}=e,o=ot(r),[l]=e.propsOptions;let c=!1;if(!(i||a>0)||16&a){let i;vi(e,t,r,s)&&(c=!0);for(const s in o)t&&(_(t,s)||(i=j(s))!==s&&_(t,i))||(l?!n||void 0===n[s]&&void 0===n[i]||(r[s]=bi(l,o,s,void 0,e,!0)):delete r[s]);if(s!==o)for(const e in s)t&&_(t,e)||(delete s[e],c=!0)}else if(8&a){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let a=n[i];if(tn(e.emitsOptions,a))continue;const d=t[a];if(l)if(_(s,a))d!==s[a]&&(s[a]=d,c=!0);else{const t=V(a);r[t]=bi(l,o,t,d,e,!1)}else d!==s[a]&&(s[a]=d,c=!0)}}c&&fe(e,"set","$attrs")}(e,t.props,i,n),((e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,a=h;if(32&i.shapeFlag){const e=t._;e?n&&1===e?s=!1:(y(r,t),n||1!==e||delete r._):(s=!t.$stable,Ei(t,r)),a=t}else t&&(Ai(e,t),a={default:1});if(s)for(const e in r)$i(e)||e in a||delete r[e]})(e,t.children,n),de(),Ft(void 0,e.update),ue()},U=(e,t,n,i,r,s,a,o,l=!1)=>{const c=e&&e.children,d=e?e.shapeFlag:0,p=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void G(c,p,n,i,r,s,a,o,l);if(256&h)return void N(c,p,n,i,r,s,a,o,l)}8&f?(16&d&&te(c,r,s),p!==c&&u(n,p)):16&d?16&f?G(c,p,n,i,r,s,a,o,l):te(c,r,s,!0):(8&d&&u(n,""),16&f&&T(p,n,i,r,s,a,o,l))},N=(e,t,n,i,r,s,a,o,l)=>{t=t||f;const c=(e=e||f).length,d=t.length,u=Math.min(c,d);let p;for(p=0;p<u;p++){const i=t[p]=l?lr(t[p]):or(t[p]);w(e[p],i,n,null,r,s,a,o,l)}c>d?te(e,r,s,!0,!1,u):T(t,n,i,r,s,a,o,l,u)},G=(e,t,n,i,r,s,a,o,l)=>{let c=0;const d=t.length;let u=e.length-1,p=d-1;for(;c<=u&&c<=p;){const i=e[c],d=t[c]=l?lr(t[c]):or(t[c]);if(!Ki(i,d))break;w(i,d,n,null,r,s,a,o,l),c++}for(;c<=u&&c<=p;){const i=e[u],c=t[p]=l?lr(t[p]):or(t[p]);if(!Ki(i,c))break;w(i,c,n,null,r,s,a,o,l),u--,p--}if(c>u){if(c<=p){const e=p+1,u=e<d?t[e].el:i;for(;c<=p;)w(null,t[c]=l?lr(t[c]):or(t[c]),n,u,r,s,a,o,l),c++}}else if(c>p)for(;c<=u;)Y(e[c],r,s,!0),c++;else{const h=c,g=c,m=new Map;for(c=g;c<=p;c++){const e=t[c]=l?lr(t[c]):or(t[c]);null!=e.key&&m.set(e.key,c)}let v,b=0;const x=p-g+1;let y=!1,k=0;const _=new Array(x);for(c=0;c<x;c++)_[c]=0;for(c=h;c<=u;c++){const i=e[c];if(b>=x){Y(i,r,s,!0);continue}let d;if(null!=i.key)d=m.get(i.key);else for(v=g;v<=p;v++)if(0===_[v-g]&&Ki(i,t[v])){d=v;break}void 0===d?Y(i,r,s,!0):(_[d-g]=c+1,d>=k?k=d:y=!0,w(i,t[d],n,null,r,s,a,o,l),b++)}const $=y?function(e){const t=e.slice(),n=[0];let i,r,s,a,o;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,e[n[o]]<l?s=o+1:a=o;l<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}(_):f;for(v=$.length-1,c=x-1;c>=0;c--){const e=g+c,u=t[e],p=e+1<d?t[e+1].el:i;0===_[c]?w(null,u,n,p,r,s,a,o,l):y&&(v<0||c!==$[v]?W(u,n,p,2):v--)}}},W=(e,t,n,r,s=null)=>{const{el:a,type:o,transition:l,children:c,shapeFlag:d}=e;if(6&d)W(e.component.subTree,t,n,r);else if(128&d)e.suspense.move(t,n,r);else if(64&d)o.move(e,t,n,re);else if(o!==Pi)if(o!==Fi)if(2!==r&&1&d&&l)if(0===r)l.beforeEnter(a),i(a,t,n),Oi((()=>l.enter(a)),s);else{const{leave:e,delayLeave:r,afterLeave:s}=l,o=()=>i(a,t,n),c=()=>{e(a,(()=>{o(),s&&s()}))};r?r(a,o,c):c()}else i(a,t,n);else(({el:e,anchor:t},n,r)=>{let s;for(;e&&e!==t;)s=m(e),i(e,n,r),e=s;i(t,n,r)})(e,t,n);else{i(a,t,n);for(let e=0;e<c.length;e++)W(c[e],t,n,r);i(e.anchor,t,n)}},Y=(e,t,n,i=!1,r=!1)=>{const{type:s,props:a,ref:o,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:u,dirs:p}=e;if(null!=o&&qi(o,null,n,e,!0),256&d)return void t.ctx.deactivate(e);const h=1&d&&p,f=!In(e);let g;if(f&&(g=a&&a.onVnodeBeforeUnmount)&&ur(g,t,e),6&d)ee(e.component,n,i);else{if(128&d)return void e.suspense.unmount(n,i);h&&Wn(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,n,r,re,i):c&&(s!==Pi||u>0&&64&u)?te(c,t,n,!1,!0):(s===Pi&&384&u||!r&&16&d)&&te(l,t,n),i&&X(e)}(f&&(g=a&&a.onVnodeUnmounted)||h)&&Oi((()=>{g&&ur(g,t,e),h&&Wn(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===Pi)return void J(n,i);if(t===Fi)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),s(e),e=n;s(t)})(e);const a=()=>{s(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,s=()=>t(n,a);i?i(e.el,a,s):s()}else a()},J=(e,t)=>{let n;for(;e!==t;)n=m(e),s(e),e=n;s(t)},ee=(e,t,n)=>{const{bum:i,scope:r,update:s,subTree:a,um:o}=e;i&&Q(i),r.stop(),s&&(s.active=!1,Y(a,e,t,n)),o&&Oi(o,t),Oi((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),Yt(e)},te=(e,t,n,i=!1,r=!1,s=0)=>{for(let a=s;a<e.length;a++)Y(e[a],t,n,i,r)},ne=e=>6&e.shapeFlag?ne(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),ie=(e,t,n)=>{null==e?t._vnode&&Y(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,n),jt(),t._vnode=e},re={p:w,um:Y,m:W,r:X,mt:P,mc:T,pc:U,pbc:q,n:ne,o:e};let se,oe;return t&&([se,oe]=t(re)),{render:ie,hydrate:se,createApp:Li(ie,se)}}function Mi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Bi(e,t,n=!1){const i=e.children,r=t.children;if($(i)&&$(r))for(let e=0;e<i.length;e++){const t=i[e];let s=r[e];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&(s=r[e]=lr(r[e]),s.el=t.el),n||Bi(t,s))}}const Pi=Symbol(void 0),zi=Symbol(void 0),Vi=Symbol(void 0),Fi=Symbol(void 0),ji=[];let Di=null;function Ui(e=!1){ji.push(Di=e?null:[])}let Ni=1;function Qi(e){Ni+=e}function Hi(e){return e.dynamicChildren=Ni>0?Di||f:null,ji.pop(),Di=ji[ji.length-1]||null,Ni>0&&Di&&Di.push(e),e}function Gi(e,t,n,i,r,s){return Hi(er(e,t,n,i,r,s,!0))}function Zi(e,t,n,i,r){return Hi(tr(e,t,n,i,r,!0))}function Wi(e){return!!e&&!0===e.__v_isVNode}function Ki(e,t){return e.type===t.type&&e.key===t.key}const Yi="__vInternal",Xi=({key:e})=>null!=e?e:null,Ji=({ref:e,ref_key:t,ref_for:n})=>null!=e?A(e)||ht(e)||E(e)?{i:nn,r:e,k:t,f:!!n}:e:null;function er(e,t=null,n=null,i=0,r=null,s=(e===Pi?0:1),a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xi(t),ref:t&&Ji(t),scopeId:rn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return o?(cr(l,n),128&s&&e.normalize(l)):n&&(l.shapeFlag|=A(n)?8:16),Ni>0&&!a&&Di&&(l.patchFlag>0||6&s)&&32!==l.patchFlag&&Di.push(l),l}const tr=function(e,t=null,n=null,r=0,s=null,a=!1){if(e&&e!==Xn||(e=Vi),Wi(e)){const i=ir(e,t,!0);return n&&cr(i,n),Ni>0&&!a&&Di&&(6&i.shapeFlag?Di[Di.indexOf(e)]=i:Di.push(i)),i.patchFlag|=-2,i}if(o=e,E(o)&&"__vccOpts"in o&&(e=e.__vccOpts),t){t=nr(t);let{class:e,style:n}=t;e&&!A(e)&&(t.class=c(e)),I(n)&&(at(n)&&!$(n)&&(n=y({},n)),t.style=i(n))}var o;return er(e,t,n,r,s,A(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:I(e)?4:E(e)?2:0,a,!0)};function nr(e){return e?at(e)||Yi in e?y({},e):e:null}function ir(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:a}=e,o=t?dr(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&Xi(o),ref:t&&t.ref?n&&r?$(r)?r.concat(Ji(t)):[r,Ji(t)]:Ji(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pi?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ir(e.ssContent),ssFallback:e.ssFallback&&ir(e.ssFallback),el:e.el,anchor:e.anchor}}function rr(e=" ",t=0){return tr(zi,null,e,t)}function sr(e,t){const n=tr(Fi,null,e);return n.staticCount=t,n}function ar(e="",t=!1){return t?(Ui(),Zi(Vi,null,e)):tr(Vi,null,e)}function or(e){return null==e||"boolean"==typeof e?tr(Vi):$(e)?tr(Pi,null,e.slice()):"object"==typeof e?lr(e):tr(zi,null,String(e))}function lr(e){return null===e.el||e.memo?e:ir(e)}function cr(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if($(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),cr(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||Yi in t?3===i&&nn&&(1===nn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=nn}}else E(t)?(t={default:t,_ctx:nn},n=32):(t=String(t),64&i?(n=16,t=[rr(t)]):n=8);e.children=t,e.shapeFlag|=n}function dr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=c([t.class,r.class]));else if("style"===e)t.style=i([t.style,r.style]);else if(b(e)){const n=t[e],i=r[e];!i||n===i||$(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function ur(e,t,n,i=null){wt(e,t,7,[n,i])}const pr=Ti();let hr=0;let fr=null;const gr=()=>fr||nn,mr=e=>{fr=e,e.scope.on()},vr=()=>{fr&&fr.scope.off(),fr=null};function br(e){return 4&e.vnode.shapeFlag}let xr=!1;function yr(e,t,n){E(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:I(t)&&(e.devtoolsRawSetupState=t,e.setupState=bt(t)),wr(e,n)}function wr(e,t,n){const i=e.type;e.render||(e.render=i.render||g),mr(e),de(),function(e){const t=di(e),n=e.proxy,i=e.ctx;oi=!1,t.beforeCreate&&li(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:a,watch:o,provide:l,inject:c,created:d,beforeMount:u,mounted:p,beforeUpdate:h,updated:f,activated:m,deactivated:v,beforeDestroy:b,beforeUnmount:x,destroyed:y,unmounted:w,render:k,renderTracked:_,renderTriggered:C,errorCaptured:S,serverPrefetch:A,expose:T,inheritAttrs:L,components:q,directives:O,filters:R}=t;if(c&&function(e,t,n=g,i=!1){$(e)&&(e=fi(e));for(const n in e){const r=e[n];let s;s=I(r)?"default"in r?fn(r.from||n,r.default,!0):fn(r.from||n):fn(r),ht(s)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[n]=s}}(c,i,null,e.appContext.config.unwrapInjectedRef),a)for(const e in a){const t=a[e];E(t)&&(i[e]=t.bind(n))}if(r){const t=r.call(n,n);I(t)&&(e.data=et(t))}if(oi=!0,s)for(const e in s){const t=s[e],r=E(t)?t.bind(n,n):E(t.get)?t.get.bind(n,n):g,a=!E(t)&&E(t.set)?t.set.bind(n):g,o=_r({get:r,set:a});Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e})}if(o)for(const e in o)ci(o[e],i,n,e);if(l){const e=E(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{hn(t,e[t])}))}function M(e,t){$(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&li(d,e,"c"),M(zn,u),M(Vn,p),M(Fn,h),M(jn,f),M(qn,m),M(On,v),M(Gn,S),M(Hn,_),M(Qn,C),M(Dn,x),M(Un,w),M(Nn,A),$(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});k&&e.render===g&&(e.render=k),null!=L&&(e.inheritAttrs=L),q&&(e.components=q),O&&(e.directives=O)}(e),ue(),vr()}function kr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(bt(lt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in si?si[n](e):void 0}))}const _r=(e,t)=>function(e,t,n=!1){let i,r;const s=E(e);return s?(i=e,r=g):(i=e.get,r=e.set),new xt(i,r,s||!r,n)}(e,0,xr);function $r(e,t,n){const i=arguments.length;return 2===i?I(t)&&!$(t)?Wi(t)?tr(e,null,[t]):tr(e,t):tr(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Wi(n)&&(n=[n]),tr(e,t,n))}Symbol("");const Cr="3.2.37",Sr="undefined"!=typeof document?document:null,Er=Sr&&Sr.createElement("template"),Ar={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?Sr.createElementNS("http://www.w3.org/2000/svg",e):Sr.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>Sr.createTextNode(e),createComment:e=>Sr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Sr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,r,s){const a=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==s&&(r=r.nextSibling););else{Er.innerHTML=i?`<svg>${e}</svg>`:e;const r=Er.content;if(i){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Tr=/\s*!important$/;function Ir(e,t,n){if($(n))n.forEach((n=>Ir(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=function(e,t){const n=qr[t];if(n)return n;let i=V(t);if("filter"!==i&&i in e)return qr[t]=i;i=D(i);for(let n=0;n<Lr.length;n++){const r=Lr[n]+i;if(r in e)return qr[t]=r}return t}(e,t);Tr.test(n)?e.setProperty(j(i),n.replace(Tr,""),"important"):e[i]=n}}const Lr=["Webkit","Moz","ms"],qr={},Or="http://www.w3.org/1999/xlink",[Rr,Mr]=(()=>{let e=Date.now,t=!1;if("undefined"!=typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Br=0;const Pr=Promise.resolve(),zr=()=>{Br=0};function Vr(e,t,n,i){e.addEventListener(t,n,i)}const Fr=/(?:Once|Passive|Capture)$/,jr=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const Dr="transition",Ur="animation",Nr=(e,{slots:t})=>$r(kn,function(e){const t={};for(const n in e)n in Qr||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=a,appearToClass:d=o,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,f=function(e){if(null==e)return null;if(I(e))return[Zr(e.enter),Zr(e.leave)];{const t=Zr(e);return[t,t]}}(r),g=f&&f[0],m=f&&f[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:x,onLeave:w,onLeaveCancelled:k,onBeforeAppear:_=v,onAppear:$=b,onAppearCancelled:C=x}=t,S=(e,t,n)=>{Kr(e,t?d:o),Kr(e,t?c:a),n&&n()},E=(e,t)=>{e._isLeaving=!1,Kr(e,u),Kr(e,h),Kr(e,p),t&&t()},A=e=>(t,n)=>{const r=e?$:b,a=()=>S(t,e,n);Hr(r,[t,a]),Yr((()=>{Kr(t,e?l:s),Wr(t,e?d:o),Gr(r)||Jr(t,i,g,a)}))};return y(t,{onBeforeEnter(e){Hr(v,[e]),Wr(e,s),Wr(e,a)},onBeforeAppear(e){Hr(_,[e]),Wr(e,l),Wr(e,c)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>E(e,t);Wr(e,u),document.body.offsetHeight,Wr(e,p),Yr((()=>{e._isLeaving&&(Kr(e,u),Wr(e,h),Gr(w)||Jr(e,i,m,n))})),Hr(w,[e,n])},onEnterCancelled(e){S(e,!1),Hr(x,[e])},onAppearCancelled(e){S(e,!0),Hr(C,[e])},onLeaveCancelled(e){E(e),Hr(k,[e])}})}(e),t);Nr.displayName="Transition";const Qr={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Hr=(Nr.props=y({},kn.props,Qr),(e,t=[])=>{$(e)?e.forEach((e=>e(...t))):e&&e(...t)}),Gr=e=>!!e&&($(e)?e.some((e=>e.length>1)):e.length>1);function Zr(e){return G(e)}function Wr(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Kr(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Yr(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Xr=0;function Jr(e,t,n,i){const r=e._endId=++Xr,s=()=>{r===e._endId&&i()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=function(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i("transitionDelay"),s=i("transitionDuration"),a=es(r,s),o=i("animationDelay"),l=i("animationDuration"),c=es(o,l);let d=null,u=0,p=0;return t===Dr?a>0&&(d=Dr,u=a,p=s.length):t===Ur?c>0&&(d=Ur,u=c,p=l.length):(u=Math.max(a,c),d=u>0?a>c?Dr:Ur:null,p=d?d===Dr?s.length:l.length:0),{type:d,timeout:u,propCount:p,hasTransform:d===Dr&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}(e,t);if(!a)return i();const c=a+"end";let d=0;const u=()=>{e.removeEventListener(c,p),s()},p=t=>{t.target===e&&++d>=l&&u()};setTimeout((()=>{d<l&&u()}),o+1),e.addEventListener(c,p)}function es(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>ts(t)+ts(e[n]))))}function ts(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}new WeakMap,new WeakMap;const ns=e=>{const t=e.props["onUpdate:modelValue"]||!1;return $(t)?e=>Q(t,e):t};function is(e){e.target.composing=!0}function rs(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ss={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=ns(r);const s=i||r.props&&"number"===r.props.type;Vr(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),s&&(i=G(i)),e._assign(i)})),n&&Vr(e,"change",(()=>{e.value=e.value.trim()})),t||(Vr(e,"compositionstart",is),Vr(e,"compositionend",rs),Vr(e,"change",rs))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},s){if(e._assign=ns(s),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===t)return;if((r||"number"===e.type)&&G(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},as=["ctrl","shift","alt","meta"],os={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>as.some((n=>e[`${n}Key`]&&!t.includes(n)))},ls=(e,t)=>(n,...i)=>{for(let e=0;e<t.length;e++){const i=os[t[e]];if(i&&i(n,t))return}return e(n,...i)},cs={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ds=(e,t)=>n=>{if(!("key"in n))return;const i=j(n.key);return t.some((e=>e===i||cs[e]===i))?e(n):void 0},us={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ps(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),ps(e,!0),i.enter(e)):i.leave(e,(()=>{ps(e,!1)})):ps(e,t))},beforeUnmount(e,{value:t}){ps(e,t)}};function ps(e,t){e.style.display=t?e._vod:"none"}const hs=y({patchProp:(e,i,r,s,a=!1,o,l,c,d)=>{"class"===i?function(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,s,a):"style"===i?function(e,t,n){const i=e.style,r=A(n);if(n&&!r){for(const e in n)Ir(i,e,n[e]);if(t&&!A(t))for(const e in t)null==n[e]&&Ir(i,e,"")}else{const s=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}(e,r,s):b(i)?x(i)||function(e,t,n,i,r=null){const s=e._vei||(e._vei={}),a=s[t];if(i&&a)a.value=i;else{const[n,o]=function(e){let t;if(Fr.test(e)){let n;for(t={};n=e.match(Fr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[j(e.slice(2)),t]}(t);if(i){const a=s[t]=function(e,t){const n=e=>{const i=e.timeStamp||Rr();(Mr||i>=n.attached-1)&&wt(function(e,t){if($(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Br||(Pr.then(zr),Br=Rr()),n}(i,r);Vr(e,n,a,o)}else a&&(function(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,a,o),s[t]=void 0)}}(e,i,0,s,l):("."===i[0]?(i=i.slice(1),1):"^"===i[0]?(i=i.slice(1),0):function(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&jr.test(t)&&E(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!jr.test(t)||!A(n))&&t in e))))}(e,i,s,a))?function(e,t,i,r,s,a,o){if("innerHTML"===t||"textContent"===t)return r&&o(r,s,a),void(e[t]=null==i?"":i);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=i;const n=null==i?"":i;return e.value===n&&"OPTION"!==e.tagName||(e.value=n),void(null==i&&e.removeAttribute(t))}let l=!1;if(""===i||null==i){const r=typeof e[t];"boolean"===r?i=n(i):null==i&&"string"===r?(i="",l=!0):"number"===r&&(i=0,l=!0)}try{e[t]=i}catch(e){}l&&e.removeAttribute(t)}(e,i,s,o,l,c,d):("true-value"===i?e._trueValue=s:"false-value"===i&&(e._falseValue=s),function(e,i,r,s,a){if(s&&i.startsWith("xlink:"))null==r?e.removeAttributeNS(Or,i.slice(6,i.length)):e.setAttributeNS(Or,i,r);else{const s=t(i);null==r||s&&!n(r)?e.removeAttribute(i):e.setAttribute(i,s?"":r)}}(e,i,s,a))}},Ar);let fs;const gs={class:"wrapper"},ms={class:"form",ref:"form"},vs=[(e=>(an("data-v-ed7b41d8"),e=e(),on(),e))((()=>er("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},[er("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"})],-1)))],bs={class:"info-container"},xs={class:"title text-big-x"},ys={class:"description text-small"},ws={class:"fields-container"},ks={key:0,class:"form-group"},_s={class:"submit-container submit-buttons"},$s={class:"form-group"},Cs={key:1,class:"confirm-buttons"},Ss={class:"error-text"},Es=["type","autocomplete","value","checked","disabled"],As={class:"text-big-x"},Ts={class:"info text-small-x"},Is={emits:["change","update:modelValue"],props:{title:String,type:{default:"text"},autocomplete:{default:"off"},textAlign:{default:"left"},disabled:Boolean,info:String,modelValue:null,error:String},methods:{updateVModel(e){let t=e.target.value;"checkbox"===this.type&&(t=e.target.checked),this.$emit("update:modelValue",t),this.$emit("change")},focus(){this.$refs.input.focus()}}};r(3742);var Ls=r(3744);const qs=(0,Ls.Z)(Is,[["render",function(e,t,n,i,r,s){return Ui(),Gi("div",{class:c([{error:n.error?.length},"floating-input-fields"])},[er("span",Ss,u(n.error),1),er("input",{ref:"input",type:n.type,autocomplete:n.autocomplete,placeholder:" ",onInput:t[0]||(t[0]=(...e)=>s.updateVModel&&s.updateVModel(...e)),value:n.modelValue,checked:this.modelValue,disabled:n.disabled,class:c({left:"left"===n.textAlign,right:"right"===n.textAlign,switch:"checkbox"===n.type})},null,42,Es),er("label",As,u(n.title),1),er("div",Ts,[ni(e.$slots,"default",{},void 0,!0)])],2)}],["__scopeId","data-v-64b42682"]]),Os={components:{FloatingInput:qs},data:()=>({type:"",title:"",description:"",isShowed:!1,text:""}),unmounted(){this.isShowed=!1},methods:{async __createModal(e,t="",n="alert"){if(this.type=n,this.title=e,this.description=t,this.isShowed)return this.promise;this.isShowed=!0,await this.$nextTick(),"confirm"===this.type?this.$refs.buttonYes.focus():"prompt"===this.type?this.$refs.inputText.focus():this.$refs.buttonOk.focus();const i=new Promise((e=>{this.resolvePromise=e}));return this.promise=i,i},__resolve(e){this.isShowed&&("confirm"!==this.type&&(e=!1===e?null:this.text),this.resolvePromise(e),this.isShowed=!1,this.text="")},prompt(e,t,n){return this.text=n,this.__createModal(e,t,"prompt")},confirm(e,t){return this.__createModal(e,t,"confirm")},alert(e,t){return this.__createModal(e,t,"alert")}}};r(242);const Rs=(0,Ls.Z)(Os,[["render",function(e,t,n,i,r,s){const a=Yn("FloatingInput");return Zn((Ui(),Gi("div",{class:"modal",onKeydown:[t[6]||(t[6]=ds(ls((e=>s.__resolve(!0)),["prevent"]),["enter"])),t[7]||(t[7]=ds((e=>s.__resolve(!1)),["esc"]))]},[er("div",{class:"modal-background",onClick:t[0]||(t[0]=e=>s.__resolve(!1))}),er("div",ms,[er("span",{class:"close-btn",onClick:t[1]||(t[1]=e=>s.__resolve(!1))},vs),er("div",bs,[er("div",xs,u(r.title),1),er("div",ys,u(r.description),1)]),er("div",ws,["prompt"===r.type?(Ui(),Gi("div",ks,[tr(a,{type:"text",modelValue:r.text,"onUpdate:modelValue":t[2]||(t[2]=e=>r.text=e),ref:"inputText",class:"form-control"},null,8,["modelValue"])])):ar("v-if",!0)]),er("div",_s,[er("div",$s,["confirm"!==r.type?(Ui(),Gi("button",{key:0,onClick:t[3]||(t[3]=e=>s.__resolve()),class:"btn submit",ref:"buttonOk"},"Ок",512)):(Ui(),Gi("div",Cs,[er("input",{type:"submit",onClick:t[4]||(t[4]=e=>s.__resolve(!0)),class:"confirm-button btn submit",ref:"buttonYes",value:"Да"},null,512),er("input",{type:"submit",onClick:t[5]||(t[5]=e=>s.__resolve(!1)),class:"confirm-button btn btn-danger",value:"Нет"})]))])])],512)],544)),[[us,r.isShowed]])}],["__scopeId","data-v-ed7b41d8"]]),Ms={class:"popup-messages"},Bs=[];function Ps(e,t,n=1500){Bs.forEach(((t,n)=>{e.forEach(((e,i)=>{e===t.element&&(clearTimeout(t.timeout),Bs.splice(n,1))}))})),e.forEach((e=>{e.classList.add(t),Bs.push({element:e,timeout:setTimeout((()=>e.classList.remove(t)),n)})}))}function zs(e={}){return JSON.parse(JSON.stringify(e))}async function Vs(e){const t=new TextEncoder("utf-8").encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>("00"+e.toString(16)).slice(-2))).join("")}function Fs(e){let t,n;return e<60?(t=e,n="сек"):e<3600?(t=e/60,n="мин"):e<86400?(t=e/3600,n="ч"):e<2592e3?(t=e/86400,n="дн"):e<31536e3?(t=e/2592e3,n="мес"):(t=e/31536e3,n="лет"),t.toFixed(1).toString()+" "+n}const js={data:()=>({messages:[]}),methods:{async __addMessage(e,t,n,i){const r=document.createElement("div");r.classList.add("popup-message",n),r.innerHTML=`<div class="title"><strong>${e}</strong></div>\n                        <div class="message">${t}</div>`,this.$el.append(r),r.style.height=function(e){const t=Array.from(e.children);let n=0;return t?(t.forEach((e=>{n+=e.scrollHeight})),n):n}(r)+"px",setTimeout((()=>{r.classList.add("_transitionOpacity"),setTimeout((()=>{r.classList.add("_transitionHeight"),r.style.removeProperty("height"),setTimeout((()=>{r.remove()}),300)}),500)}),i)},success(e,t="",n=3e3){this.__addMessage(e,t,"success",n)},alert(e,t="",n=3e3){this.__addMessage(e,t,"alert",n)},error(e,t="",n=3e3){this.__addMessage(e,t,"error",n)}}};r(3724);const Ds=(0,Ls.Z)(js,[["render",function(e,t,n,i,r,s){return Ui(),Gi("div",Ms)}]]),Us=[(e=>(an("data-v-0837623a"),e=e(),on(),e))((()=>er("div",{class:"lds-default"},[er("div"),er("div"),er("div"),er("div"),er("div"),er("div"),er("div"),er("div"),er("div"),er("div"),er("div"),er("div")],-1)))],Ns={props:{size:{default:"60px"}}};r(8681);const Qs=(0,Ls.Z)(Ns,[["render",function(e,t,n,r,s,a){return Ui(),Gi("div",{class:"circle-loading",style:i(`height: ${n.size}; width: ${n.size};`)},Us,4)}],["__scopeId","data-v-0837623a"]]),Hs=r.p+"squest/c0ca2a8d8215d2036ac4c7569e136abc.png",Gs=e=>(an("data-v-589bcc29"),e=e(),on(),e),Zs={class:"navbar absolute-wrapper"},Ws={class:"center progress"},Ks={key:0,class:"progress-container"},Ys=Gs((()=>er("span",{class:"text-small info"},"Прогресс прохождения",-1))),Xs={key:1},Js=rr("Квесты"),ea={key:0},ta={key:1},na=Gs((()=>er("img",{class:"avatar",src:Hs,alt:""},null,-1)));var ia=Tn({name:"Vue3Autocounter",interval:null,props:{startAmount:{type:Number,default:0},endAmount:{type:Number,default:0,required:!0},duration:{type:Number,default:3,validator:e=>e>=1},autoinit:{type:Boolean,default:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},separator:{type:String,default:","},decimalSeparator:{type:String,default:"."},decimals:{type:Number,default:0,validator:e=>e>=0}},data:()=>({timestamp:0,startTimestamp:0,currentAmount:0,currentStartAmount:0,currentDuration:0,paused:!1,remaining:0,animationFrame:0}),mounted(){this.currentAmount=this.startAmount,this.currentStartAmount=this.startAmount,this.currentDuration=1e3*this.duration,this.remaining=1e3*this.duration,this.autoinit?this.start():this.paused=!0,this.$emit("mounted")},unmounted(){this.cancelAnimation()},watch:{startAmount(){this.reset()},endAmount(){this.reset()},duration(){this.reset()}},computed:{isCountingUp(){return this.endAmount>this.startAmount},displayedAmount(){return`${this.prefix}${this.formatedAmount}${this.suffix}`},formatedAmount(){const e=/(\d+)(\d{3})/;let t=this.currentAmount.toFixed(this.decimals);t+="";let n=t.split("."),i=n[0],r=n.length>1?this.decimalSeparator+n[1]:"",s=!isNaN(parseFloat(this.separator));if(this.separator&&!s)for(;e.test(i);)i=i.replace(e,"$1"+this.separator+"$2");return i+r}},methods:{start(){this.cancelAnimation(),this.currentStartAmount=this.startAmount,this.startTimestamp=null,this.currentDuration=1e3*this.duration,this.paused=!1,this.animationFrame=window.requestAnimationFrame(this.counting)},pause(){this.paused||(this.cancelAnimation(),this.paused=!0)},resume(){this.paused&&(this.startTimestamp=null,this.currentDuration=+this.remaining,this.currentStartAmount=+this.currentAmount,this.animationFrame=window.requestAnimationFrame(this.counting),this.paused=!1)},reset(){this.paused=!1,this.startTimestamp=null,this.cancelAnimation(),this.currentAmount=this.startAmount,this.autoinit?this.start():this.paused=!0},counting(e){this.timestamp=e,this.startTimestamp||(this.startTimestamp=e);let t=e-this.startTimestamp;this.remaining=this.currentDuration-t,this.isCountingUp?(this.currentAmount=this.currentStartAmount+(this.endAmount-this.currentStartAmount)*(t/this.currentDuration),this.currentAmount=this.currentAmount>this.endAmount?this.endAmount:this.currentAmount):(this.currentAmount=this.currentStartAmount-(this.currentStartAmount-this.endAmount)*(t/this.currentDuration),this.currentAmount=this.currentAmount<this.endAmount?this.endAmount:this.currentAmount),t<this.currentDuration?this.animationFrame=window.requestAnimationFrame(this.counting):setTimeout((()=>{this.$emit("finished")}),1e3)},cancelAnimation(){this.animationFrame&&window.cancelAnimationFrame(this.animationFrame)}}});ia.render=function(e,t,n,i,r,s){return Ui(),Zi("span",null,u(e.displayedAmount),1)};var ra=(()=>{const e=ia;return e.install=t=>{t.component("Vue3Autocounter",e)},e})();const sa={components:{Vue3autocounter:ra},data:()=>({prevProgress:0,newProgress:0}),methods:{updateProgress(){this.prevProgress=this.newProgress,this.newProgress=this.$store.state.user.progress/this.$store.state.user.progressMax*100}},watch:{"$store.state.user.progress":{handler:async function(e,t){this.updateProgress()},deep:!0},"$store.state.user.progressMax":{handler:async function(e,t){this.updateProgress()},deep:!0}}};r(7002);const aa=(0,Ls.Z)(sa,[["render",function(e,t,n,r,s,a){const o=Yn("vue3autocounter"),l=Yn("router-link");return Ui(),Gi("div",Zs,[er("div",{class:"progressbar",style:i("--progress: "+s.newProgress/100)},null,4),er("div",Ws,[e.$store.state.user.isLogined?(Ui(),Gi("div",Ks,[tr(o,{ref:"counter",startAmount:s.prevProgress,endAmount:s.newProgress,duration:2,prefix:"",suffix:"%",separator:"",decimalSeparator:",",decimals:1,autoinit:""},null,8,["startAmount","endAmount"]),Ys])):(Ui(),Gi("span",Xs,"SQ"))]),tr(l,{to:"/quests",class:"left side-item opacity-in delayedBig"},{default:ln((()=>[Js])),_:1}),tr(l,{to:"/profile",class:"right side-item opacity-in delayedBig"},{default:ln((()=>[er("span",null,[e.$store.state.user.isLogined?(Ui(),Gi("span",ta,u(e.$store.state.user.username),1)):(Ui(),Gi("span",ea,"Войти"))]),na])),_:1})])}],["__scopeId","data-v-589bcc29"]]),oa={components:{TopBar:aa,CircleLoading:Qs,Modal:Rs,Popups:Ds},data:()=>({transitionName:""}),watch:{$route(e,t){this.transitionName="scale-in",console.log(t.path,"TO",e.path),"/profile"===e.path?this.transitionName="scale-slide-left":"/profile"===t.path?this.transitionName="scale-slide-right":("/signin"===t.path&&"/signup"===e.path||"/signup"===t.path&&"/signin"===e.path)&&(this.transitionName="slide-left")}},mounted(){const e=gr().appContext.config.globalProperties;e.$modal=this.$refs.modal,e.$popups=this.$refs.popups,e.$user=this.$store.state.user,e.$url="https://sergtyapkin.herokuapp.com/squest"}};r(7958),r(6874);const la=(0,Ls.Z)(oa,[["render",function(e,t,n,i,r,s){const a=Yn("TopBar"),o=Yn("CircleLoading"),l=Yn("router-view"),c=Yn("Modal"),d=Yn("Popups");return Ui(),Gi(Pi,null,[tr(a),er("div",gs,[e.$store.state.user.isGotten?(Ui(),Zi(l,{key:1},{default:ln((({Component:e})=>[tr(Nr,{name:r.transitionName},{default:ln((()=>{return[(Ui(),Zi((t=e,A(t)?Jn(Kn,t,!1)||t:t||Xn)))];var t})),_:2},1032,["name"])])),_:1})):(Ui(),Zi(o,{key:0,class:"loading"}))]),tr(c,{ref:"modal"},null,512),tr(d,{ref:"popups"},null,512)],64)}],["__scopeId","data-v-1b8755e2"]]);function ca(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==r.g?r.g:{}}const da="function"==typeof Proxy;let ua,pa;class ha{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const i=e.settings[t];n[t]=i.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},n);try{const e=localStorage.getItem(i),t=JSON.parse(e);Object.assign(s,t)}catch(e){}this.fallbacks={getSettings:()=>s,setSettings(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(e){}s=e},now:()=>{return void 0!==ua||("undefined"!=typeof window&&window.performance?(ua=!0,pa=window.performance):void 0!==r.g&&(null===(e=r.g.perf_hooks)||void 0===e?void 0:e.performance)?(ua=!0,pa=r.g.perf_hooks.performance):ua=!1),ua?pa.now():Date.now();var e}},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function fa(e,t){const n=e,i=ca(),r=ca().__VUE_DEVTOOLS_GLOBAL_HOOK__,s=da&&n.enableEarlyProxy;if(!r||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&s){const e=s?new ha(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else r.emit("devtools-plugin:setup",e,t)}var ga="store";function ma(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var n,i=(n=function(t){return t.original===e},t.filter(n)[0]);if(i)return i.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach((function(n){r[n]=ma(e[n],t)})),r}function va(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function ba(e){return null!==e&&"object"==typeof e}function xa(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function ya(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;ka(e,n,[],e._modules.root,!0),wa(e,n,t)}function wa(e,t,n){var i=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,s={};va(r,(function(t,n){s[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return s[n]()},enumerable:!0})})),e._state=et({data:t}),e.strict&&function(e){mn((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),i&&n&&e._withCommit((function(){i.data=null}))}function ka(e,t,n,i,r){var s=!n.length,a=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=i),!s&&!r){var o=$a(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){o[l]=i.state}))}var c=i.context=function(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var s=Ca(n,i,r),a=s.payload,o=s.options,l=s.type;return o&&o.root||(l=t+l),e.dispatch(l,a)},commit:i?e.commit:function(n,i,r){var s=Ca(n,i,r),a=s.payload,o=s.options,l=s.type;o&&o.root||(l=t+l),e.commit(l,a,o)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return _a(e,t)}},state:{get:function(){return $a(e.state,n)}}}),r}(e,a,n);i.forEachMutation((function(t,n){!function(e,t,n,i){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,i.state,t)}))}(e,a+n,t,c)})),i.forEachAction((function(t,n){var i=t.root?n:a+n,r=t.handler||t;!function(e,t,n,i){(e._actions[t]||(e._actions[t]=[])).push((function(t){var r,s=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return(r=s)&&"function"==typeof r.then||(s=Promise.resolve(s)),e._devtoolHook?s.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):s}))}(e,i,r,c)})),i.forEachGetter((function(t,n){!function(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)})}(e,a+n,t,c)})),i.forEachChild((function(i,s){ka(e,t,n.concat(s),i,r)}))}function _a(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,i)===t){var s=r.slice(i);Object.defineProperty(n,s,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function $a(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Ca(e,t,n){return ba(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Sa="vuex:mutations",Ea="vuex:actions",Aa="vuex",Ta=0;function Ia(e,t){fa({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(n){n.addTimelineLayer({id:Sa,label:"Vuex Mutations",color:La}),n.addTimelineLayer({id:Ea,label:"Vuex Actions",color:La}),n.addInspector({id:Aa,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===Aa)if(n.filter){var i=[];Ma(i,t._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[Ra(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===Aa){var i=n.nodeId;_a(t,i),n.state=function(e,t,n){t="root"===n?t:t[n];var i=Object.keys(t),r={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(i.length){var s=function(e){var t={};return Object.keys(e).forEach((function(n){var i=n.split("/");if(i.length>1){var r=t,s=i.pop();i.forEach((function(e){r[e]||(r[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),r=r[e]._custom.value})),r[s]=Ba((function(){return e[n]}))}else t[n]=Ba((function(){return e[n]}))})),t}(t);r.getters=Object.keys(s).map((function(e){return{key:e.endsWith("/")?Oa(e):e,editable:!1,value:Ba((function(){return s[e]}))}}))}return r}((r=t._modules,(a=(s=i).split("/").filter((function(e){return e}))).reduce((function(e,t,n){var i=e[t];if(!i)throw new Error('Missing module "'+t+'" for path "'+s+'".');return n===a.length-1?i:i._children}),"root"===s?r:r.root._children)),"root"===i?t.getters:t._makeLocalGettersCache,i)}var r,s,a})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===Aa){var i=n.nodeId,r=n.path;"root"!==i&&(r=i.split("/").filter(Boolean).concat(r)),t._withCommit((function(){n.set(t._state.data,r,n.state.value)}))}})),t.subscribe((function(e,t){var i={};e.payload&&(i.payload=e.payload),i.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(Aa),n.sendInspectorState(Aa),n.addTimelineEvent({layerId:Sa,event:{time:Date.now(),title:e.type,data:i}})})),t.subscribeAction({before:function(e,t){var i={};e.payload&&(i.payload=e.payload),e._id=Ta++,e._time=Date.now(),i.state=t,n.addTimelineEvent({layerId:Ea,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:i}})},after:function(e,t){var i={},r=Date.now()-e._time;i.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},e.payload&&(i.payload=e.payload),i.state=t,n.addTimelineEvent({layerId:Ea,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:i}})}})}))}var La=8702998,qa={label:"namespaced",textColor:16777215,backgroundColor:6710886};function Oa(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function Ra(e,t){return{id:t||"root",label:Oa(t),tags:e.namespaced?[qa]:[],children:Object.keys(e._children).map((function(n){return Ra(e._children[n],t+n+"/")}))}}function Ma(e,t,n,i){i.includes(n)&&e.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[qa]:[]}),Object.keys(t._children).forEach((function(r){Ma(e,t._children[r],n,i+r+"/")}))}function Ba(e){try{return e()}catch(e){return e}}var Pa=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},za={namespaced:{configurable:!0}};za.namespaced.get=function(){return!!this._rawModule.namespaced},Pa.prototype.addChild=function(e,t){this._children[e]=t},Pa.prototype.removeChild=function(e){delete this._children[e]},Pa.prototype.getChild=function(e){return this._children[e]},Pa.prototype.hasChild=function(e){return e in this._children},Pa.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Pa.prototype.forEachChild=function(e){va(this._children,e)},Pa.prototype.forEachGetter=function(e){this._rawModule.getters&&va(this._rawModule.getters,e)},Pa.prototype.forEachAction=function(e){this._rawModule.actions&&va(this._rawModule.actions,e)},Pa.prototype.forEachMutation=function(e){this._rawModule.mutations&&va(this._rawModule.mutations,e)},Object.defineProperties(Pa.prototype,za);var Va=function(e){this.register([],e,!1)};function Fa(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;Fa(e.concat(i),t.getChild(i),n.modules[i])}}Va.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Va.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},Va.prototype.update=function(e){Fa([],this.root,e)},Va.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var r=new Pa(t,n);0===e.length?this.root=r:this.get(e.slice(0,-1)).addChild(e[e.length-1],r),t.modules&&va(t.modules,(function(t,r){i.register(e.concat(r),t,n)}))},Va.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],i=t.getChild(n);i&&i.runtime&&t.removeChild(n)},Va.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var ja=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var i=e.strict;void 0===i&&(i=!1);var r=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Va(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=r;var s=this,a=this.dispatch,o=this.commit;this.dispatch=function(e,t){return a.call(s,e,t)},this.commit=function(e,t,n){return o.call(s,e,t,n)},this.strict=i;var l=this._modules.root.state;ka(this,l,[],this._modules.root),wa(this,l),n.forEach((function(e){return e(t)}))},Da={state:{configurable:!0}};ja.prototype.install=function(e,t){e.provide(t||ga,this),e.config.globalProperties.$store=this,(void 0===this._devtools||this._devtools)&&Ia(e,this)},Da.state.get=function(){return this._state.data},Da.state.set=function(e){},ja.prototype.commit=function(e,t,n){var i=this,r=Ca(e,t,n),s=r.type,a=r.payload,o=(r.options,{type:s,payload:a}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(o,i.state)})))},ja.prototype.dispatch=function(e,t){var n=this,i=Ca(e,t),r=i.type,s=i.payload,a={type:r,payload:s},o=this._actions[r];if(o){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(e){}var l=o.length>1?Promise.all(o.map((function(e){return e(s)}))):o[0](s);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(e){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(e){}t(e)}))}))}},ja.prototype.subscribe=function(e,t){return xa(e,this._subscribers,t)},ja.prototype.subscribeAction=function(e,t){return xa("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},ja.prototype.watch=function(e,t,n){var i=this;return mn((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},ja.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},ja.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),ka(this,this.state,e,this._modules.get(e),n.preserveState),wa(this,this.state)},ja.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete $a(t.state,e.slice(0,-1))[e[e.length-1]]})),ya(this)},ja.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},ja.prototype.hotUpdate=function(e){this._modules.update(e),ya(this,!0)},ja.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(ja.prototype,Da);var Ua=Za((function(e,t){var n={};return Ga(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=Wa(this.$store,0,e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,t,n):t[r]},n[i].vuex=!0})),n})),Na=Za((function(e,t){var n={};return Ga(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.commit;if(e){var s=Wa(this.$store,0,e);if(!s)return;i=s.context.commit}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n})),Qa=Za((function(e,t){var n={};return Ga(t).forEach((function(t){var i=t.key,r=t.val;r=e+r,n[i]=function(){if(!e||Wa(this.$store,0,e))return this.$store.getters[r]},n[i].vuex=!0})),n})),Ha=Za((function(e,t){var n={};return Ga(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var s=Wa(this.$store,0,e);if(!s)return;i=s.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n}));function Ga(e){return function(e){return Array.isArray(e)||ba(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function Za(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function Wa(e,t,n){return e._modulesNamespaceMap[n]}function Ka(e,t,n){var i=n?e.groupCollapsed:e.group;try{i.call(e,t)}catch(n){e.log(t)}}function Ya(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function Xa(){var e=new Date;return" @ "+Ja(e.getHours(),2)+":"+Ja(e.getMinutes(),2)+":"+Ja(e.getSeconds(),2)+"."+Ja(e.getMilliseconds(),3)}function Ja(e,t){return"0",n=t-e.toString().length,new Array(n+1).join("0")+e;var n}const eo=new{version:"4.0.2",Store:ja,storeKey:ga,createStore:function(e){return new ja(e)},useStore:function(e){return void 0===e&&(e=null),fn(null!==e?e:ga)},mapState:Ua,mapMutations:Na,mapGetters:Qa,mapActions:Ha,createNamespacedHelpers:function(e){return{mapState:Ua.bind(null,e),mapGetters:Qa.bind(null,e),mapMutations:Na.bind(null,e),mapActions:Ha.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var i=e.transformer;void 0===i&&(i=function(e){return e});var r=e.mutationTransformer;void 0===r&&(r=function(e){return e});var s=e.actionFilter;void 0===s&&(s=function(e,t){return!0});var a=e.actionTransformer;void 0===a&&(a=function(e){return e});var o=e.logMutations;void 0===o&&(o=!0);var l=e.logActions;void 0===l&&(l=!0);var c=e.logger;return void 0===c&&(c=console),function(e){var d=ma(e.state);void 0!==c&&(o&&e.subscribe((function(e,s){var a=ma(s);if(n(e,d,a)){var o=Xa(),l=r(e),u="mutation "+e.type+o;Ka(c,u,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(d)),c.log("%c mutation","color: #03A9F4; font-weight: bold",l),c.log("%c next state","color: #4CAF50; font-weight: bold",i(a)),Ya(c)}d=a})),l&&e.subscribeAction((function(e,n){if(s(e,n)){var i=Xa(),r=a(e),o="action "+e.type+i;Ka(c,o,t),c.log("%c action","color: #03A9F4; font-weight: bold",r),Ya(c)}})))}}}.Store({state:{user:new class extends class{default={};_setDefault(e=this){for(const t in e.default)this[t]=e.default[t]}setDefault(e=this){this._setDefault(e)}constructor(){this._setDefault()}set(e,t=this){for(let n in t.default)this.default.hasOwnProperty(n)&&(this[n]=e[n])}}{default={id:"?",isLogined:!1,isGotten:!1,isAdmin:!1,isConfirmed:!1,joinedDate:"",email:"",name:"",username:"",password:"",rating:0,position:0,chosenquestid:"?",chosenquest:"",chosenbranchid:"?",chosenbranch:"",progress:0,progressMax:0,avatarurl:"",createdquests:0,completedbranches:0};set(e){super.set(e),this.isLogined=!0,this.isGotten=!0}setDefault(){super._setDefault(this),this.isGotten=!0}constructor(){super(),this._setDefault()}}},mutations:{SET_USER(e,t){e.user.set(t)},DELETE_USER(e){e.user.setDefault()}},actions:{async GET_USER(e){const t=await this.$app.$api.getUser(),n=await this.$app.$api.getPlay();t.ok_?e.commit("SET_USER",{avatarurl:t.avatarurl,chosenbranchid:t.chosenbranchid,chosenbranch:t.chosenbranch,chosenquestid:t.chosenquestid,chosenquest:t.chosenquest,email:t.email,id:t.id,isAdmin:t.isadmin,isConfirmed:t.isconfirmed,joinedDate:t.joineddate,name:t.name,username:t.username,position:t.position,rating:t.rating,createdquests:t.createdquests,completedbranches:t.completedbranches,progress:n.progress,progressMax:n.length}):e.commit("DELETE_USER")},async DELETE_USER(e){e.commit("DELETE_USER")}}}),to=eo,no="undefined"!=typeof window;const io=Object.assign;function ro(e,t){const n={};for(const i in t){const r=t[i];n[i]=ao(r)?r.map(e):e(r)}return n}const so=()=>{},ao=Array.isArray,oo=/\/$/;function lo(e,t,n="/"){let i,r={},s="",a="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,o>-1?o:t.length),r=e(s)),o>-1&&(i=i||t.slice(0,o),a=t.slice(o,t.length)),i=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r,s,a=n.length-1;for(r=0;r<i.length;r++)if(s=i[r],"."!==s){if(".."!==s)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}(null!=i?i:t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:r,hash:a}}function co(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function uo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function po(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ho(e[n],t[n]))return!1;return!0}function ho(e,t){return ao(e)?fo(e,t):ao(t)?fo(t,e):e===t}function fo(e,t){return ao(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var go,mo;!function(e){e.pop="pop",e.push="push"}(go||(go={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(mo||(mo={}));const vo=/^[^#]+#/;function bo(e,t){return e.replace(vo,"#")+t}const xo=()=>({left:window.pageXOffset,top:window.pageYOffset});function yo(e,t){return(history.state?history.state.position-t:-1)+e}const wo=new Map;let ko=()=>location.protocol+"//"+location.host;function _o(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let t=r.includes(e.slice(s))?e.slice(s).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),co(n,"")}return co(n,e)+i+r}function $o(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?xo():null}}function Co(e){const t=function(e){const{history:t,location:n}=window,i={value:_o(e,n)},r={value:t.state};function s(i,s,a){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+i:ko()+e+i;try{t[a?"replaceState":"pushState"](s,"",l),r.value=s}catch(e){console.error(e),n[a?"replace":"assign"](l)}}return r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:function(e,n){const a=io({},r.value,t.state,{forward:e,scroll:xo()});s(a.current,a,!0),s(e,io({},$o(i.value,e,null),{position:a.position+1},n),!1),i.value=e},replace:function(e,n){s(e,io({},t.state,$o(r.value.back,e,r.value.forward,!0),n,{position:r.value.position}),!0),i.value=e}}}(e=function(e){if(!e)if(no){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(oo,"")}(e)),n=function(e,t,n,i){let r=[],s=[],a=null;const o=({state:s})=>{const o=_o(e,location),l=n.value,c=t.value;let d=0;if(s){if(n.value=o,t.value=s,a&&a===l)return void(a=null);d=c?s.position-c.position:0}else i(o);r.forEach((e=>{e(n.value,l,{delta:d,type:go.pop,direction:d?d>0?mo.forward:mo.back:mo.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(io({},e.state,{scroll:xo()}),"")}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",l),{pauseListeners:function(){a=n.value},listen:function(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return s.push(t),t},destroy:function(){for(const e of s)e();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),i=io({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:bo.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function So(e){return"string"==typeof e||"symbol"==typeof e}const Eo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ao=Symbol("");var To;function Io(e,t){return io(new Error,{type:e,[Ao]:!0},t)}function Lo(e,t){return e instanceof Error&&Ao in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(To||(To={}));const qo="[^/]+?",Oo={sensitive:!1,strict:!1,start:!0,end:!0},Ro=/[.+*?^${}()[\]/\\]/g;function Mo(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Bo(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const e=Mo(i[n],r[n]);if(e)return e;n++}if(1===Math.abs(r.length-i.length)){if(Po(i))return 1;if(Po(r))return-1}return r.length-i.length}function Po(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const zo={type:0,value:""},Vo=/[a-zA-Z0-9_]/;function Fo(e,t,n){const i=function(e,t){const n=io({},Oo,t),i=[];let r=n.start?"^":"";const s=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(r+="/");for(let i=0;i<t.length;i++){const a=t[i];let o=40+(n.sensitive?.25:0);if(0===a.type)i||(r+="/"),r+=a.value.replace(Ro,"\\$&"),o+=40;else if(1===a.type){const{value:e,repeatable:n,optional:l,regexp:c}=a;s.push({name:e,repeatable:n,optional:l});const d=c||qo;if(d!==qo){o+=10;try{new RegExp(`(${d})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+t.message)}}let u=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;i||(u=l&&t.length<2?`(?:/${u})`:"/"+u),l&&(u+="?"),r+=u,o+=20,l&&(o+=-8),n&&(o+=-20),".*"===d&&(o+=-50)}e.push(o)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");return{re:a,score:i,keys:s,parse:function(e){const t=e.match(a),n={};if(!t)return null;for(let e=1;e<t.length;e++){const i=t[e]||"",r=s[e-1];n[r.name]=i&&r.repeatable?i.split("/"):i}return n},stringify:function(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:s,repeatable:a,optional:o}=e,l=s in t?t[s]:"";if(ao(l)&&!a)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const c=ao(l)?l.join("/"):l;if(!c){if(!o)throw new Error(`Missing required param "${s}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[zo]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,i=n;const r=[];let s;function a(){s&&r.push(s),s=[]}let o,l=0,c="",d="";function u(){c&&(0===n?s.push({type:0,value:c}):1===n||2===n||3===n?(s.length>1&&("*"===o||"+"===o)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:d,repeatable:"*"===o||"+"===o,optional:"*"===o||"?"===o})):t("Invalid state to consume buffer"),c="")}function p(){c+=o}for(;l<e.length;)if(o=e[l++],"\\"!==o||2===n)switch(n){case 0:"/"===o?(c&&u(),a()):":"===o?(u(),n=1):p();break;case 4:p(),n=i;break;case 1:"("===o?n=2:Vo.test(o)?p():(u(),n=0,"*"!==o&&"?"!==o&&"+"!==o&&l--);break;case 2:")"===o?"\\"==d[d.length-1]?d=d.slice(0,-1)+o:n=3:d+=o;break;case 3:u(),n=0,"*"!==o&&"?"!==o&&"+"!==o&&l--,d="";break;default:t("Unknown state")}else i=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),u(),a(),r}(e.path),n),r=io(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function jo(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="boolean"==typeof n?n:n[i];return t}function Do(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Uo(e){return e.reduce(((e,t)=>io(e,t.meta)),{})}function No(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Qo(e,t){return t.children.some((t=>t===e||Qo(e,t)))}const Ho=/#/g,Go=/&/g,Zo=/\//g,Wo=/=/g,Ko=/\?/g,Yo=/\+/g,Xo=/%5B/g,Jo=/%5D/g,el=/%5E/g,tl=/%60/g,nl=/%7B/g,il=/%7C/g,rl=/%7D/g,sl=/%20/g;function al(e){return encodeURI(""+e).replace(il,"|").replace(Xo,"[").replace(Jo,"]")}function ol(e){return al(e).replace(Yo,"%2B").replace(sl,"+").replace(Ho,"%23").replace(Go,"%26").replace(tl,"`").replace(nl,"{").replace(rl,"}").replace(el,"^")}function ll(e){return null==e?"":function(e){return al(e).replace(Ho,"%23").replace(Ko,"%3F")}(e).replace(Zo,"%2F")}function cl(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function dl(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const i=n[e].replace(Yo," "),r=i.indexOf("="),s=cl(r<0?i:i.slice(0,r)),a=r<0?null:cl(i.slice(r+1));if(s in t){let e=t[s];ao(e)||(e=t[s]=[e]),e.push(a)}else t[s]=a}return t}function ul(e){let t="";for(let n in e){const i=e[n];(n=ol(n).replace(Wo,"%3D"),null!=i)?(ao(i)?i.map((e=>e&&ol(e))):[i&&ol(i)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})):void 0!==i&&(t+=(t.length?"&":"")+n)}return t}function pl(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=ao(i)?i.map((e=>null==e?null:""+e)):null==i?i:""+i)}return t}const hl=Symbol(""),fl=Symbol(""),gl=Symbol(""),ml=Symbol(""),vl=Symbol("");function bl(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function xl(e,t,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((a,o)=>{const l=e=>{var l;!1===e?o(Io(4,{from:n,to:t})):e instanceof Error?o(e):"string"==typeof(l=e)||l&&"object"==typeof l?o(Io(2,{from:t,to:e})):(s&&i.enterCallbacks[r]===s&&"function"==typeof e&&s.push(e),a())},c=e.call(i&&i.instances[r],t,n,l);let d=Promise.resolve(c);e.length<3&&(d=d.then(l)),d.catch((e=>o(e)))}))}function yl(e,t,n,i){const r=[];for(const a of e)for(const e in a.components){let o=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if("object"==typeof(s=o)||"displayName"in s||"props"in s||"__vccOpts"in s){const s=(o.__vccOpts||o)[t];s&&r.push(xl(s,n,i,a,e))}else{let s=o();r.push((()=>s.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${a.path}"`));const s=(o=r).__esModule||"Module"===o[Symbol.toStringTag]?r.default:r;var o;a.components[e]=s;const l=(s.__vccOpts||s)[t];return l&&xl(l,n,i,a,e)()}))))}}var s;return r}function wl(e){const t=fn(gl),n=fn(ml),i=_r((()=>t.resolve(mt(e.to)))),r=_r((()=>{const{matched:e}=i.value,{length:t}=e,r=e[t-1],s=n.matched;if(!r||!s.length)return-1;const a=s.findIndex(uo.bind(null,r));if(a>-1)return a;const o=_l(e[t-2]);return t>1&&_l(r)===o&&s[s.length-1].path!==o?s.findIndex(uo.bind(null,e[t-2])):a})),s=_r((()=>r.value>-1&&function(e,t){for(const n in t){const i=t[n],r=e[n];if("string"==typeof i){if(i!==r)return!1}else if(!ao(r)||r.length!==i.length||i.some(((e,t)=>e!==r[t])))return!1}return!0}(n.params,i.value.params))),a=_r((()=>r.value>-1&&r.value===n.matched.length-1&&po(n.params,i.value.params)));if(no){const e=gr();if(e){const t={route:i.value,isActive:s.value,isExactActive:a.value};e.__vrl_devtools=e.__vrl_devtools||[],e.__vrl_devtools.push(t),vn((()=>{t.route=i.value,t.isActive=s.value,t.isExactActive=a.value}),null,{flush:"post"})}}return{route:i,href:_r((()=>i.value.href)),isActive:s,isExactActive:a,navigate:function(n={}){return function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(n)?t[mt(e.replace)?"replace":"push"](mt(e.to)).catch(so):Promise.resolve()}}}const kl=Tn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wl,setup(e,{slots:t}){const n=et(wl(e)),{options:i}=fn(gl),r=_r((()=>({[$l(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[$l(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:$r("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}});function _l(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $l=(e,t,n)=>null!=e?e:null!=t?t:n;function Cl(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const Sl=Tn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=fn(vl),r=_r((()=>e.route||i.value)),s=fn(fl,0),a=_r((()=>{let e=mt(s);const{matched:t}=r.value;let n;for(;(n=t[e])&&!n.components;)e++;return e})),o=_r((()=>r.value.matched[a.value]));hn(fl,_r((()=>a.value+1))),hn(hl,o),hn(vl,r);const l=ft(undefined,!1);return mn((()=>[l.value,o.value,e.name]),(([e,t,n],[i,r,s])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&uo(t,r)&&i||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=r.value,s=e.name,c=o.value,d=c&&c.components[s];if(!d)return Cl(n.default,{Component:d,route:i});const u=c.props[s],p=u?!0===u?i.params:"function"==typeof u?u(i):u:null,h=$r(d,io({},p,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(c.instances[s]=null)},ref:l}));if(no&&h.ref){const e={depth:a.value,name:c.name,path:c.path,meta:c.meta};(ao(h.ref)?h.ref.map((e=>e.i)):[h.ref.i]).forEach((t=>{t.__vrv_devtools=e}))}return Cl(n.default,{Component:h,route:i})||h}}});function El(e,t){const n=io({},e,{matched:e.matched.map((e=>function(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}(e,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function Al(e){return{_custom:{display:e}}}let Tl=0;function Il(e,t,n){if(t.__hasDevtools)return;t.__hasDevtools=!0;const i=Tl++;fa({id:"org.vuejs.router"+(i?"."+i:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},(r=>{"function"!=typeof r.now&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent(((e,n)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:El(t.currentRoute.value,"Current Route")})})),r.on.visitComponentTree((({treeNode:e,componentInstance:t})=>{if(t.__vrv_devtools){const n=t.__vrv_devtools;e.tags.push({label:(n.name?`${n.name.toString()}: `:"")+n.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:ql})}ao(t.__vrl_devtools)&&(t.__devtoolsApi=r,t.__vrl_devtools.forEach((t=>{let n=Ml,i="";t.isExactActive?(n=Rl,i="This is exactly active"):t.isActive&&(n=Ol,i="This link is active"),e.tags.push({label:t.route.path,textColor:0,tooltip:i,backgroundColor:n})})))})),mn(t.currentRoute,(()=>{l(),r.notifyComponentUpdate(),r.sendInspectorTree(o),r.sendInspectorState(o)}));const s="router:navigations:"+i;r.addTimelineLayer({id:s,label:`Router${i?" "+i:""} Navigations`,color:4237508}),t.onError(((e,t)=>{r.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:r.now(),data:{error:e},groupId:t.meta.__navigationId}})}));let a=0;t.beforeEach(((e,t)=>{const n={guard:Al("beforeEach"),from:El(t,"Current Location during this navigation"),to:El(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:a++}),r.addTimelineEvent({layerId:s,event:{time:r.now(),title:"Start of navigation",subtitle:e.fullPath,data:n,groupId:e.meta.__navigationId}})})),t.afterEach(((e,t,n)=>{const i={guard:Al("afterEach")};n?(i.failure={_custom:{type:Error,readOnly:!0,display:n?n.message:"",tooltip:"Navigation Failure",value:n}},i.status=Al("❌")):i.status=Al("✅"),i.from=El(t,"Current Location during this navigation"),i.to=El(e,"Target location"),r.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:e.fullPath,time:r.now(),data:i,logType:n?"warning":"default",groupId:e.meta.__navigationId}})}));const o="router-inspector:"+i;function l(){if(!c)return;const e=c;let i=n.getRoutes().filter((e=>!e.parent));i.forEach(Fl),e.filter&&(i=i.filter((t=>jl(t,e.filter.toLowerCase())))),i.forEach((e=>Vl(e,t.currentRoute.value))),e.rootNodes=i.map(Bl)}let c;r.addInspector({id:o,label:"Routes"+(i?" "+i:""),icon:"book",treeFilterPlaceholder:"Search routes"}),r.on.getInspectorTree((t=>{c=t,t.app===e&&t.inspectorId===o&&l()})),r.on.getInspectorState((t=>{if(t.app===e&&t.inspectorId===o){const e=n.getRoutes().find((e=>e.record.__vd_id===t.nodeId));e&&(t.state={options:Ll(e)})}})),r.sendInspectorTree(o),r.sendInspectorState(o)}))}function Ll(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`)).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map((e=>e.record.path))}),Object.keys(e.record.meta).length&&n.push({editable:!1,key:"meta",value:e.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((e=>e.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const ql=15485081,Ol=2450411,Rl=8702998,Ml=16486972;function Bl(e){const t=[],{record:n}=e;null!=n.name&&t.push({label:String(n.name),textColor:0,backgroundColor:2282478}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:Ml}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:ql}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:Rl}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:Ol}),n.redirect&&t.push({label:"string"==typeof n.redirect?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:6710886});let i=n.__vd_id;return null==i&&(i=String(Pl++),n.__vd_id=i),{id:i,label:n.path,tags:t,children:e.children.map(Bl)}}let Pl=0;const zl=/^\/(.*)\/([a-z]*)$/;function Vl(e,t){const n=t.matched.length&&uo(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some((t=>uo(t,e.record)))),e.children.forEach((e=>Vl(e,t)))}function Fl(e){e.__vd_match=!1,e.children.forEach(Fl)}function jl(e,t){const n=String(e.re).match(zl);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach((e=>jl(e,t))),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const i=e.record.path.toLowerCase(),r=cl(i);return!(t.startsWith("/")||!r.includes(t)&&!i.includes(t))||!(!r.startsWith(t)&&!i.startsWith(t))||!(!e.record.name||!String(e.record.name).includes(t))||e.children.some((e=>jl(e,t)))}function Dl(e){const t=function(e,t){const n=[],i=new Map;function r(e,n,i){const o=!i,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:jo(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);l.aliasOf=i&&i.record;const c=No(t,e),d=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)d.push(io({},l,{components:i?i.record.components:l.components,path:e,aliasOf:i?i.record:l}))}let u,p;for(const t of d){const{path:d}=t;if(n&&"/"!==d[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(d&&i+d)}if(u=Fo(t,n,c),i?i.alias.push(u):(p=p||u,p!==u&&p.alias.push(u),o&&e.name&&!Do(u)&&s(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],u,i&&i.children[t])}i=i||u,a(u)}return p?()=>{s(p)}:so}function s(e){if(So(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function a(e){let t=0;for(;t<n.length&&Bo(e,n[t])>=0&&(e.record.path!==n[t].record.path||!Qo(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!Do(e)&&i.set(e.record.name,e)}return t=No({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>r(e))),{addRoute:r,resolve:function(e,t){let r,s,a,o={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw Io(1,{location:e});a=r.record.name,o=io(function(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}(t.params,r.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),s=r.stringify(o)}else if("path"in e)s=e.path,r=n.find((e=>e.re.test(s))),r&&(o=r.parse(s),a=r.record.name);else{if(r=t.name?i.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw Io(1,{location:e,currentLocation:t});a=r.record.name,o=io({},t.params,e.params),s=r.stringify(o)}const l=[];let c=r;for(;c;)l.unshift(c.record),c=c.parent;return{name:a,path:s,params:o,matched:l,meta:Uo(l)}},removeRoute:s,getRoutes:function(){return n},getRecordMatcher:function(e){return i.get(e)}}}(e.routes,e),n=e.parseQuery||dl,i=e.stringifyQuery||ul,r=e.history,s=bl(),a=bl(),o=bl(),l=ft(Eo,!0);let c=Eo;no&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ro.bind(null,(e=>""+e)),u=ro.bind(null,ll),p=ro.bind(null,cl);function h(e,s){if(s=io({},s||l.value),"string"==typeof e){const i=lo(n,e,s.path),a=t.resolve({path:i.path},s),o=r.createHref(i.fullPath);return io(i,a,{params:p(a.params),hash:cl(i.hash),redirectedFrom:void 0,href:o})}let a;if("path"in e)a=io({},e,{path:lo(n,e.path,s.path).path});else{const t=io({},e.params);for(const e in t)null==t[e]&&delete t[e];a=io({},e,{params:u(e.params)}),s.params=u(s.params)}const o=t.resolve(a,s),c=e.hash||"";o.params=d(p(o.params));const h=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(i,io({},e,{hash:(f=c,al(f).replace(nl,"{").replace(rl,"}").replace(el,"^")),path:o.path}));var f;const g=r.createHref(h);return io({fullPath:h,hash:c,query:i===ul?pl(e.query):e.query||{}},o,{redirectedFrom:void 0,href:g})}function f(e){return"string"==typeof e?lo(n,e,l.value.path):io({},e)}function g(e,t){if(c!==e)return Io(8,{from:t,to:e})}function m(e){return b(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let i="function"==typeof n?n(e):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=f(i):{path:i},i.params={}),io({query:e.query,hash:e.hash,params:"path"in i?{}:e.params},i)}}function b(e,t){const n=c=h(e),r=l.value,s=e.state,a=e.force,o=!0===e.replace,d=v(n);if(d)return b(io(f(d),{state:s,force:a,replace:o}),t||n);const u=n;let p;return u.redirectedFrom=t,!a&&function(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&uo(t.matched[i],n.matched[r])&&po(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(i,r,n)&&(p=Io(16,{to:u,from:r}),T(r,r,!0,!1)),(p?Promise.resolve(p):y(u,r)).catch((e=>Lo(e)?Lo(e,2)?e:A(e):E(e,u,r))).then((e=>{if(e){if(Lo(e,2))return b(io({replace:o},f(e.to),{state:s,force:a}),t||u)}else e=k(u,r,!0,o,s);return w(u,r,e),e}))}function x(e,t){const n=g(e,t);return n?Promise.reject(n):Promise.resolve()}function y(e,t){let n;const[i,r,o]=function(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const s=t.matched[a];s&&(e.matched.find((e=>uo(e,s)))?i.push(s):n.push(s));const o=e.matched[a];o&&(t.matched.find((e=>uo(e,o)))||r.push(o))}return[n,i,r]}(e,t);n=yl(i.reverse(),"beforeRouteLeave",e,t);for(const r of i)r.leaveGuards.forEach((i=>{n.push(xl(i,e,t))}));const l=x.bind(null,e,t);return n.push(l),Ul(n).then((()=>{n=[];for(const i of s.list())n.push(xl(i,e,t));return n.push(l),Ul(n)})).then((()=>{n=yl(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach((i=>{n.push(xl(i,e,t))}));return n.push(l),Ul(n)})).then((()=>{n=[];for(const i of e.matched)if(i.beforeEnter&&!t.matched.includes(i))if(ao(i.beforeEnter))for(const r of i.beforeEnter)n.push(xl(r,e,t));else n.push(xl(i.beforeEnter,e,t));return n.push(l),Ul(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=yl(o,"beforeRouteEnter",e,t),n.push(l),Ul(n)))).then((()=>{n=[];for(const i of a.list())n.push(xl(i,e,t));return n.push(l),Ul(n)})).catch((e=>Lo(e,8)?e:Promise.reject(e)))}function w(e,t,n){for(const i of o.list())i(e,t,n)}function k(e,t,n,i,s){const a=g(e,t);if(a)return a;const o=t===Eo,c=no?history.state:{};n&&(i||o?r.replace(e.fullPath,io({scroll:o&&c&&c.scroll},s)):r.push(e.fullPath,s)),l.value=e,T(e,t,n,o),A()}let _;let $,C=bl(),S=bl();function E(e,t,n){A(e);const i=S.list();return i.length?i.forEach((i=>i(e,t,n))):console.error(e),Promise.reject(e)}function A(e){return $||($=!e,_||(_=r.listen(((e,t,n)=>{if(!O.listening)return;const i=h(e),s=v(i);if(s)return void b(io(s,{replace:!0}),i).catch(so);c=i;const a=l.value;var o,d;no&&(o=yo(a.fullPath,n.delta),d=xo(),wo.set(o,d)),y(i,a).catch((e=>Lo(e,12)?e:Lo(e,2)?(b(e.to,i).then((e=>{Lo(e,20)&&!n.delta&&n.type===go.pop&&r.go(-1,!1)})).catch(so),Promise.reject()):(n.delta&&r.go(-n.delta,!1),E(e,i,a)))).then((e=>{(e=e||k(i,a,!1))&&(n.delta&&!Lo(e,8)?r.go(-n.delta,!1):n.type===go.pop&&Lo(e,20)&&r.go(-1,!1)),w(i,a,e)})).catch(so)}))),C.list().forEach((([t,n])=>e?n(e):t())),C.reset()),e}function T(t,n,i,r){const{scrollBehavior:s}=e;if(!no||!s)return Promise.resolve();const a=!i&&function(e){const t=wo.get(e);return wo.delete(e),t}(yo(t.fullPath,0))||(r||!i)&&history.state&&history.state.scroll||null;return Bt().then((()=>s(t,n,a))).then((e=>e&&function(e){let t;if("el"in e){const n=e.el,i="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}(e))).catch((e=>E(e,t,n)))}const I=e=>r.go(e);let L;const q=new Set,O={currentRoute:l,listening:!0,addRoute:function(e,n){let i,r;return So(e)?(i=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,i)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:h,options:e,push:m,replace:function(e){return m(io(f(e),{replace:!0}))},go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:S.add,isReady:function(){return $&&l.value!==Eo?Promise.resolve():new Promise(((e,t)=>{C.add([e,t])}))},install(e){const n=this;e.component("RouterLink",kl),e.component("RouterView",Sl),e.config.globalProperties.$router=n,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>mt(l)}),no&&!L&&l.value===Eo&&(L=!0,m(r.location).catch((e=>{})));const i={};for(const e in Eo)i[e]=_r((()=>l.value[e]));e.provide(gl,n),e.provide(ml,et(i)),e.provide(vl,l);const s=e.unmount;q.add(e),e.unmount=function(){q.delete(e),q.size<1&&(c=Eo,_&&_(),_=null,l.value=Eo,L=!1,$=!1),s()},no&&Il(e,n,t)}};return O}function Ul(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}const Nl=rr("Нужен аккаунт? "),Ql=rr("Создать"),Hl={class:"info-container"},Gl={class:"text-small"},Zl={class:"fields-container"},Wl={class:"form-info text-middle"},Kl={key:0,class:"submit-container"},Yl=["value"],Xl={class:"text-small info"},Jl={emits:["submit"],data:()=>({loading:!1,info:""}),methods:{submit(){this.$emit("submit",this.values)},showError(){Ps([this.$refs.form],"error")},showSuccess(){Ps([this.$refs.form],"success")}}};r(2171);const ec=(0,Ls.Z)(Jl,[["render",function(e,t,n,i,r,s){return Ui(),Gi("form",{onSubmit:t[0]||(t[0]=ls(((...e)=>s.submit&&s.submit(...e)),["prevent","stop"])),class:c(["form",{disabled:r.loading}]),ref:"form"},[ni(e.$slots,"default")],34)}]]),tc={components:{FloatingInput:qs,CircleLoading:Qs,Form:ec},emits:["submit"],props:{title:{type:String},description:{type:String},fields:{type:Array,default:[]},submitText:{type:String},submitInfo:{type:String},noBg:{type:Boolean,default:!1},noSubmit:{type:Boolean,default:!1},smallTitle:{type:Boolean,default:!1}},data:()=>({loading:!1,info:"",errors:{},values:{}}),mounted(){for(const e of this.fields)this.values[e.jsonName]="",this.errors[e.jsonName]=""},methods:{submit(){this.$emit("submit",this.values)},showError(){this.$refs.form.info=this.info,this.$refs.form.showError()},showSuccess(){this.$refs.form.info=this.info,this.$refs.form.showSuccess()}}};r(1328);const nc=(0,Ls.Z)(tc,[["render",function(e,t,n,i,r,s){const a=Yn("FloatingInput"),o=Yn("CircleLoading"),l=Yn("Form");return Ui(),Zi(l,{onSubmit:s.submit,ref:"form",class:c({"no-bg":n.noBg})},{default:ln((()=>[er("div",Hl,[er("div",{class:c(["text-big-xx",{"text-big":n.smallTitle}])},u(n.title),3),er("div",Gl,u(n.description),1)]),er("div",Zl,[er("div",Wl,u(r.info),1),(Ui(!0),Gi(Pi,null,ti(n.fields,(e=>(Ui(),Zi(a,{title:e.title,autocomplete:e.autocomplete,type:e.type,error:r.errors[e.jsonName],modelValue:r.values[e.jsonName],"onUpdate:modelValue":t=>r.values[e.jsonName]=t},{default:ln((()=>[rr(u(e.info),1)])),_:2},1032,["title","autocomplete","type","error","modelValue","onUpdate:modelValue"])))),256))]),n.noSubmit?ar("v-if",!0):(Ui(),Gi("div",Kl,[r.loading?(Ui(),Zi(o,{key:1})):(Ui(),Gi("input",{key:0,type:"submit",value:n.submitText},null,8,Yl))])),er("div",Xl,[ni(e.$slots,"default",{},void 0,!0)])])),_:3},8,["onSubmit","class"])}],["__scopeId","data-v-034f8740"]]),ic={components:{Form:nc},methods:{validate(e,t){let n=!0;return 0===e.length&&(this.$refs.form.errors.username="Логин не может быть пустым",n=!1),0===t.length&&(this.$refs.form.errors.password="Пароль не может быть пустым",n=!1),n},async signIn({username:e,password:t}){if(!this.validate(e,t))return;this.$refs.form.loading=!0;const n=await this.$api.signIn(e,t);return this.$refs.form.loading=!1,n.ok_?(await this.$store.dispatch("GET_USER"),this.$popups.success("Прекрасно входит...","и замечательно выходит"),this.$refs.form.errors={},void this.$router.push("/profile")):401===n.status_?(this.$refs.form.info="Неверный логин или пароль",this.$refs.form.errors.username="Неверный логин или пароль",this.$refs.form.errors.password="Неверный логин или пароль",void this.$refs.form.showError()):void this.$popups.error("Не удалось войти в аккаунт","Произошла неизвестная ошибка!")}}};r(7417);const rc=(0,Ls.Z)(ic,[["render",function(e,t,n,i,r,s){const a=Yn("router-link"),o=Yn("Form");return Ui(),Gi("div",null,[tr(o,{ref:"form",title:"Вход",description:"Ну давай, вспомни пароль, войди в меня",fields:[{title:"ЛОГИН",autocomplete:"on",jsonName:"username"},{title:"ПАРОЛЬ",autocomplete:"on",jsonName:"password",type:"password",info:"Забыл пароль? - пей таблетки"}],"submit-text":"Погнали",onSubmit:s.signIn},{default:ln((()=>[Nl,tr(a,{to:"/signup",class:"link"},{default:ln((()=>[Ql])),_:1})])),_:1},8,["onSubmit"])])}]]),sc=rr("Уже есть аккаунт? "),ac=rr("Войти"),oc={components:{Form:nc},methods:{validate(e,t,n,i,r){let s=!0;return 0===e.length&&(this.$refs.form.errors.username="Логин не может быть пустым",s=!1),0===t.length&&(this.$refs.form.errors.password="Пароль не может быть пустым",s=!1),t!==n&&(this.$refs.form.errors.password="Пароли не совпадают",this.$refs.form.errors.passwordConfirm="Пароли не совпадают",s=!1),0===i.length&&(this.$refs.form.errors.email="E-mail не может быть пустым",s=!1),0===r.length&&(this.$refs.form.errors.name="Имя не может быть пустым",s=!1),s},async signUp({username:e,password:t,passwordConfirm:n,email:i,name:r}){if(!this.validate(e,t,n,i,r))return;this.$refs.form.loading=!0;const s=await this.$api.signUp(e,t,i,r);return this.$refs.form.loading=!1,s.ok_?(await this.$store.dispatch("GET_USER"),await this.$router.push("/profile"),this.$popups.success("Аккаунт создан!"),void(this.$refs.form.errors={})):409===s.status_?(this.$refs.form.info="Логин или e-mail уже заняты",this.$refs.form.errors.username="Такой логин уже занят",this.$refs.form.errors.email="Или E-mail уже занят... Мы точно не знаем)",void this.$refs.form.showError()):void this.$popups.error("Не удалось войти в аккаунт","Произошла неизвестная ошибка!")}}};r(9503);const lc=(0,Ls.Z)(oc,[["render",function(e,t,n,i,r,s){const a=Yn("router-link"),o=Yn("Form");return Ui(),Gi("div",null,[tr(o,{ref:"form",title:"Регистрация",description:"Ну давай, покажи всю свою оригинальность",fields:[{title:"ЛОГИН",autocomplete:"on",jsonName:"username"},{title:"ПАРОЛЬ",autocomplete:"on",jsonName:"password",type:"password",info:"Забыл пароль? - пей таблетки"},{title:"ПАРОЛЬ ЕЩЁ РАЗ",jsonName:"passwordConfirm",type:"password",info:"Не ошибись"},{title:"E-mail",autocomplete:"on",jsonName:"email",type:"email",info:"Когда-нибудь пароль придётся восстанавливать"},{title:"ИМЯ",autocomplete:"on",jsonName:"name",info:"Ну надо"}],"submit-text":"Погнали",onSubmit:s.signUp},{default:ln((()=>[sc,tr(a,{to:"/signin",class:"link"},{default:ln((()=>[ac])),_:1})])),_:1},8,["onSubmit"])])}],["__scopeId","data-v-3c37c27c"]]),cc=r.p+"squest/7c36a7a0f517fa1cb48845468cc5b713.ico",dc=r.p+"squest/4ade15d2e32e6f9d6976d016df6cbd5d.svg",uc=e=>(an("data-v-e0eed6fe"),e=e(),on(),e),pc={class:"profile-page"},hc={class:"info-container"},fc={class:"top-container"},gc={class:"rating"},mc=uc((()=>er("div",{class:"info text-small-x"},"рейтинг",-1))),vc={key:1,class:"avatar-container"},bc=["src"],xc={key:1,class:"avatar",src:cc,alt:"avatar"},yc={key:2,class:"avatar-div"},wc=["src"],kc={key:1,class:"avatar",src:cc,alt:"avatar"},_c={class:"position"},$c=uc((()=>er("div",{class:"info text-small-x"},"позиция",-1))),Cc={key:1,class:"username text-big"},Sc={class:"text-small another-user-info"},Ec=uc((()=>er("hr",null,null,-1))),Ac={class:"quest-statistics text-middle"},Tc={class:"quest"},Ic=uc((()=>er("hr",null,null,-1))),Lc={key:0,class:"now-playing text-small link"},qc=rr(" Сейчас играет в: "),Oc=uc((()=>er("br",null,null,-1))),Rc=rr(" Квест: "),Mc=rr(),Bc=uc((()=>er("br",null,null,-1))),Pc=rr(" Ветка: "),zc={key:0,ref:"passwordFormContainer",class:"roll-active closed"},Vc=[uc((()=>er("input",{type:"submit",value:"Сменить пароль"},null,-1)))],Fc=rr("На админскую");function jc(e){return null===e.getAttribute("data-open-roll")}function Dc(e){e.removeAttribute("data-open-roll"),e.style.height=e.scrollHeight+"px",e.classList.add("closed"),setTimeout((()=>{e.style.removeProperty("height")}),20)}function Uc(e){e.setAttribute("data-open-roll",""),e.style.height=e.scrollHeight+"px",setTimeout((()=>{e.style.removeProperty("height"),e.classList.remove("closed")}),300)}const Nc=["innerHTML"],Qc={props:{size:{type:String,default:"15px"},right:Boolean,top:Boolean,left:Boolean,bottom:Boolean},data:()=>({direction:"",directions:{top:"top",right:"right",left:"left",bottom:"bottom"}}),mounted(){this.$props?.top&&(this.direction=this.directions.top),this.$props?.left&&(this.direction=this.directions.left),this.$props?.right&&(this.direction=this.directions.right),this.$props?.bottom&&(this.direction=this.directions.bottom)},methods:{setDirection(e){this.direction=e}}};r(1923);const Hc=(0,Ls.Z)(Qc,[["render",function(e,t,n,r,s,a){return Ui(),Gi("span",{class:c(`arrow ${s.direction}`),style:i(`--size: ${n.size}`)},null,6)}],["__scopeId","data-v-c87f8c5a"]]),Gc={components:{Arrow:Hc},emits:["click"],props:{buttons:{type:Array,default:[]},bg:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},arrows:{type:Boolean,default:!1},lowOpacity:{type:Boolean,default:!1},big:{type:Boolean,default:!1}}};r(3252);const Zc=(0,Ls.Z)(Gc,[["render",function(e,t,n,i,r,s){const a=Yn("Arrow"),o=Yn("router-link");return Ui(),Gi("div",{class:c(["title-container text-big",{bg:n.bg,clickable:n.clickable,"low-opacity":n.lowOpacity}])},[(Ui(!0),Gi(Pi,null,ti(n.buttons,((t,i)=>(Ui(),Zi(o,{to:t.to||"",class:c({"no-link":void 0===t.to}),onClick:n=>e.$emit("click",Object.assign(t,{idx:i}))},{default:ln((()=>[n.arrows&&0===i?(Ui(),Zi(a,{key:0,left:"",size:"20px"})):ar("v-if",!0),er("div",null,[er("div",{class:c(["text-big-x lighting-text",{"text-big":n.clickable&&!n.big}])},u(t.name),3),er("div",{class:"text-small",innerHTML:t.description},null,8,Nc)]),n.arrows&&0!==i&&i===n.buttons.length-1?(Ui(),Zi(a,{key:1,right:"",size:"20px"})):ar("v-if",!0)])),_:2},1032,["to","class","onClick"])))),256))],2)}],["__scopeId","data-v-060e5115"]]),Wc=["image/png","image/jpeg","image/bmp"],Kc="filesImageInput",Yc=async(e=256,t=Wc,n=5)=>new Promise(((i,r)=>{(s=>{let a=!0,o=document.getElementById(Kc);return null===o&&(a=!1,o=document.createElement("input")),o.id=Kc,o.type="file",o.accept=t.join(", "),o.addEventListener("change",(async({target:t})=>{try{const r=await(s=t,new Promise(((t,i)=>{let r;try{r=(e=>{if(1!==e.files.length)throw new Error("Wrong amount of files!");const t=e.files[0],i=t.type.split("/");if(0===i.length||"image"!==i[0])throw new Error("File is not an image!");if(t.size/1048576>n)throw new Error("File is bigger than allowed!");return t})(s)}catch(e){return void i(e)}const a=new FileReader;a.addEventListener("load",(n=>{const i=n.target.result;if(!e)return void t(i);const r=new Image;r.addEventListener("load",(()=>{const n=Math.min(r.width,r.height),{canvas:i,ctx:s}=((e,t)=>{const n=document.createElement("canvas");n.width=e,n.height=t,n.style.display="none",document.body.appendChild(n);const i=n.getContext("2d");return{canvas:n,ctx:i}})(e,e);s.drawImage(r,0,0,n,n,0,0,i.width,i.height);const a=i.toDataURL();i.remove(),t(a)})),r.src=i})),a.addEventListener("error",(e=>{i(new Error("Unable to read file!"))})),a.readAsDataURL(r)})));i(r)}catch(e){t.remove(),r(e)}var s})),o.style.display="none",a||document.body.appendChild(o),o})().click()}));class Xc{attachedImages={};popups=null;cropSize=null;apiUpload=e=>{};constructor(e,t,n=null){this.popups=e,this.apiUpload=t,this.cropSize=n}async upload(){let e;try{e=await Yc(this.cropSize,void 0,1/0)}catch(e){return void this.popups.error("Ошибка загрузки изображения",e.toString())}const t=this.attachedImages[await Vs(e)];if(t)return t;const n=await this.apiUpload(e);if(!n.ok_)return void this.popups.error(`Ошибка ${n.status_}!`,`Не удалось загрузить картинку на сервер: ${n.info}`);this.popups.success("Загружено","Картинка загружена");const i=n.id;return this.attachedImages[await Vs(e)]=i,i}}const Jc={components:{CircleLoading:Qs,TopButtons:Zc,FloatingInput:qs,TopBar:aa,FormExtended:nc,Form:ec},data(){return{ImageUploader:new Xc(this.$popups,this.$api.uploadImage,80),username:"",id:this.$route.query.id,yours:void 0===this.$route.query.id,user:{},loading:!1,buttons:[]}},async mounted(){await this.init()},methods:{async init(){if(this.yours)return this.$refs.form.values=this.$user,this.username=this.$user.username,this.user=this.$user,void(this.buttons=[{name:"В игру",to:"/play"},{name:"Мои квесты",to:"/quests/my"},{name:"Рейтинги",to:"/ratings"}]);await this.getAnotherUser(),this.username=this.user.username;const e=this.$router.options.history.state.back;this.buttons=e&&"/ratings"!==e?[{name:"Назад",to:e},{name:"Рейтинги",to:"/ratings"}]:[{name:"Рейтинги",to:"/ratings"}]},validate(e,t,n){let i=!0;return 0===e.length&&(this.$refs.form.errors.username="Логин не может быть пустым",i=!1),0===t.length&&(this.$refs.form.errors.name="Имя не может быть пустым",i=!1),0===n.length&&(this.$refs.form.errors.email="Email не может быть пустым",i=!1),i},async changeData({name:e,email:t}){const n=this.username;if(!this.validate(n,e,t))return;this.$refs.form.loading=!0;const i=await this.$api.updateUser(t,n,e);if(this.$refs.form.loading=!1,i.ok_)return await this.$store.dispatch("GET_USER"),this.$popups.success("Данные обновлены"),void(this.$refs.form.errors={});409===i.status_?(this.$refs.form.errors.username="Такой логин уже занят",this.$refs.form.errors.email="Или e-mail уже занят"):this.$popups.error("Не удалось обновить данные","Произошла неизвестная ошибка!")},clickOnChangePassword(){jc(this.$refs.passwordFormContainer)?Uc(this.$refs.passwordFormContainer):this.changePassword(this.$refs.passwordForm.values)},async changePassword({oldPassword:e,newPassword:t,newPasswordConfirm:n}){if(t!==n)return void(this.$refs.passwordForm.errors.newPasswordConfirm=this.errors.newPassword="Пароли не совпадают");this.$refs.passwordForm.loading=!0;const i=await this.$api.updatePassword(e,t);return this.$refs.passwordForm.loading=!1,i.ok_?(this.$popups.success("Изменено","Пароль успешно изменён"),void(this.$refs.passwordForm.errors={})):401===i.status_?(this.$refs.passwordForm.info="Пароль не подходит",this.$refs.passwordForm.errors.oldPassword="Старый пароль не такой",void this.$refs.passwordForm.showError()):void this.$popups.error("Не получилось сменить пароль","Неизвестная ошибка")},async logOut(){(await this.$api.signOut()).ok_?(this.$user.setDefault(),await this.$router.push("/")):this.$popups.error("Не получилось выйти из аккаунта","Неизвестная ошибка")},async getAnotherUser(){this.loading=!0;const e=await this.$api.getUserInfo(this.id);this.loading=!1,e.ok_?this.user=e:this.$popups.error("Ошибка","Не удалось получить информацио о пользователе")},async updateAvatar(){const e=await this.ImageUploader.upload();await this.deleteAvatar(),this.user.avatarurl=this.$api.apiUrl+"/image/"+e,await this.saveAvatar()},async deleteAvatarClick(){await this.$modal.confirm("Удаляем аватарку?","Восстановить не получится")&&(await this.deleteAvatar(),this.user.avatarurl="",await this.saveAvatar())},async deleteAvatar(){if(!this.user.avatarurl)return;let e=this.user.avatarurl.split("/");e=e[e.length-1],this.loading=!0;const t=await this.$api.deleteImage(e);this.loading=!1,t.ok_||this.$popups.error("Ошибка","Не удалось удалить изображение")},async saveAvatar(){this.loading=!0;const e=await this.$api.updateUserAvatarUrl(this.user.avatarurl);this.loading=!1,e.ok_?this.$popups.success("Сохранено","Аватарка обновлена"):this.$popups.error("Ошибка","Не удалось сохранить изображение")}},watch:{"$route.query.id":{handler:async function(e,t){"/squest/profile"===this.$route.path&&(this.id=e,this.yours=void 0===this.id,await Bt(),await this.init())},deep:!0}}};r(7405);const ed=(0,Ls.Z)(Jc,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("CircleLoading"),l=Yn("router-link"),c=Yn("FormExtended"),d=Yn("Form");return Ui(),Gi("div",null,[er("div",pc,[tr(a,{arrows:"",clickable:"",buttons:r.buttons},null,8,["buttons"]),tr(d,{class:"profile-plate"},{default:ln((()=>[er("div",null,[er("div",hc,[er("div",fc,[er("div",gc,[er("div",null,"★"+u(r.user.rating),1),mc]),r.loading?(Ui(),Zi(o,{key:0})):r.yours?(Ui(),Gi("div",vc,[er("div",{class:"avatar-div",onClick:t[0]||(t[0]=ls(((...e)=>s.updateAvatar&&s.updateAvatar(...e)),["stop"]))},[r.user.avatarurl?(Ui(),Gi("img",{key:0,class:"avatar",src:r.user.avatarurl,alt:"avatar"},null,8,bc)):(Ui(),Gi("img",xc))]),r.user.avatarurl?(Ui(),Gi("img",{key:0,class:"delete-avatar",src:dc,alt:"delete",onClick:t[1]||(t[1]=ls(((...e)=>s.deleteAvatarClick&&s.deleteAvatarClick(...e)),["stop"]))})):ar("v-if",!0)])):(Ui(),Gi("div",yc,[r.user.avatarurl?(Ui(),Gi("img",{key:0,class:"avatar",src:r.user.avatarurl,alt:"avatar"},null,8,wc)):(Ui(),Gi("img",kc))])),er("div",_c,[er("div",null,u(r.user.position),1),$c])]),r.yours?Zn((Ui(),Gi("input",{key:0,class:"username text-big","onUpdate:modelValue":t[2]||(t[2]=e=>r.username=e)},null,512)),[[ss,r.username]]):(Ui(),Gi("div",Cc,[er("div",null,u(r.username),1),er("div",Sc,u(r.user.name),1)]))]),Ec,er("div",Ac,[er("div",Tc,"Пройдено веток: "+u(r.user.completedbranches),1),tr(l,{class:"quest link",to:`/quests?userId=${r.user.id}`},{default:ln((()=>[rr("Создано квестов: "+u(r.user.createdquests),1)])),_:1},8,["to"])]),Ic,r.user.chosenquest&&r.user.chosenbranch?(Ui(),Gi("div",Lc,[qc,Oc,Rc,tr(l,{to:`/quest?id=${r.user.chosenquestid}`},{default:ln((()=>[rr(u(r.user.chosenquest),1)])),_:1},8,["to"]),Mc,Bc,Pc,tr(l,{to:`/quest?id=${r.user.chosenquestid}`},{default:ln((()=>[rr(u(r.user.chosenbranch),1)])),_:1},8,["to"])])):ar("v-if",!0),r.yours?(Ui(),Zi(c,{key:1,ref:"form","no-bg":"",fields:[{title:"ТВОЁ ИМЯ",jsonName:"name"},{title:"ТВОЙ E-mail",jsonName:"email",type:"email"}],"submit-text":"Изменить данные",onSubmit:s.changeData},null,8,["onSubmit"])):ar("v-if",!0)]),r.yours?(Ui(),Gi("div",zc,[tr(c,{ref:"passwordForm","no-bg":"","no-submit":"",fields:[{title:"Старый пароль",jsonName:"oldPassword",type:"password"},{title:"Новый пароль",jsonName:"newPassword",type:"password"},{title:"Новый пароль ещё раз",jsonName:"newPasswordConfirm",type:"password"}],"submit-text":"Сменить пароль",onSubmit:s.changePassword},null,8,["onSubmit"])],512)):ar("v-if",!0),r.yours?(Ui(),Gi("div",{key:1,class:"submit-container",onClick:t[3]||(t[3]=ls(((...e)=>s.clickOnChangePassword&&s.clickOnChangePassword(...e)),["prevent"]))},Vc)):ar("v-if",!0),r.yours?(Ui(),Gi("button",{key:2,class:"text-middle button bg outline rounded logout",onClick:t[4]||(t[4]=(...e)=>s.logOut&&s.logOut(...e))},"Выйти")):ar("v-if",!0)])),_:1}),r.yours&&r.user.isAdmin?(Ui(),Zi(l,{key:0,to:"/admin",class:"admin-button text-big-x button rounded outline"},{default:ln((()=>[Fc])),_:1})):ar("v-if",!0)])])}],["__scopeId","data-v-e0eed6fe"]]),td=rr("На главную"),nd={components:{Form:nc}},id=(0,Ls.Z)(nd,[["render",function(e,t,n,i,r,s){const a=Yn("router-link"),o=Yn("Form");return Ui(),Zi(o,{title:"Ошибка 404",description:"Страница не найдена","no-submit":""},{default:ln((()=>[tr(a,{to:"/profile",class:"title"},{default:ln((()=>[td])),_:1})])),_:1})}]]),rd={class:"flex-root"},sd={class:"about-page app-flex-filler"},ad=sr('<div class="side-item left" data-v-7c59f0ce><div class="text-big-xx" data-v-7c59f0ce>КУДА ТЫ ПОПАЛ?</div><div class="text-small" data-v-7c59f0ce><span class="text-big" data-v-7c59f0ce>Здесь</span> ты сможешь найти <span class="text-big" data-v-7c59f0ce>онлайн-квест</span> по душе, созданный нашими професси<i data-v-7c59f0ce>онал</i>ами.</div></div><div class="side-item right" data-v-7c59f0ce><div class="text-big-xx" data-v-7c59f0ce>ЭТО ХОТЬ БЕСПЛАТНО?</div><div class="text-small" data-v-7c59f0ce>Всё <span class="text-big" data-v-7c59f0ce>бесплатно</span> <s data-v-7c59f0ce>пока что</s>.</div></div><div class="side-item left" data-v-7c59f0ce><div class="text-big-xx" data-v-7c59f0ce>КАК ПОЛЬЗОВАТЬСЯ?</div><div class="text-big" data-v-7c59f0ce>Смотри, всё просто: <ul data-v-7c59f0ce><li class="text-small" data-v-7c59f0ce>регистрируешься</li><li class="text-small" data-v-7c59f0ce>выбираешь квест и ветку</li><li class="text-small" data-v-7c59f0ce>чем больше проходишь - тем выше ты в рейтинге</li></ul></div></div><div class="side-item right" data-v-7c59f0ce><div class="text-big-xx" data-v-7c59f0ce>У МЕНЯ ОСТАЛИСЬ ВОПРОСЫ</div><div class="text-small" data-v-7c59f0ce>Там снизу есть <span class="text-big" data-v-7c59f0ce>контакты</span> - пиши, не стестняйся.</div></div>',4),od=rr("Зарегистрироваться"),ld=[sr('<footer data-v-7917d476><a href="https://vk.com/squest_studio" target="_blank" data-v-7917d476><img src="squest/'+r.p+'246d568f64dca3b9b80e455fff231ae4.svg" alt="vk" data-v-7917d476><div data-v-7917d476><div class="title" data-v-7917d476>За подсказками: </div><div class="description" data-v-7917d476>vk.com/squest_studio</div></div></a><a href="mailto:tyapkin2002@mail.ru" target="_blank" data-v-7917d476><img src="squest/'+r.p+'b664d9c5fd10a77ddbd5c7fb46535e20.svg" alt="vk" data-v-7917d476><div class="description" data-v-7917d476>Tyapkin2002@mail.ru</div></a><a href="https://t.me/tyapkin_s" target="_blank" data-v-7917d476><img src="squest/'+r.p+'1d552521d2b6626a15599cd612cce9dc.svg" alt="vk" data-v-7917d476><div class="description" data-v-7917d476>t.me/tyapkin_s</div></a></footer>',1)],cd={};r(4357);const dd=(0,Ls.Z)(cd,[["render",function(e,t,n,i,r,s){return Ui(),Gi("div",null,ld)}],["__scopeId","data-v-7917d476"]]),ud={components:{TopBar:aa,Footer:dd,CircleLoading:Qs}};r(345);const pd=(0,Ls.Z)(ud,[["render",function(e,t,n,i,r,s){const a=Yn("router-link"),o=Yn("Footer");return Ui(),Gi("div",rd,[er("div",sd,[ad,tr(a,{to:"/signup",class:"register-button text-big-x button highlight rounded"},{default:ln((()=>[od])),_:1})]),tr(o)])}],["__scopeId","data-v-7c59f0ce"]]),hd=r.p+"squest/11f148ff4cc73d93493f88659018e655.svg",fd={class:"root"},gd={class:"quests-page"},md={class:"quest-container"},vd=(e=>(an("data-v-7977445a"),e=e(),on(),e))((()=>er("img",{src:hd,alt:""},null,-1))),bd=r.p+"squest/fc85367340bba07864914ce06645aebd.svg",xd=r.p+"squest/764e92a45b9b5fab7049916eb29176f3.svg",yd=r.p+"squest/8c3f55aa8e77a84b2b79c4cf45e337df.svg",wd=r.p+"squest/8a51d3e638814713ef336f82c2c869f0.svg",kd=r.p+"squest/a255e228d41812b2bfe1f4ba234b1a3c.svg",_d=r.p+"squest/e1b850246712f35591c8285c4216b5f4.svg",$d=e=>(an("data-v-92ee4662"),e=e(),on(),e),Cd=["src"],Sd={key:1,class:"preview-image default text-big-xx"},Ed={class:"main-info"},Ad=$d((()=>er("img",{src:bd,alt:"edit"},null,-1))),Td={class:"text-container"},Id={key:0,src:xd,alt:"with link",class:"quest-modifier"},Ld={key:1,src:yd,alt:"unpublished",class:"quest-modifier"},qd={class:"text-small description"},Od={class:"statistics text-big-xx"},Rd=$d((()=>er("img",{src:wd,alt:"star"},null,-1))),Md={class:"time"},Bd=$d((()=>er("img",{src:kd,alt:"time"},null,-1))),Pd=$d((()=>er("img",{src:_d,alt:""},null,-1))),zd={key:0,src:yd,alt:"unpublished"},Vd={key:1,src:xd,alt:"link active"},Fd={class:"main-info"},jd={class:"title"},Dd={class:"text-small info"},Ud={class:"text-small choose"},Nd={components:{Arrow:Hc},name:"ArrowListElement",emits:["click","open","close","click-inside"],props:{title:String,description:String,actionText:String,elements:{type:Array,default:[]},closed:{type:Boolean,default:!1},inside:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0},noClose:{type:Boolean,default:!1},bg:{type:Boolean,default:!1},islinkactive:{type:Boolean,default:!1},ispublished:{type:Boolean,default:!0},openOnSetElements:{type:Boolean,default:!1},preserveClickOpen:{type:Boolean,default:!1}},data(){return{closed:this.$props.closed}},mounted(){this.closed||this.$refs?.arrow?.setDirection(this.$refs.arrow.directions.bottom)},methods:{onClick(){if(this.$emit("click"),!this.noClose){if(this.closed)return this.preserveClickOpen||this.open(),void this.$emit("open");this.close(),this.$emit("close")}},open(){Uc(this.$refs.list),this.$refs?.arrow?.setDirection(this.$refs.arrow.directions.bottom),this.closed=!1},close(){Dc(this.$refs.list),this.$refs?.arrow?.setDirection(this.$refs.arrow.directions.right),this.closed=!0}},watch:{elements:async function(e,t){this.openOnSetElements&&(await Bt(),this.open(),this.$emit("open"))}}};r(2843);const Qd=(0,Ls.Z)(Nd,[["render",function(e,t,n,i,r,s){const a=Yn("Arrow"),o=Yn("ArrowListElement",!0);return Ui(),Gi("li",{class:c(["text-big",{inside:n.inside,bg:n.bg,selected:!r.closed}])},[er("div",{class:"all-info",onClick:t[0]||(t[0]=ls(((...e)=>s.onClick&&s.onClick(...e)),["prevent"]))},[n.ispublished?ar("v-if",!0):(Ui(),Gi("img",zd)),n.islinkactive?(Ui(),Gi("img",Vd)):ar("v-if",!0),er("div",Fd,[er("div",jd,u(n.title),1),er("div",Dd,u(n.description),1)]),er("span",Ud,[rr(u(n.actionText),1),n.arrow?(Ui(),Zi(a,{key:0,right:"",ref:"arrow"},null,512)):ar("v-if",!0)])]),er("ul",{class:c(["roll-active",{closed:r.closed}]),ref:"list"},[(Ui(!0),Gi(Pi,null,ti(n.elements,(t=>(Ui(),Zi(o,dr({onClick:n=>e.$emit("click-inside",t)},t,{inside:"",arrow:t.arrow||!1,closed:"",noClose:t.noClose}),null,16,["onClick","arrow","noClose"])))),256))],2)],2)}],["__scopeId","data-v-22db384e"]]),Hd={components:{CircleLoading:Qs,ArrowListElement:Qd},props:{id:String,title:String,description:String,rating:Number,time:Number,previewurl:String,author:String,authorname:String,islinkactive:Boolean,ispublished:Boolean,canedit:Boolean},data:()=>({branchesOpened:!1,branchesGotten:!1,timeUnits:"мин",loading:!1,branches:[],time:"-",rating:"-",played:0,rootHeight:null}),mounted(){this.getQuestStats()},methods:{async openBranches(){if(this.branchesOpened=!0,this.branchesGotten)return void this.$refs.branches.open();this.branchesGotten=!0,this.loading=!0;const e=await this.$api.getQuestBranches(this.id);this.loading=!1,e.ok_?this.branches=e.branches:this.$popups.error("Ошибка","Не удалось получить ветки квесте")},closeBranches(){this.branchesOpened=!1,this.rootHeight=null},async getQuestStats(){this.loading=!0;const e=await this.$api.getQuestStatistics(this.id);this.loading=!1,e.ok_&&(this.played=e.played,this.rating=e.rating.toFixed(1),this.time=Fs(e.time))}}};r(360);const Gd=(0,Ls.Z)(Hd,[["render",function(e,t,n,r,s,a){const o=Yn("router-link"),l=Yn("CircleLoading"),d=Yn("ArrowListElement");return Ui(),Zi(o,{class:"quest-preview",to:`/quest?id=${n.id}`,style:i(`height: ${s.rootHeight}px`)},{default:ln((()=>[n.previewurl?(Ui(),Gi("img",{key:0,class:"preview-image",src:n.previewurl,alt:"preview"},null,8,Cd)):(Ui(),Gi("div",Sd,"SQ")),er("div",{class:c(["container",{inactive:s.branchesOpened}])},[er("div",Ed,[n.canedit?(Ui(),Zi(o,{key:0,to:`/quest/edit?id=${n.id}`,class:"edit"},{default:ln((()=>[Ad])),_:1},8,["to"])):ar("v-if",!0),er("div",Td,[er("div",{class:c(["title",{"text-big-x":n.title.length<20,"text-big":n.title.length>=20&&n.title.length<40,"text-middle":n.title.length>=40}])},[er("span",null,u(n.title),1),n.islinkactive?(Ui(),Gi("img",Id)):ar("v-if",!0),n.ispublished?ar("v-if",!0):(Ui(),Gi("img",Ld))],2),er("div",qd,u(n.description),1)]),er("div",Od,[er("span",{class:c(["rating",{good:s.rating>=4.5,bad:s.rating<3.5}])},[Rd,rr(u(s.rating),1)],2),er("span",Md,[Bd,rr(u(s.time),1)])]),tr(o,{to:`/profile?id=${n.author}`,class:"link text-small author-fields"},{default:ln((()=>[Pd,er("span",null,u(n.authorname),1)])),_:1},8,["to"])]),s.loading?(Ui(),Zi(l,{key:0})):ar("v-if",!0),tr(d,{class:"branches",ref:"branches",title:"Ветки","action-text":"развернуть",closed:"",elements:s.branches,"open-on-set-elements":"","preserve-click-open":"",onOpen:a.openBranches,onClose:a.closeBranches,onClickInside:t[0]||(t[0]=t=>e.$router.push(`/quest?id=${n.id}`))},null,8,["elements","onOpen","onClose"])],2)])),_:1},8,["to","style"])}],["__scopeId","data-v-92ee4662"]]),Zd={class:"hover-text"},Wd={class:"image"},Kd={key:1,class:"fields"},Yd={class:"hover-text"},Xd={class:"image"},Jd={props:{title:String,to:String,green:Boolean}};r(7905);const eu=(0,Ls.Z)(Jd,[["render",function(e,t,n,i,r,s){const a=Yn("router-link");return Ui(),Gi("div",{class:c(["float-button text-middle",{green:n.green}])},[n.to?(Ui(),Zi(a,{key:0,class:"fields",to:n.to},{default:ln((()=>[er("span",Zd,u(n.title),1),er("span",Wd,[ni(e.$slots,"default",{},void 0,!0)])])),_:3},8,["to"])):(Ui(),Gi("div",Kd,[er("span",Yd,u(n.title),1),er("span",Xd,[ni(e.$slots,"default",{},void 0,!0)])]))],2)}],["__scopeId","data-v-44bab0e4"]]),tu={components:{FloatingButton:eu,CircleLoading:Qs,Quest:Gd,TopBar:aa,TopButtons:Zc},data:()=>({quests:[],loading:!1}),async mounted(){this.loading=!0;const e=await this.$api.getAllQuests();this.loading=!1,e.ok_?this.quests=e.quests:this.$popups.error(`Ошибка ${e.status}!`,e.info)}};r(8519);const nu=(0,Ls.Z)(tu,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("CircleLoading"),l=Yn("Quest"),c=Yn("FloatingButton");return Ui(),Gi("div",fd,[er("div",gd,[er("div",null,[tr(a,{bg:"",buttons:[{name:"Выбор квеста",description:"Выбирай первый понравившийся и погнали!"}]}),r.loading?(Ui(),Zi(o,{key:0})):ar("v-if",!0),er("div",md,[(Ui(!0),Gi(Pi,null,ti(r.quests,(e=>(Ui(),Zi(l,d(nr(e)),null,16)))),256))])]),tr(c,{title:"Создать квест",to:"/quest/create",class:"float-button"},{default:ln((()=>[vd])),_:1})])])}],["__scopeId","data-v-7977445a"]]),iu={class:"root"},ru={class:"quests-page"},su={class:"quest-container"},au=(e=>(an("data-v-72b70446"),e=e(),on(),e))((()=>er("img",{src:hd,alt:""},null,-1))),ou={components:{FloatingButton:eu,CircleLoading:Qs,Quest:Gd,TopBar:aa,TopButtons:Zc},data:()=>({quests:[],loading:!1}),async mounted(){this.loading=!0;const e=await this.$api.getMyQuests(this.$user.id);this.loading=!1,e.ok_?this.quests=e.quests:this.$popups.error(`Ошибка ${e.status}!`,e.info)}};r(9895);const lu=(0,Ls.Z)(ou,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("CircleLoading"),l=Yn("Quest"),c=Yn("FloatingButton");return Ui(),Gi("div",iu,[er("div",ru,[er("div",null,[tr(a,{bg:"",buttons:[{name:"Твои квесты",description:"Здесь собраны квесты, которые ты можешь редактировать"}]}),r.loading?(Ui(),Zi(o,{key:0})):ar("v-if",!0),er("div",su,[(Ui(!0),Gi(Pi,null,ti(r.quests,(e=>(Ui(),Zi(l,d(nr(e)),null,16)))),256))])]),tr(c,{title:"Создать квест",to:"/quest/create",class:"float-button"},{default:ln((()=>[au])),_:1})])])}],["__scopeId","data-v-72b70446"]]),cu=r.p+"squest/46656d72871a27a2467d9df05662ec64.svg",du=r.p+"squest/c0e752719676e5e983dfccbd0ba9a70d.svg",uu=e=>(an("data-v-4067976a"),e=e(),on(),e),pu={class:"info-container"},hu=uu((()=>er("div",{class:"text-big-xx"},"Изменить квест",-1))),fu={key:0,class:"text-middle"},gu=rr(" Автор: "),mu=rr(),vu=uu((()=>er("br",null,null,-1))),bu=rr(" Вы - соавтор квеста, некоторые возможности вам недоступны "),xu={class:"fields-container"},yu=uu((()=>er("label",{class:"text-big"},"Описание",-1))),wu=uu((()=>er("div",{class:"info text-small"},"Можно использовать Markdown-оформление, вставлять ссылки и загружать фото",-1))),ku=uu((()=>er("label",{class:"text-big"},"Превью",-1))),_u={class:"image-fields"},$u=uu((()=>er("div",{class:"text-big"},"Картинка-превью",-1))),Cu={class:"flex-container"},Su=["src"],Eu={key:1,class:"preview-image default text-big-xx"},Au=[uu((()=>er("img",{src:dc,alt:"delete"},null,-1)))],Tu=rr(" Если не опубликован - это черновик. Никто кроме тебя и соавторов не сможет просматривать квест "),Iu=uu((()=>er("br",null,null,-1))),Lu=rr(" Но доступ к нему можно будет получить по ссылке, если включена опция ниже "),qu=rr(" Получить доступ к квесту можно будет по ссылке или QR. "),Ou=uu((()=>er("br",null,null,-1))),Ru=rr(" Удобно, если нужно дать квест человеку, ещё не имеющему аккаунт на сайте. "),Mu={class:"text-big roll-active closed link-fields",ref:"linkFields"},Bu=uu((()=>er("span",null,"Ссылка на квест:",-1))),Pu=["href"],zu=[uu((()=>er("img",{src:cu,alt:"copy",class:"link-image"},null,-1)))],Vu=uu((()=>er("br",null,null,-1))),Fu=uu((()=>er("span",null,"Ссылка в виде QR:",-1))),ju={class:"submit-container"},Du={key:0,class:"submit-container"},Uu=uu((()=>er("img",{src:du,alt:"save"},null,-1))),Nu=r.p+"squest/5d0c31244cfbd554104828023fa25c46.svg",Qu=e=>(an("data-v-2ea0139c"),e=e(),on(),e),Hu={class:"text-big"},Gu=Qu((()=>er("span",null,null,-1))),Zu={class:"info text-small"},Wu={class:"addable-list roll-active closed",ref:"list"},Ku=Qu((()=>er("img",{src:Nu,alt:"add"},null,-1))),Yu={class:"text-big-x orderid"},Xu={key:1,class:"move-buttons"},Ju=["placeholder","value"],ep={class:"mobile-hide"},tp=rr(),np={props:{size:{type:String,default:"15px"}}};r(9541);const ip={components:{Arrow:Hc,Cross:(0,Ls.Z)(np,[["render",function(e,t,n,r,s,a){return Ui(),Gi("span",{class:"cross",style:i(`--size: ${n.size}`)},null,4)}],["__scopeId","data-v-52b2a75c"]])},emits:["delete","move","update:modelValue"],props:{idx:Number,modelValue:{title:"",confirmed:""},actionText:String,placeholder:String,canDelete:Boolean,actionTo:Function},methods:{updateVModel(){this.modelValue.title=this.$refs.input.value,this.$emit("update:modelValue",this.modelValue)}}};r(4712);const rp={components:{ListItem:(0,Ls.Z)(ip,[["render",function(e,t,n,i,r,s){const a=Yn("Cross"),o=Yn("Arrow"),l=Yn("router-link");return Ui(),Gi("li",null,[er("span",Yu,u(n.idx+1),1),n.canDelete?(Ui(),Gi("div",{key:0,class:"button rounded delete-button",onClick:t[0]||(t[0]=t=>e.$emit("delete",n.idx))},[tr(a)])):ar("v-if",!0),n.modelValue.confirmed?(Ui(),Gi("div",Xu,[er("div",{class:"button half-height rounded",onClick:t[1]||(t[1]=e=>this.$emit("move",{idx:n.idx,to:n.idx-1}))},"˄"),er("div",{class:"button half-height rounded",onClick:t[2]||(t[2]=e=>this.$emit("move",{idx:n.idx,to:n.idx+1}))},"˅")])):ar("v-if",!0),er("input",{type:"text",placeholder:n.placeholder,value:n.modelValue.title,autocomplete:"off",onInput:t[3]||(t[3]=(...e)=>s.updateVModel&&s.updateVModel(...e)),ref:"input"},null,40,Ju),n.modelValue.confirmed&&n.actionText&&n.modelValue.id?(Ui(),Zi(l,{key:2,to:n.actionTo(n.modelValue.id),class:"text-middle button rounded goto-button"},{default:ln((()=>[er("span",ep,u(n.actionText),1),tp,tr(o,{right:""})])),_:1},8,["to"])):ar("v-if",!0)])}],["__scopeId","data-v-2bb4e74b"]])},emits:["add","delete","update:modelValue","input"],props:{modelValue:Array,title:String,description:String,addText:String,actionText:String,actionTo:Function,placeholder:String,canDelete:{type:Boolean,default:!0}},async mounted(){},methods:{addItem(){this.$emit("add"),this.$emit("input"),this.modelValue.push({title:""}),this.updateVModel()},deleteItem(e){this.$emit("delete",this.modelValue[e]),this.$emit("input"),async function(e){const t=e.style.height;e.classList.add("no-animations"),e.style.removeProperty("height"),setTimeout((()=>{const n=e.scrollHeight+"px";e.style.height=t,setTimeout((()=>{e.classList.remove("no-animations"),e.style.height=n}),20)}),1)}(this.$refs.list),this.modelValue.splice(e,1),this.updateVModel()},moveItem({idx:e,to:t}){if(e<0||e>=this.modelValue.length||t<0||t>=this.modelValue.length)return;this.$emit("input");const n=this.modelValue[e];this.modelValue[e]=this.modelValue[t],this.modelValue[t]=n,this.updateVModel()},updateVModel(){this.$emit("update:modelValue",this.modelValue),this.rollOpenList()},async rollOpenList(){var e;await Bt(),(e=this.$refs.list).setAttribute("data-open-roll",""),e.style.height=e.scrollHeight+"px",setTimeout((()=>{e.classList.remove("closed")}),300)}},watch:{modelValue:function(e,t){this.rollOpenList()}}};r(3575);const sp=(0,Ls.Z)(rp,[["render",function(e,t,n,i,r,s){const a=Yn("ListItem");return Ui(),Gi("div",null,[er("label",Hu,[rr(u(n.title)+" ",1),Gu]),er("div",Zu,u(n.description),1),er("ul",Wu,[(Ui(!0),Gi(Pi,null,ti(n.modelValue,((e,t)=>(Ui(),Zi(a,{modelValue:n.modelValue[t],"onUpdate:modelValue":e=>n.modelValue[t]=e,idx:t,"action-text":this.$props.actionText,onDelete:s.deleteItem,onMove:s.moveItem,"action-to":n.actionTo,"can-delete":n.canDelete,placeholder:n.placeholder,class:c({"last-child":e.confirmed&&(t+1>=n.modelValue.length||!n.modelValue[t+1].confirmed)})},null,8,["modelValue","onUpdate:modelValue","idx","action-text","onDelete","onMove","action-to","can-delete","placeholder","class"])))),256))],512),er("div",{class:"button rounded",onClick:t[0]||(t[0]=(...e)=>s.addItem&&s.addItem(...e))},[Ku,rr(" "+u(n.addText),1)])])}],["__scopeId","data-v-2ea0139c"]]),ap=e=>(an("data-v-e7cdf28a"),e=e(),on(),e),op={class:"qr-generator"},lp={key:0},cp=ap((()=>er("div",{class:"text-big"},"Закодировано:",-1))),dp={class:"text-middle link"},up={class:"flex-container"},pp=["innerHTML"],hp={class:"range-container container-bg"},fp=ap((()=>er("label",{class:"text-big title"},"Размер",-1))),gp={class:"slider-container"},mp=ap((()=>er("div",{class:"range-labels text-small"},[er("div",null,"Low"),er("div",null,"Mid"),er("div",null,"High")],-1))),vp={class:"switch-container container-bg"},bp=ap((()=>er("label",{class:"text-big"},"Белый",-1))),xp=ap((()=>er("label",{class:"text-big"},"Черный",-1)));class yp{constructor(e,t){this._typeNumber=e,this._errorCorrectionLevel=_p[t],this._modules=null,this._moduleCount=0,this._dataCache=null,this._dataList=[],this.makeImpl=(e,t)=>{this._moduleCount=4*this._typeNumber+17,this._modules=function(e){let t=new Array(e);for(let n=0;n<e;n+=1){t[n]=new Array(e);for(let i=0;i<e;i+=1)t[n][i]=null}return t}(this._moduleCount),this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this._moduleCount-7,0),this.setupPositionProbePattern(0,this._moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this._typeNumber>=7&&this.setupTypeNumber(e),null==this._dataCache&&(this._dataCache=this.createData(this._typeNumber,this._errorCorrectionLevel,this._dataList)),this.mapData(this._dataCache,t)},this.setupPositionProbePattern=(e,t)=>{for(let n=-1;n<=7;n+=1)if(!(e+n<=-1||this._moduleCount<=e+n))for(let i=-1;i<=7;i+=1)t+i<=-1||this._moduleCount<=t+i||(this._modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},this.getBestMaskPattern=()=>{let e=0,t=0;for(let n=0;n<8;n+=1){this.makeImpl(!0,n);let i=$p.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},this.setupTimingPattern=()=>{for(let e=8;e<this._moduleCount-8;e+=1)null==this._modules[e][6]&&(this._modules[e][6]=e%2==0);for(let e=8;e<this._moduleCount-8;e+=1)null==this._modules[6][e]&&(this._modules[6][e]=e%2==0)},this.setupPositionAdjustPattern=()=>{let e=$p.getPatternPosition(this._typeNumber);for(let t=0;t<e.length;t+=1)for(let n=0;n<e.length;n+=1){let i=e[t],r=e[n];if(null==this._modules[i][r])for(let e=-2;e<=2;e+=1)for(let t=-2;t<=2;t+=1)this._modules[i+e][r+t]=-2==e||2==e||-2==t||2==t||0==e&&0==t}},this.setupTypeNumber=e=>{let t=$p.getBCHTypeNumber(this._typeNumber);for(let n=0;n<18;n+=1){const i=!e&&1==(t>>n&1);this._modules[Math.floor(n/3)][n%3+this._moduleCount-8-3]=i}for(let n=0;n<18;n+=1){const i=!e&&1==(t>>n&1);this._modules[n%3+this._moduleCount-8-3][Math.floor(n/3)]=i}},this.setupTypeInfo=(e,t)=>{let n=this._errorCorrectionLevel<<3|t,i=$p.getBCHTypeInfo(n);for(let t=0;t<15;t+=1){const n=!e&&1==(i>>t&1);t<6?this._modules[t][8]=n:t<8?this._modules[t+1][8]=n:this._modules[this._moduleCount-15+t][8]=n}for(let t=0;t<15;t+=1){const n=!e&&1==(i>>t&1);t<8?this._modules[8][this._moduleCount-t-1]=n:t<9?this._modules[8][15-t-1+1]=n:this._modules[8][15-t-1]=n}this._modules[this._moduleCount-8][8]=!e},this.mapData=(e,t)=>{let n=-1,i=this._moduleCount-1,r=7,s=0,a=$p.getMaskFunction(t);for(let t=this._moduleCount-1;t>0;t-=2)for(6==t&&(t-=1);;){for(let n=0;n<2;n+=1)if(null==this._modules[i][t-n]){let o=!1;s<e.length&&(o=1==(e[s]>>>r&1)),a(i,t-n)&&(o=!o),this._modules[i][t-n]=o,r-=1,-1==r&&(s+=1,r=7)}if(i+=n,i<0||this._moduleCount<=i){i-=n,n=-n;break}}},this.createBytes=(e,t)=>{let n=0,i=0,r=0,s=new Array(t.length),a=new Array(t.length);for(let o=0;o<t.length;o+=1){let l=t[o].dataCount,c=t[o].totalCount-l;i=Math.max(i,l),r=Math.max(r,c),s[o]=new Array(l);for(let t=0;t<s[o].length;t+=1)s[o][t]=255&e.getBuffer()[t+n];n+=l;let d=$p.getErrorCorrectPolynomial(c),u=Sp(s[o],d.getLength()-1).mod(d);a[o]=new Array(d.getLength()-1);for(let e=0;e<a[o].length;e+=1){let t=e+u.getLength()-a[o].length;a[o][e]=t>=0?u.getAt(t):0}}let o=0;for(let e=0;e<t.length;e+=1)o+=t[e].totalCount;let l=new Array(o),c=0;for(let e=0;e<i;e+=1)for(let n=0;n<t.length;n+=1)e<s[n].length&&(l[c]=s[n][e],c+=1);for(let e=0;e<r;e+=1)for(let n=0;n<t.length;n+=1)e<a[n].length&&(l[c]=a[n][e],c+=1);return l},this.createData=(e,t,n)=>{let i=Ep.getRSBlocks(e,t),r=Ap();for(let t=0;t<n.length;t+=1){let i=n[t];r.put(i.getMode(),4),r.put(i.getLength(),$p.getLengthInBits(i.getMode(),e)),i.write(r)}let s=0;for(let e=0;e<i.length;e+=1)s+=i[e].dataCount;if(r.getLengthInBits()>8*s)throw"code length overflow. ("+r.getLengthInBits()+">"+8*s+")";for(r.getLengthInBits()+4<=8*s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*s||(r.put(236,8),r.getLengthInBits()>=8*s));)r.put(17,8);return this.createBytes(r,i)}}addData(e,t){let n=null;switch(t=t||"Byte"){case"Numeric":n=Tp(e);break;case"Alphanumeric":n=Ip(e);break;case"Byte":n=Lp(e);break;case"Kanji":n=qp(e);break;default:throw"mode:"+t}this._dataList.push(n),this._dataCache=null}isDark(e,t){if(e<0||this._moduleCount<=e||t<0||this._moduleCount<=t)throw e+","+t;return this._modules[e][t]}getModuleCount(){return this._moduleCount}make(){if(this._typeNumber<1){let e=1;for(;e<40;e++){let t=Ep.getRSBlocks(e,this._errorCorrectionLevel),n=Ap();for(let t=0;t<this._dataList.length;t++){let i=this._dataList[t];n.put(i.getMode(),4),n.put(i.getLength(),$p.getLengthInBits(i.getMode(),e)),i.write(n)}let i=0;for(let e=0;e<t.length;e++)i+=t[e].dataCount;if(n.getLengthInBits()<=8*i)break}this._typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())}createSvgTag({drawCell:e,cellColor:t,cellSize:n,margin:i,bg:r,obstruction:s}){e=e||((e,i,r,s)=>'<rect width="'+n+'" height="'+n+'" x="'+r+'" y="'+s+'" fill="'+t(e,i)+'" shape-rendering="crispEdges"  />'),t=t||(()=>"black"),n=n||2,i=void 0===i?4*n:i;let a=this.getModuleCount()*n+2*i,o="";o+='<svg version="1.1"',o+=' xmlns="http://www.w3.org/2000/svg"',o+=' xmlns:xlink="http://www.w3.org/1999/xlink"',o+=' viewBox="0 0 '+a+" "+a+'" ',o+=' preserveAspectRatio="xMinYMin meet">',r||(r={enabled:!0,fill:"white"}),r.enabled&&(o+='<rect width="100%" height="100%" fill="'+r.fill+'" x="0" y="0"/>');const l=this.getModuleCount(),c=l*n+2*i;let d,u;if(s){const{width:e,height:t}=s,n=[Math.ceil(e*l),Math.ceil(t*l)];d=n.map((e=>Math.floor(l/2-e/2))),u=n.map((e=>Math.ceil(l/2+e/2)))}for(let t=0;t<l;t+=1){const r=t*n+i;for(let a=0;a<l;a+=1){const l=a*n+i;if(s&&a>=d[0]&&a<u[0]&&t>=d[1]&&t<u[1]){if(a==d[0]&&t==d[1]){const e='x="'+(c*(1-s.width)*.5).toFixed(3)+'" y="'+(c*(1-s.height)*.5).toFixed(3)+'" width="'+(c*s.width).toFixed(3)+'" height="'+(c*s.height).toFixed(3)+'" preserveAspectRatio="xMidYMid meet" ';s.path?o+="<image "+e+'xlink:href="'+s.path+'" />':o+="<svg "+e+s.svgData.substring(4)}}else this.isDark(t,a)&&(o+=e(a,t,l,r))}}return o+="</svg>",o}createImgTag(e,t){e=e||2,t=void 0===t?4*e:t;let n=this.getModuleCount()*e+2*t,i=t,r=n-t,s=this;return Rp(n,n,(function(t,n){if(i<=t&&t<r&&i<=n&&n<r){let r=Math.floor((t-i)/e),a=Math.floor((n-i)/e);return s.isDark(a,r)?0:1}return 1}))}}const wp={default:function(e){let t=[];for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);t.push(255&i)}return t}},kp=wp.default,_p={L:1,M:0,Q:3,H:2},$p=function(){const e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t=1335,n=7973;let i={},r=function(e){let t=0;for(;0!=e;)t+=1,e>>>=1;return t};return i.getBCHTypeInfo=function(e){let n=e<<10;for(;r(n)-r(t)>=0;)n^=t<<r(n)-r(t);return 21522^(e<<10|n)},i.getBCHTypeNumber=function(e){let t=e<<12;for(;r(t)-r(n)>=0;)t^=n<<r(t)-r(n);return e<<12|t},i.getPatternPosition=function(t){return e[t-1]},i.getMaskFunction=function(e){switch(e){case 0:return function(e,t){return(e+t)%2==0};case 1:return function(e,t){return e%2==0};case 2:return function(e,t){return t%3==0};case 3:return function(e,t){return(e+t)%3==0};case 4:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case 5:return function(e,t){return e*t%2+e*t%3==0};case 6:return function(e,t){return(e*t%2+e*t%3)%2==0};case 7:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},i.getErrorCorrectPolynomial=function(e){let t=Sp([1],0);for(let n=0;n<e;n+=1)t=t.multiply(Sp([1,Cp.gexp(n)],0));return t},i.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+e}}},i.getLostPoint=function(e){let t=e.getModuleCount(),n=0;for(let i=0;i<t;i+=1)for(let r=0;r<t;r+=1){let s=0,a=e.isDark(i,r);for(let n=-1;n<=1;n+=1)if(!(i+n<0||t<=i+n))for(let o=-1;o<=1;o+=1)r+o<0||t<=r+o||0==n&&0==o||a==e.isDark(i+n,r+o)&&(s+=1);s>5&&(n+=3+s-5)}for(let i=0;i<t-1;i+=1)for(let r=0;r<t-1;r+=1){let t=0;e.isDark(i,r)&&(t+=1),e.isDark(i+1,r)&&(t+=1),e.isDark(i,r+1)&&(t+=1),e.isDark(i+1,r+1)&&(t+=1),0!=t&&4!=t||(n+=3)}for(let i=0;i<t;i+=1)for(let r=0;r<t-6;r+=1)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(let i=0;i<t;i+=1)for(let r=0;r<t-6;r+=1)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);let i=0;for(let n=0;n<t;n+=1)for(let r=0;r<t;r+=1)e.isDark(r,n)&&(i+=1);return n+=Math.abs(100*i/t/t-50)/5*10,n},i}();let Cp=function(){let e=new Array(256),t=new Array(256);for(let t=0;t<8;t+=1)e[t]=1<<t;for(let t=8;t<256;t+=1)e[t]=e[t-4]^e[t-5]^e[t-6]^e[t-8];for(let n=0;n<255;n+=1)t[e[n]]=n;return{glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}}}();function Sp(e,t){if(void 0===e.length)throw e.length+"/"+t;let n=function(){let n=0;for(;n<e.length&&0==e[n];)n+=1;let i=new Array(e.length-n+t);for(let t=0;t<e.length-n;t+=1)i[t]=e[t+n];return i}(),i={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){let t=new Array(i.getLength()+e.getLength()-1);for(let n=0;n<i.getLength();n+=1)for(let r=0;r<e.getLength();r+=1)t[n+r]^=Cp.gexp(Cp.glog(i.getAt(n))+Cp.glog(e.getAt(r)));return Sp(t,0)},mod:function(e){if(i.getLength()-e.getLength()<0)return i;let t=Cp.glog(i.getAt(0))-Cp.glog(e.getAt(0)),n=new Array(i.getLength());for(let e=0;e<i.getLength();e+=1)n[e]=i.getAt(e);for(let i=0;i<e.getLength();i+=1)n[i]^=Cp.gexp(Cp.glog(e.getAt(i))+t);return Sp(n,0).mod(e)}};return i}const Ep=function(){let e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){let n={};return n.totalCount=e,n.dataCount=t,n},n={getRSBlocks:function(n,i){let r=function(t,n){switch(n){case _p.L:return e[4*(t-1)+0];case _p.M:return e[4*(t-1)+1];case _p.Q:return e[4*(t-1)+2];case _p.H:return e[4*(t-1)+3];default:return}}(n,i);if(void 0===r)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+i;let s=r.length/3,a=[];for(let e=0;e<s;e+=1){let n=r[3*e+0],i=r[3*e+1],s=r[3*e+2];for(let e=0;e<n;e+=1)a.push(t(i,s))}return a}};return n}();let Ap=function(){let e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){let n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(let i=0;i<t;i+=1)n.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return t},putBit:function(n){let i=Math.floor(t/8);e.length<=i&&e.push(0),n&&(e[i]|=128>>>t%8),t+=1}};return n},Tp=function(e){let t=e,n={getMode:function(){return 1},getLength:function(e){return t.length},write:function(e){let n=t,r=0;for(;r+2<n.length;)e.put(i(n.substring(r,r+3)),10),r+=3;r<n.length&&(n.length-r==1?e.put(i(n.substring(r,r+1)),4):n.length-r==2&&e.put(i(n.substring(r,r+2)),7))}};const i=function(e){let t=0;for(let n=0;n<e.length;n+=1)t=10*t+r(e.charAt(n));return t},r=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return n};const Ip=function(e){let t=e,n={getMode:function(){return 2},getLength:function(e){return t.length},write:function(e){let n=t,r=0;for(;r+1<n.length;)e.put(45*i(n.charAt(r))+i(n.charAt(r+1)),11),r+=2;r<n.length&&e.put(i(n.charAt(r)),6)}};const i=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return n},Lp=function(e){let t=kp(e),n={getMode:function(){return 4},getLength:function(e){return t.length},write:function(e){for(let n=0;n<t.length;n+=1)e.put(t[n],8)}};return n},qp=function(e){let t=wp.SJIS;if(!t)throw"sjis not supported.";!function(e,n){let i=t("友");if(2!=i.length||38726!=(i[0]<<8|i[1]))throw"sjis not supported."}();let n=t(e),i={getMode:function(){return 8},getLength:function(e){return~~(n.length/2)},write:function(e){let t=n,i=0;for(;i+1<t.length;){let n=(255&t[i])<<8|255&t[i+1];if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw"illegal char at "+(i+1)+"/"+n;n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13),i+=2}if(i<t.length)throw"illegal char at "+(i+1)}};return i};let Op=function(){let e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,i){n=n||0,i=i||e.length;for(let r=0;r<i;r+=1)t.writeByte(e[r+n])},writeString:function(e){for(let n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){let t="";t+="[";for(let n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]",t}};return t};const Rp=function(e,t,n,i){let r=function(e,t){let n=e,i=t,r=new Array(e*t),s={setPixel:function(e,t,i){r[t*n+e]=i},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(i),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(i),e.writeByte(0);let t=a(2);e.writeByte(2);let r=0;for(;t.length-r>255;)e.writeByte(255),e.writeBytes(t,r,255),r+=255;e.writeByte(t.length-r),e.writeBytes(t,r,t.length-r),e.writeByte(0),e.writeString(";")}};const a=function(e){let t=1<<e,n=1+(1<<e),i=e+1,s=o();for(let e=0;e<t;e+=1)s.add(String.fromCharCode(e));s.add(String.fromCharCode(t)),s.add(String.fromCharCode(n));let a=Op(),l=function(e){let t=e,n=0,i=0;return{write:function(e,r){if(e>>>r!=0)throw"length over";for(;n+r>=8;)t.writeByte(255&(e<<n|i)),r-=8-n,e>>>=8-n,i=0,n=0;i|=e<<n,n+=r},flush:function(){n>0&&t.writeByte(i)}}}(a);l.write(t,i);let c=0,d=String.fromCharCode(r[c]);for(c+=1;c<r.length;){let e=String.fromCharCode(r[c]);c+=1,s.contains(d+e)?d+=e:(l.write(s.indexOf(d),i),s.size()<4095&&(s.size()==1<<i&&(i+=1),s.add(d+e)),d=e)}return l.write(s.indexOf(d),i),l.write(n,i),l.flush(),a.toByteArray()},o=function(){let e={},t=0,n={add:function(i){if(n.contains(i))throw"dup key:"+i;e[i]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return s}(e,t);for(let i=0;i<t;i+=1)for(let t=0;t<e;t+=1)r.setPixel(t,i,n(t,i));let s=Op();r.write(s);let a=function(){let e=0,t=0,n=0,i="",r={},s=function(e){i+=String.fromCharCode(a(63&e))};const a=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return r.writeByte=function(i){for(e=e<<8|255&i,t+=8,n+=1;t>=6;)s(e>>>t-6),t-=6},r.flush=function(){if(t>0&&(s(e<<6-t),e=0,t=0),n%3!=0){let e=3-n%3;for(let t=0;t<e;t+=1)i+="="}},r.toString=function(){return i},r}(),o=s.toByteArray();for(let e=0;e<o.length;e+=1)a.writeByte(o[e]);a.flush();let l="";return l+="<img",l+=' src="',l+="data:image/gif;base64,",l+=a,l+='"',l+=' width="',l+=e,l+='"',l+=' height="',l+=t,l+='"',i&&(l+=' alt="',l+=i,l+='"'),l+="/>",l};wp["UTF-8"]=function(e){return function(e){let t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t}(e)};const Mp={components:{FloatingInput:qs},emits:["scan"],props:{initialText:String,errorCorrection:{type:String,default:"L"},noText:{type:Boolean,default:!1}},data(){return{_qr:null,html:"",text:this.$props.initialText,size:0,errorCorrectionLevel:this.$props.errorCorrection,invert:!1}},mounted(){this.create()},unmounted(){this.destroy()},methods:{create(){this._qr=new yp(0,this.errorCorrectionLevel)},destroy(){delete this._qr,this._qr=null},regenerate(e){this._qr||this.create(),void 0!==e?this.text=e:this.text||(this.text=""),this.refresh(),this._qr.addData(this.text),this._qr.make(),this.html=this._qr.createSvgTag({})},refresh(){this.destroy(),this.create()},onInput(){"1"===this.size?this.errorCorrectionLevel="L":"2"===this.size?this.errorCorrectionLevel="M":"3"===this.size&&(this.errorCorrectionLevel="H"),this.regenerate()}}};r(3202);const Bp=(0,Ls.Z)(Mp,[["render",function(e,t,n,i,r,s){const a=Yn("FloatingInput");return Ui(),Gi("div",op,[n.noText?ar("v-if",!0):(Ui(),Gi("div",lp,[cp,er("div",dp,u(r.text||"???"),1)])),er("div",up,[er("div",{ref:"qr",innerHTML:r.html,class:c(["qr-image",{invert:r.invert,blured:!r.text}])},null,10,pp),er("div",hp,[fp,er("div",gp,[Zn(er("input",{type:"range",class:"slider",min:"1",max:"3",step:"1","onUpdate:modelValue":t[0]||(t[0]=e=>r.size=e),onInput:t[1]||(t[1]=(...e)=>s.onInput&&s.onInput(...e))},null,544),[[ss,r.size]]),mp])])]),er("div",vp,[bp,tr(a,{type:"checkbox",modelValue:r.invert,"onUpdate:modelValue":t[2]||(t[2]=e=>r.invert=e),class:"switch"},null,8,["modelValue"]),xp])])}],["__scopeId","data-v-e7cdf28a"]]),Pp=e=>(an("data-v-1cd39c46"),e=e(),on(),e),zp={class:"markdown-panel"},Vp=[sr('<svg xmlns="http://www.w3.org/2000/svg" width="18px" height="12px" data-v-1cd39c46><g transform="scale(0.25) translate(8, 2)" data-v-1cd39c46><path d="M57.124,51.893H16.92c-1.657,0-3-1.343-3-3s1.343-3,3-3h40.203c1.657,0,3,1.343,3,3S58.781,51.893,57.124,51.893z" data-v-1cd39c46></path><path d="M57.124,33.062H16.92c-1.657,0-3-1.343-3-3s1.343-3,3-3h40.203c1.657,0,3,1.343,3,3   C60.124,31.719,58.781,33.062,57.124,33.062z" data-v-1cd39c46></path><path d="M57.124,14.231H16.92c-1.657,0-3-1.343-3-3s1.343-3,3-3h40.203c1.657,0,3,1.343,3,3S58.781,14.231,57.124,14.231z" data-v-1cd39c46></path><circle cx="4.029" cy="11.463" r="4.029" data-v-1cd39c46></circle><circle cx="4.029" cy="30.062" r="4.029" data-v-1cd39c46></circle><circle cx="4.029" cy="48.661" r="4.029" data-v-1cd39c46></circle></g></svg>',1)],Fp=[Pp((()=>er("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"15px"},[er("g",{transform:"scale(0.028) translate(70, 40)"},[er("path",{d:"M211.26,389.24l-60.331,60.331c-25.012,25.012-65.517,25.012-90.508,0.005c-24.996-24.996-24.996-65.505-0.005-90.496     l120.683-120.683c24.991-24.992,65.5-24.992,90.491,0c8.331,8.331,21.839,8.331,30.17,0c8.331-8.331,8.331-21.839,0-30.17     c-41.654-41.654-109.177-41.654-150.831,0L30.247,328.909c-41.654,41.654-41.654,109.177,0,150.831     c41.649,41.676,109.177,41.676,150.853,0l60.331-60.331c8.331-8.331,8.331-21.839,0-30.17S219.591,380.909,211.26,389.24z"}),er("path",{d:"M479.751,30.24c-41.654-41.654-109.199-41.654-150.853,0l-72.384,72.384c-8.331,8.331-8.331,21.839,0,30.17     c8.331,8.331,21.839,8.331,30.17,0l72.384-72.384c24.991-24.992,65.521-24.992,90.513,0c24.991,24.991,24.991,65.5,0,90.491     L316.845,283.638c-24.992,24.992-65.5,24.992-90.491,0c-8.331-8.331-21.839-8.331-30.17,0s-8.331,21.839,0,30.17     c41.654,41.654,109.177,41.654,150.831,0l132.736-132.736C521.405,139.418,521.405,71.894,479.751,30.24z"})])],-1)))],jp=[Pp((()=>er("svg",{class:"_photo",xmlns:"http://www.w3.org/2000/svg",width:"19px",height:"15px"},[er("g",{transform:"scale(0.8) translate(0, -2)"},[er("path",{d:"m14.134 3.65c.853 0 1.46.278 1.988.899.017.019.494.61.66.815.228.281.674.536.945.536h.41c2.419 0 3.863 1.563 3.863 4.05v5.85c0 2.241-2 4.2-4.273 4.2h-11.454c-2.267 0-4.223-1.953-4.223-4.2v-5.85c0-2.496 1.4-4.05 3.814-4.05h.409c.271 0 .717-.255.945-.536.166-.204.643-.796.66-.815.528-.621 1.135-.899 1.988-.899z"}),er("circle",{cx:"12",cy:"12",r:"3.85"})])],-1)))],Dp={emits:["input","change","update:modelValue"],props:{modelValue:String},data(){return{ImageUploader:new Xc(this.$popups,this.$api.uploadImage),attachedImages:[],lastInputTime:Date.now(),timeout:null,changedFromEmit:!1,stopEmitting:!1}},methods:{updateVModel(e){const t=e||this.modelValue;this.$emit("input",t),this.$emit("update:modelValue",t)},encaseInputText(e,t=""){let n=this.modelValue;const i=this.$refs.textarea,r=i.selectionStart,s=i.selectionEnd;if(r===s)return;const a=e+n.substring(r,s)+t;n=n.substring(0,r)+a+n.substring(s),i.focus(),this.updateVModel(n),this.onInput()},encaseInputLines(e,t=""){let n=this.modelValue;const i=this.$refs.textarea;let r=i.selectionStart,s=i.selectionEnd;r=n.substring(0,r).lastIndexOf("\n")+1,-1===r&&(r=0);const a=n.substring(s).indexOf("\n");-1===a?s=n.length:s+=a;const o=e+n.substring(r,s).replaceAll(/\n/g,t+"\n"+e)+t;n=n.substring(0,r)+o+n.substring(s),i.focus(),this.updateVModel(n),this.onInput()},async attachLink(){let e=this.modelValue;const t=this.$refs.textarea,n=await this.$modal.prompt("Введите адрес ссылки");if(!n)return;const i=t.selectionEnd?t.selectionEnd:0,r=await this.$modal.prompt("Теперь придумайте ей замещающий текст (необязательно)");r?(e=e.substring(0,i)+`[${r}](${n})`+e.substring(i),this.updateVModel(e),this.onInput()):e=e.substring(0,i)+" "+n+" "+e.substring(i)},async attachPhoto(){let e=this.modelValue;const t=this.$refs.textarea,n=t.selectionEnd?t.selectionEnd:0,i=this.ImageUploader.upload();e=e.substring(0,n)+"![image]("+this.$api.apiUrl+"/image/"+i+")"+t.value.substring(n),this.updateVModel(e),this.onInput()},onInput(){this.changedFromEmit=!0,this.stopEmitting||(this.stopEmitting=!0,this.timeout=setTimeout((()=>{this.changedFromEmit&&this.emitChange(),this.stopEmitting=!1}),500))},emitChange(){this.$emit("change",this.modelValue),this.changedFromEmit=!1}}};r(9945);const Up=(0,Ls.Z)(Dp,[["render",function(e,t,n,i,r,s){return Ui(),Gi("div",{class:"markdown",onChange:t[13]||(t[13]=ls((()=>{}),["stop"])),onInput:t[14]||(t[14]=(...e)=>s.onInput&&s.onInput(...e))},[Zn(er("textarea",{class:"markdowned scrollable link",ref:"textarea",rows:"5","onUpdate:modelValue":t[0]||(t[0]=e=>n.modelValue=e),onInput:t[1]||(t[1]=e=>s.updateVModel())},null,544),[[ss,n.modelValue]]),er("div",zp,[er("div",{class:"_bold",onClick:t[2]||(t[2]=e=>s.encaseInputText("**","**"))},"B"),er("div",{class:"_italic",onClick:t[3]||(t[3]=e=>s.encaseInputText(" _","_ "))},"I"),er("div",{class:"_strikethrough",onClick:t[4]||(t[4]=e=>s.encaseInputText(" ~~","~~ "))},"S"),er("div",{class:"_code",onClick:t[5]||(t[5]=e=>s.encaseInputText("`","`"))},"`c`"),er("div",{class:"_header-1",onClick:t[6]||(t[6]=e=>s.encaseInputLines("# "))},"H1"),er("div",{class:"_header-2",onClick:t[7]||(t[7]=e=>s.encaseInputLines("## "))},"H2"),er("div",{class:"_header-3",onClick:t[8]||(t[8]=e=>s.encaseInputLines("### "))},"H3"),er("div",{class:"_blockquote",onClick:t[9]||(t[9]=e=>s.encaseInputLines("> "))},">|"),er("div",{class:"_list",onClick:t[10]||(t[10]=e=>s.encaseInputLines("- "))},Vp),er("div",{class:"_link",onClick:t[11]||(t[11]=(...e)=>s.attachLink&&s.attachLink(...e))},Fp),er("div",{class:"_photo",onClick:t[12]||(t[12]=(...e)=>s.attachPhoto&&s.attachPhoto(...e))},jp)])],32)}],["__scopeId","data-v-1cd39c46"]]),Np=["innerHTML"];let Qp={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Hp=/[&<>"']/,Gp=/[&<>"']/g,Zp=/[<>"']|&(?!#?\w+;)/,Wp=/[<>"']|&(?!#?\w+;)/g,Kp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yp=e=>Kp[e];function Xp(e,t){if(t){if(Hp.test(e))return e.replace(Gp,Yp)}else if(Zp.test(e))return e.replace(Wp,Yp);return e}const Jp=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function eh(e){return e.replace(Jp,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const th=/(^|[^\[])\^/g;function nh(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,i)=>(i=(i=i.source||i).replace(th,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n}const ih=/[^\w:]/g,rh=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function sh(e,t,n){if(e){let e;try{e=decodeURIComponent(eh(n)).replace(ih,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!rh.test(n)&&(n=function(e,t){ah[" "+e]||(oh.test(e)?ah[" "+e]=e+"/":ah[" "+e]=hh(e,"/",!0));const n=-1===(e=ah[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(lh,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(ch,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const ah={},oh=/^[^:]+:\/*[^/]*$/,lh=/^([^:]+:)[\s\S]*$/,ch=/^([^:]+:\/*[^/]*)[\s\S]*$/,dh={exec:function(){}};function uh(e){let t,n,i=1;for(;i<arguments.length;i++)for(n in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ph(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function hh(e,t,n){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const s=e.charAt(i-r-1);if(s!==t||n){if(s===t||!n)break;r++}else r++}return e.slice(0,i-r)}function fh(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function gh(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function mh(e,t,n,i){const r=t.href,s=t.title?Xp(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const e={type:"link",raw:n,href:r,title:s,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:s,text:Xp(a)}}class vh{constructor(e){this.options=e||Qp}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:hh(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const i=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=i.length?e.slice(i.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=hh(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,s,a,o,l,c,d,u,p,h,f=t[1].trim();const g=f.length>1,m={type:"list",raw:"",ordered:g,start:g?+f.slice(0,-1):"",loose:!1,items:[]};f=g?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=g?f:"[*+-]");const v=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0],d=e.split("\n",1)[0],this.options.pedantic?(s=2,p=c.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,p=c.slice(s),s+=t[1].length),o=!1,!c&&/^ *$/.test(d)&&(n+=d+"\n",e=e.substring(d.length+1),h=!0),!h){const t=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),i=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),a=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(u=e.split("\n",1)[0],c=u,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!r.test(c))&&!a.test(c)&&!t.test(c)&&!i.test(e);){if(c.search(/[^ ]/)>=s||!c.trim())p+="\n"+c.slice(s);else{if(o)break;p+="\n"+c}o||c.trim()||(o=!0),n+=u+"\n",e=e.substring(u.length+1)}}m.loose||(l?m.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(p),i&&(r="[ ] "!==i[0],p=p.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:p}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=p.trimRight(),m.raw=m.raw.trimRight();const b=m.items.length;for(a=0;a<b;a++){this.lexer.state.top=!1,m.items[a].tokens=this.lexer.blockTokens(m.items[a].text,[]);const e=m.items[a].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let n=0;for(const e of t)if("\n"===e&&(n+=1),n>1)return!0;return!1}));!m.loose&&e.length&&t&&(m.loose=!0,m.items[a].loose=!0)}return m}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):Xp(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:ph(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,i,r,s,a=e.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(a=e.rows.length,n=0;n<a;n++)e.rows[n]=ph(e.rows[n],e.header.length).map((e=>({text:e})));for(a=e.header.length,i=0;i<a;i++)e.header[i].tokens=this.lexer.inline(e.header[i].text);for(a=e.rows.length,i=0;i<a;i++)for(s=e.rows[i],r=0;r<s.length;r++)s[r].tokens=this.lexer.inline(s[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Xp(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Xp(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=hh(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),mh(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:i?i.replace(this.rules.inline._escapes,"$1"):i},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return mh(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i)return;if(i[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){const n=i[0].length-1;let r,s,a=n,o=0;const l="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=l.exec(t));){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(s=r.length,i[3]||i[4]){a+=s;continue}if((i[5]||i[6])&&n%3&&!((n+s)%3)){o+=s;continue}if(a-=s,a>0)continue;if(s=Math.min(s,s+a+o),Math.min(n,s)%2){const t=e.slice(1,n+i.index+s);return{type:"em",raw:e.slice(0,n+i.index+s+1),text:t,tokens:this.lexer.inlineTokens(t)}}const t=e.slice(2,n+i.index+s-1);return{type:"strong",raw:e.slice(0,n+i.index+s+1),text:t,tokens:this.lexer.inlineTokens(t)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return n&&i&&(e=e.substring(1,e.length-1)),e=Xp(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,i;return"@"===n[2]?(e=Xp(this.options.mangle?t(n[1]):n[1]),i="mailto:"+e):(e=Xp(n[1]),i=e),{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if("@"===n[2])e=Xp(this.options.mangle?t(n[0]):n[0]),i="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Xp(n[0]),i="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Xp(n[0]):n[0]:Xp(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const bh={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:dh,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};bh.def=nh(bh.def).replace("label",bh._label).replace("title",bh._title).getRegex(),bh.bullet=/(?:[*+-]|\d{1,9}[.)])/,bh.listItemStart=nh(/^( *)(bull) */).replace("bull",bh.bullet).getRegex(),bh.list=nh(bh.list).replace(/bull/g,bh.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+bh.def.source+")").getRegex(),bh._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",bh._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,bh.html=nh(bh.html,"i").replace("comment",bh._comment).replace("tag",bh._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),bh.paragraph=nh(bh._paragraph).replace("hr",bh.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bh._tag).getRegex(),bh.blockquote=nh(bh.blockquote).replace("paragraph",bh.paragraph).getRegex(),bh.normal=uh({},bh),bh.gfm=uh({},bh.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),bh.gfm.table=nh(bh.gfm.table).replace("hr",bh.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bh._tag).getRegex(),bh.gfm.paragraph=nh(bh._paragraph).replace("hr",bh.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",bh.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bh._tag).getRegex(),bh.pedantic=uh({},bh.normal,{html:nh("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",bh._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:dh,paragraph:nh(bh.normal._paragraph).replace("hr",bh.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",bh.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const xh={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:dh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:dh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function yh(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function wh(e){let t,n,i="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}xh._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",xh.punctuation=nh(xh.punctuation).replace(/punctuation/g,xh._punctuation).getRegex(),xh.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,xh.escapedEmSt=/\\\*|\\_/g,xh._comment=nh(bh._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),xh.emStrong.lDelim=nh(xh.emStrong.lDelim).replace(/punct/g,xh._punctuation).getRegex(),xh.emStrong.rDelimAst=nh(xh.emStrong.rDelimAst,"g").replace(/punct/g,xh._punctuation).getRegex(),xh.emStrong.rDelimUnd=nh(xh.emStrong.rDelimUnd,"g").replace(/punct/g,xh._punctuation).getRegex(),xh._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,xh._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,xh._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,xh.autolink=nh(xh.autolink).replace("scheme",xh._scheme).replace("email",xh._email).getRegex(),xh._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,xh.tag=nh(xh.tag).replace("comment",xh._comment).replace("attribute",xh._attribute).getRegex(),xh._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xh._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,xh._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,xh.link=nh(xh.link).replace("label",xh._label).replace("href",xh._href).replace("title",xh._title).getRegex(),xh.reflink=nh(xh.reflink).replace("label",xh._label).replace("ref",bh._label).getRegex(),xh.nolink=nh(xh.nolink).replace("ref",bh._label).getRegex(),xh.reflinkSearch=nh(xh.reflinkSearch,"g").replace("reflink",xh.reflink).replace("nolink",xh.nolink).getRegex(),xh.normal=uh({},xh),xh.pedantic=uh({},xh.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:nh(/^!?\[(label)\]\((.*?)\)/).replace("label",xh._label).getRegex(),reflink:nh(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xh._label).getRegex()}),xh.gfm=uh({},xh.normal,{escape:nh(xh.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),xh.gfm.url=nh(xh.gfm.url,"i").replace("email",xh.gfm._extended_email).getRegex(),xh.breaks=uh({},xh.gfm,{br:nh(xh.br).replace("{2,}","*").getRegex(),text:nh(xh.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class kh{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Qp,this.options.tokenizer=this.options.tokenizer||new vh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:bh.normal,inline:xh.normal};this.options.pedantic?(t.block=bh.pedantic,t.inline=xh.pedantic):this.options.gfm&&(t.block=bh.gfm,this.options.breaks?t.inline=xh.breaks:t.inline=xh.gfm),this.tokenizer.rules=t}static get rules(){return{block:bh,inline:xh}}static lex(e,t){return new kh(t).lex(e)}static lexInline(e,t){return new kh(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,i,r,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))i=t[t.length-1],s&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),s=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,r,s,a,o,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+gh("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+gh("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,s.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(o=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,o))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,wh))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,wh))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,yh))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(o=n.raw.slice(-1)),a=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class _h{constructor(e){this.options=e||Qp}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+Xp(i,!0)+'">'+(n?e:Xp(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Xp(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(n)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=sh(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+Xp(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(null===(e=sh(this.options.sanitize,this.options.baseUrl,e)))return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class $h{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Ch{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{i++,n=e+"-"+i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Sh{constructor(e){this.options=e||Qp,this.options.renderer=this.options.renderer||new _h,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $h,this.slugger=new Ch}static parse(e,t){return new Sh(t).parse(e)}static parseInline(e,t){return new Sh(t).parseInline(e)}parse(e,t=!0){let n,i,r,s,a,o,l,c,d,u,p,h,f,g,m,v,b,x,y,w="";const k=e.length;for(n=0;n<k;n++)if(u=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(y=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==y||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))w+=y||"";else switch(u.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(u.tokens),u.depth,eh(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(c="",l="",s=u.header.length,i=0;i<s;i++)l+=this.renderer.tablecell(this.parseInline(u.header[i].tokens),{header:!0,align:u.align[i]});for(c+=this.renderer.tablerow(l),d="",s=u.rows.length,i=0;i<s;i++){for(o=u.rows[i],l="",a=o.length,r=0;r<a;r++)l+=this.renderer.tablecell(this.parseInline(o[r].tokens),{header:!1,align:u.align[r]});d+=this.renderer.tablerow(l)}w+=this.renderer.table(c,d);continue;case"blockquote":d=this.parse(u.tokens),w+=this.renderer.blockquote(d);continue;case"list":for(p=u.ordered,h=u.start,f=u.loose,s=u.items.length,d="",i=0;i<s;i++)m=u.items[i],v=m.checked,b=m.task,g="",m.task&&(x=this.renderer.checkbox(v),f?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=x+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=x+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:x}):g+=x),g+=this.parse(m.tokens,f),d+=this.renderer.listitem(g,b,v);w+=this.renderer.list(d,p,h);continue;case"html":w+=this.renderer.html(u.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(d=u.tokens?this.parseInline(u.tokens):u.text;n+1<k&&"text"===e[n+1].type;)u=e[++n],d+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);w+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return w}parseInline(e,t){t=t||this.renderer;let n,i,r,s="";const a=e.length;for(n=0;n<a;n++)if(i=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(r=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))s+=r||"";else switch(i.type){case"escape":case"text":s+=t.text(i.text);break;case"html":s+=t.html(i.text);break;case"link":s+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":s+=t.image(i.href,i.title,i.text);break;case"strong":s+=t.strong(this.parseInline(i.tokens,t));break;case"em":s+=t.em(this.parseInline(i.tokens,t));break;case"codespan":s+=t.codespan(i.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(i.tokens,t));break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return s}}function Eh(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),fh(t=uh({},Eh.defaults,t||{})),n){const i=t.highlight;let r;try{r=kh.lex(e,t)}catch(e){return n(e)}const s=function(e){let s;if(!e)try{t.walkTokens&&Eh.walkTokens(r,t.walkTokens),s=Sh.parse(r,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,s)};if(!i||i.length<3)return s();if(delete t.highlight,!r.length)return s();let a=0;return Eh.walkTokens(r,(function(e){"code"===e.type&&(a++,setTimeout((()=>{i(e.text,e.lang,(function(t,n){if(t)return s(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),a--,0===a&&s()}))}),0))})),void(0===a&&s())}function i(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Xp(e.message+"",!0)+"</pre>";throw e}try{const n=kh.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Eh.walkTokens(n,t.walkTokens)).then((()=>Sh.parse(n,t))).catch(i);Eh.walkTokens(n,t.walkTokens)}return Sh.parse(n,t)}catch(e){i(e)}}Eh.options=Eh.setOptions=function(e){var t;return uh(Eh.defaults,e),t=Eh.defaults,Qp=t,Eh},Eh.getDefaults=function(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Eh.defaults=Qp,Eh.use=function(...e){const t=uh({},...e),n=Eh.defaults.extensions||{renderers:{},childTokens:{}};let i;e.forEach((e=>{if(e.extensions&&(i=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=n.renderers?n.renderers[e.name]:null;n.renderers[e.name]=t?function(...n){let i=e.renderer.apply(this,n);return!1===i&&(i=t.apply(this,n)),i}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");n[e.level]?n[e.level].unshift(e.tokenizer):n[e.level]=[e.tokenizer],e.start&&("block"===e.level?n.startBlock?n.startBlock.push(e.start):n.startBlock=[e.start]:"inline"===e.level&&(n.startInline?n.startInline.push(e.start):n.startInline=[e.start]))}e.childTokens&&(n.childTokens[e.name]=e.childTokens)}))),e.renderer){const n=Eh.defaults.renderer||new _h;for(const t in e.renderer){const i=n[t];n[t]=(...r)=>{let s=e.renderer[t].apply(n,r);return!1===s&&(s=i.apply(n,r)),s}}t.renderer=n}if(e.tokenizer){const n=Eh.defaults.tokenizer||new vh;for(const t in e.tokenizer){const i=n[t];n[t]=(...r)=>{let s=e.tokenizer[t].apply(n,r);return!1===s&&(s=i.apply(n,r)),s}}t.tokenizer=n}if(e.walkTokens){const n=Eh.defaults.walkTokens;t.walkTokens=function(t){let i=[];return i.push(e.walkTokens.call(this,t)),n&&(i=i.concat(n.call(this,t))),i}}i&&(t.extensions=n),Eh.setOptions(t)}))},Eh.walkTokens=function(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(Eh,i)),i.type){case"table":for(const e of i.header)n=n.concat(Eh.walkTokens(e.tokens,t));for(const e of i.rows)for(const i of e)n=n.concat(Eh.walkTokens(i.tokens,t));break;case"list":n=n.concat(Eh.walkTokens(i.items,t));break;default:Eh.defaults.extensions&&Eh.defaults.extensions.childTokens&&Eh.defaults.extensions.childTokens[i.type]?Eh.defaults.extensions.childTokens[i.type].forEach((function(e){n=n.concat(Eh.walkTokens(i[e],t))})):i.tokens&&(n=n.concat(Eh.walkTokens(i.tokens,t)))}return n},Eh.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");fh(t=uh({},Eh.defaults,t||{}));try{const n=kh.lexInline(e,t);return t.walkTokens&&Eh.walkTokens(n,t.walkTokens),Sh.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Xp(e.message+"",!0)+"</pre>";throw e}},Eh.Parser=Sh,Eh.parser=Sh.parse,Eh.Renderer=_h,Eh.TextRenderer=$h,Eh.Lexer=kh,Eh.lexer=kh.lex,Eh.Tokenizer=vh,Eh.Slugger=Ch,Eh.parse=Eh,Eh.options,Eh.setOptions,Eh.use,Eh.walkTokens,Eh.parseInline,Sh.parse,kh.lex;var Ah=new function(){var e={A:!0,ABBR:!0,B:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CENTER:!0,CODE:!0,DD:!0,DIV:!0,DL:!0,DT:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IMG:!0,LABEL:!0,LI:!0,OL:!0,P:!0,PRE:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRONG:!0,SUB:!0,SUP:!0,TABLE:!0,TBODY:!0,TR:!0,TD:!0,TH:!0,THEAD:!0,UL:!0,U:!0,VIDEO:!0},t={FORM:!0,"GOOGLE-SHEETS-HTML-ORIGIN":!0},n={align:!0,color:!0,controls:!0,height:!0,href:!0,id:!0,src:!0,style:!0,target:!0,title:!0,type:!0,width:!0},i={"background-color":!0,color:!0,"font-size":!0,"font-weight":!0,"text-align":!0,"text-decoration":!0,width:!0},r=["http:","https:","data:","m-files:","file:","ftp:","mailto:","pw:"],a={href:!0,action:!0};function o(e,t){for(var n=0;n<t.length;n++)if(0==e.indexOf(t[n]))return!0;return!1}this.SanitizeHtml=function(l,c,d){if(c=c&&c instanceof Array?c:[],d=d&&d instanceof Array?d:[],""==(l=l.trim()))return"";if("<br>"==l)return"";var u=document.createElement("iframe");if(void 0===u.sandbox)return alert("Your browser does not support sandboxed iframes. Please upgrade to a modern browser."),"";u.sandbox="allow-same-origin",u.style.display="none",document.body.appendChild(u);var p=u.contentDocument||u.contentWindow.document;null==p.body&&p.write("<body></body>"),p.body.innerHTML=l;var h=function l(u){if(u.nodeType==Node.TEXT_NODE)var h=u.cloneNode(!0);else if(u.nodeType==Node.ELEMENT_NODE&&(e[u.tagName]||t[u.tagName]||c.indexOf(u.tagName)>-1)){if(("SPAN"==u.tagName||"B"==u.tagName||"I"==u.tagName||"U"==u.tagName)&&""==u.innerHTML.trim())return document.createDocumentFragment();h=t[u.tagName]?p.createElement("DIV"):p.createElement(u.tagName);for(var f=0;f<u.attributes.length;f++){var g=u.attributes[f];if(n[g.name]||d.indexOf(g.name)>-1)if("style"==g.name)for(s=0;s<u.style.length;s++){var m=u.style[s];i[m]&&h.style.setProperty(m,u.style.getPropertyValue(m))}else{if(a[g.name]&&g.value.indexOf(":")>-1&&!o(g.value,r))continue;h.setAttribute(g.name,g.value)}}for(f=0;f<u.childNodes.length;f++){var v=l(u.childNodes[f]);h.appendChild(v,!1)}}else h=document.createDocumentFragment();return h}(p.body);return document.body.removeChild(u),h.innerHTML.replace(/<br[^>]*>(\S)/g,"<br>\n$1").replace(/div><div/g,"div>\n<div")},this.AllowedTags=e,this.AllowedAttributes=n,this.AllowedCssStyles=i,this.AllowedSchemas=r};const Th={props:{initialText:{type:String,default:""}},data(){return{html:"",text:this.$props.initialText}},mounted(){Ah.AllowedTags.AUDIO=!0,Ah.AllowedTags.S=!0,Ah.AllowedTags.DEL=!0,this.text&&this.update()},methods:{update(e){e&&(this.text=e);const t=Eh.parse(this.text,{breaks:!0});this.html=Ah.SanitizeHtml(t)}}};r(5738);const Ih=(0,Ls.Z)(Th,[["render",function(e,t,n,i,r,s){return Ui(),Gi("div",{innerHTML:r.html,class:"link _markdown_renderer"},null,8,Np)}]]),Lh={components:{MarkdownRenderer:Ih,MarkdownRedactor:Up,FloatingButton:eu,QRGenerator:Bp,AddableList:sp,FloatingInput:qs,Form:ec,CircleLoading:Qs,TopButtons:Zc},data(){return{ImageUploader:new Xc(this.$popups,this.$api.uploadImage),prevBranches:[],prevHelpers:[],branches:[],helpers:[],id:this.$route.query.id,loading:!1,branchesLoading:!1,helpersLoading:!1,questLink:"",title:"",description:"",previewUrl:"",author:"",authorName:"",islinkactive:!1,ispublished:!1,uid:"",helper:!1,edited:!1}},async mounted(){if(void 0===this.id)return this.$popups.error("Ошибка","id квеста не задано"),void this.$router.push("/quests/my");await this.getQuestInfo(),this.$refs.renderer.update(this.description),this.getBranches(),this.helper||this.getHelpers()},methods:{changePreview(e){this.$refs.renderer.update(e)},async getQuestInfo(){this.loading=!0;const e=await this.$api.getQuestInfo(this.id);this.loading=!1,e.ok_?(this.title=e.title,this.description=e.description,this.ispublished=e.ispublished,this.islinkactive=e.islinkactive,this.author=e.author,this.authorName=e.authorname,this.previewUrl=e.previewurl,this.uid=e.uid,this.helper=Boolean(e.helper),this.questLink=this.$url+`/quest?uid=${this.uid}`,this.$refs.qrGenerator.regenerate(this.questLink),this.onChangeLink()):this.$popups.error("Ошибка","Не удалось получить информацио о квесте")},async getBranches(){this.branchesLoading=!0;const e=await this.$api.getQuestBranches(this.id);this.branchesLoading=!1,e.ok_?(this.branches=e.branches,this.branches.forEach((e=>{e.confirmed=!0})),this.prevBranches=zs(this.branches)):this.$popups.error("Ошибка","Не удалось получить ветки квесте")},async getHelpers(){this.helpersLoading=!0;const e=await this.$api.getQuestHelpers(this.id);this.helpersLoading=!1,e.ok_?(this.helpers=e.helpers,this.helpers.forEach((e=>{e.title=e.name})),this.prevHelpers=zs(this.helpers)):this.$popups.error("Ошибка","Не удалось получить соавторов квеста")},onChangeLink(){this.islinkactive?Uc(this.$refs.linkFields):Dc(this.$refs.linkFields)},async copyLink(){void 0!==this.questLink&&(await navigator.clipboard.writeText(this.questLink),this.$popups.success("Ссылка скопирована в буфер обмена"))},async saveQuest(){await this.saveQuestInfo(),await this.saveBranches(),await this.saveHelpers(),window.onbeforeunload=null,this.edited=!1},async saveQuestInfo(){this.$refs.form.loading=!0;const e=await this.$api.updateQuestInfo(this.id,this.title,this.description,this.ispublished,this.islinkactive);if(this.$refs.form.loading=!1,e.ok_)return this.$popups.success("Сохранено","Информация сохранена"),void this.$refs.form.showSuccess();this.$refs.form.showError(),this.$popups.error("Ошибка","Не удалось сохранить информацию о квесте")},async saveBranches(){this.branchesLoading=!0;const e=[],t=[];for(let n=0;n<this.branches.length;n+=1){const i=this.branches[n],r=this.prevBranches[n];if(i.confirmed){if((i.title!==r?.title||i.id!==r?.id||i.orderid!==r?.orderid)&&!(await this.$api.updateBranchOrderId(i.id,i.title,n)).ok_)return this.$popups.error("Ошибка","Не удалось изменить название ветки (или поменять местами)"),void this.$refs.form.showError()}else e.push({title:i.title,description:""}),t.push(i)}const n=await this.$api.createBranchesMany(this.id,e);if(this.branchesLoading=!1,!n.ok_)return this.$popups.error("Ошибка","Не удалось создать ветки(у)"),void this.$refs.form.showError();t.forEach(((e,t)=>{const i=n.branches[t];e.confirmed=!0,e.id=i.id,e.orderid=i.orderid,e.ispublished=i.ispublished,e.description=i.description})),this.prevBranches=zs(this.branches)},async saveHelpers(){this.helpersLoading=!0;for(const e of this.helpers){const t=e.id;let n;void 0!==t?(n=await this.$api.updateHelper(t,this.id,e.title),n.ok_||this.$popups.error("Ошибка","Не удалось обновить соавтора")):(n=await this.$api.createHelper(this.id,e.title),n.ok_?e.id=n.id:this.$popups.error("Ошибка","Не удалось создать соавтора"))}for(const e of this.prevHelpers){const t=e.id;void 0===this.helpers.find((e=>e.id===t))&&((await this.$api.deleteHelper(t)).ok_||this.$popups.error("Ошибка","Не удалось удалить соавтора"))}this.helpersLoading=!1,this.prevHelpers=zs(this.helpers)},async deleteQuest(){if(!await this.$modal.confirm("Точно удаляем квест?",'Восстановить не получится. Может стоит просто снять флажок "опубликован"?'))return;this.$refs.form.loading=!0;const e=await this.$api.deleteQuest(this.id);this.$refs.form.loading=!1,e.ok_?(this.$popups.success("Сохранено","Информация сохранена"),window.onbeforeunload=null,this.edited=!1,this.$router.push("/quests/my")):this.$popups.error("Ошибка","Не удалось удалить квест")},onChange(){window.onbeforeunload=()=>!0,this.edited=!0},async updatePreview(){const e=await this.ImageUploader.upload();await this.deletePreview(),this.previewUrl=this.$api.apiUrl+"/image/"+e,await this.savePreview()},async deletePreviewClick(){await this.$modal.confirm("Удаляем картинку-превью квеста?","Восстановить не получится")&&(await this.deletePreview(),this.previewUrl="",await this.savePreview())},async deletePreview(){if(!this.previewUrl)return;let e=this.previewUrl.split("/");e=e[e.length-1],this.loading=!0;const t=await this.$api.deleteImage(e);this.loading=!1,t.ok_||this.$popups.error("Ошибка","Не удалось удалить изображение")},async savePreview(){this.loading=!0;const e=await this.$api.updateQuestPreviewUrl(this.id,this.previewUrl);this.loading=!1,e.ok_?this.$popups.success("Сохранено","Изображение квеста обновлено"):this.$popups.error("Ошибка","Не удалось сохранить изображение")}}};r(507);const qh=(0,Ls.Z)(Lh,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("FloatingInput"),l=Yn("MarkdownRedactor"),c=Yn("MarkdownRenderer"),d=Yn("AddableList"),p=Yn("QRGenerator"),h=Yn("Form"),f=Yn("FloatingButton");return Ui(),Gi("div",{onInput:t[11]||(t[11]=(...e)=>s.onChange&&s.onChange(...e))},[tr(a,{bg:"",clickable:"",arrows:"",buttons:[{name:"Назад",description:"К твоим квестам",to:"/quests/my"}]}),tr(h,{class:"form-fullwidth",ref:"form"},{default:ln((()=>[er("div",pu,[hu,r.helper?(Ui(),Gi("div",fu,[gu,er("b",null,u(r.authorName),1),mu,vu,bu])):ar("v-if",!0)]),er("div",xu,[tr(o,{modelValue:r.title,"onUpdate:modelValue":t[0]||(t[0]=e=>r.title=e),title:"Название"},null,8,["modelValue"]),er("div",null,[yu,wu,tr(l,{ref:"redactor",onChange:s.changePreview,modelValue:r.description,"onUpdate:modelValue":t[1]||(t[1]=e=>r.description=e)},null,8,["onChange","modelValue"]),ku,tr(c,{ref:"renderer"},null,512)]),er("div",_u,[$u,er("div",Cu,[er("div",{class:"image-container",onClick:t[2]||(t[2]=(...e)=>s.updatePreview&&s.updatePreview(...e))},[r.previewUrl?(Ui(),Gi("img",{key:0,class:"preview-image",src:r.previewUrl,alt:"preview"},null,8,Su)):(Ui(),Gi("div",Eu,"SQ"))]),r.previewUrl?(Ui(),Gi("div",{key:0,class:"button rounded delete-button",onClick:t[3]||(t[3]=(...e)=>s.deletePreviewClick&&s.deletePreviewClick(...e))},Au)):ar("v-if",!0)])]),tr(d,{title:"Ветки",description:"При просмотре квестов для игры вы будете видеть даже неопубликованные ветки, чтобы можно было поиграть и проверить ветку до её публикации","add-text":"Добавить ветку","action-text":"Перейти",modelValue:r.branches,"onUpdate:modelValue":t[4]||(t[4]=e=>r.branches=e),"can-delete":!1,placeholder:"Название ветки","action-to":e=>`/quest/branch/edit?id=${e}`,onInput:s.onChange},null,8,["modelValue","action-to","onInput"]),r.helper?ar("v-if",!0):(Ui(),Zi(d,{key:0,title:"Соавторы",description:"Хотите делать квест вместе? Просто добавьте никнеймы соавторов ниже и они получат доступ к редактированию квеста","add-text":"Добавить соавтора",modelValue:r.helpers,"onUpdate:modelValue":t[5]||(t[5]=e=>r.helpers=e),placeholder:"Логин соавтора",onInput:s.onChange},null,8,["modelValue","onInput"])),tr(o,{type:"checkbox",title:"Опубликован",modelValue:r.ispublished,"onUpdate:modelValue":t[6]||(t[6]=e=>r.ispublished=e)},{default:ln((()=>[Tu,Iu,Lu])),_:1},8,["modelValue"]),er("div",null,[tr(o,{type:"checkbox",title:"Доступ по ссылке (или QR-коду)",modelValue:r.islinkactive,"onUpdate:modelValue":t[7]||(t[7]=e=>r.islinkactive=e),onChange:s.onChangeLink},{default:ln((()=>[qu,Ou,Ru])),_:1},8,["modelValue","onChange"]),er("div",Mu,[Bu,er("a",{target:"_blank",href:r.questLink,class:"quest-link text-middle link"},u(r.questLink),9,Pu),er("span",{class:"button rounded link-button",onClick:t[8]||(t[8]=(...e)=>s.copyLink&&s.copyLink(...e))},zu),Vu,Fu,tr(p,{class:"qr",text:r.questLink,ref:"qrGenerator","no-text":""},null,8,["text"])],512)])]),er("div",ju,[er("input",{type:"submit",value:"Сохранить",onClick:t[9]||(t[9]=(...e)=>s.saveQuest&&s.saveQuest(...e))})]),r.helper?ar("v-if",!0):(Ui(),Gi("div",Du,[er("input",{type:"submit",value:"Удалить квест",onClick:t[10]||(t[10]=(...e)=>s.deleteQuest&&s.deleteQuest(...e))})]))])),_:1},512),r.edited?(Ui(),Zi(f,{key:0,title:"Сохранить",green:"",onClick:s.saveQuest},{default:ln((()=>[Uu])),_:1},8,["onClick"])):ar("v-if",!0)],32)}],["__scopeId","data-v-4067976a"]]),Oh=e=>(an("data-v-40fe7dc5"),e=e(),on(),e),Rh=Oh((()=>er("div",{class:"info-container"},[er("div",{class:"text-big-xx"},"Создать квест")],-1))),Mh={class:"fields-container"},Bh=Oh((()=>er("label",{class:"text-big"},[rr("Описание "),er("span")],-1))),Ph=rr(" Если не опубликован - это черновик. Никто кроме тебя и соавторов не сможет просматривать квест "),zh=Oh((()=>er("br",null,null,-1))),Vh=rr(" Но доступ к нему можно будет получить по ссылке, если включена опция ниже "),Fh={class:"submit-container"},jh={components:{AddableList:sp,FloatingInput:qs,Form:ec,CircleLoading:Qs,TopButtons:Zc},data:()=>({id:null,branches:[],helpers:[],loading:!1,title:"",description:"",previewUrl:"",author:"",authorName:"",ispublished:!1,edited:!1}),methods:{async saveQuest(){await this.saveQuestInfo(),await this.saveBranches(),await this.saveHelpers(),window.onbeforeunload=null,this.edited=!1,this.$router.push(`/quest/edit?id=${this.id}`)},async saveQuestInfo(){this.$refs.form.loading=!0;const e=await this.$api.createQuest(this.title,this.description,this.ispublished);if(this.$refs.form.loading=!1,e.ok_)return this.$popups.success("Сохранено","Квест создан"),this.$refs.form.showSuccess(),void(this.id=e.id);this.$refs.form.showError(),this.$popups.error("Ошибка","Не удалось сохранить информацию о квесте")},async saveBranches(){if(null===this.id)return;this.branchesLoading=!0;const e=this.branches.map((e=>({title:e.title,description:""}))),t=await this.$api.createBranchesMany(this.id,e);return this.branchesLoading=!1,t.ok_?void 0:(this.$popups.error("Ошибка","Не удалось создать ветки(у)"),void this.$refs.form.showError())},async saveHelpers(){if(null!==this.id){this.helpersLoading=!0;for(const e of this.helpers)(await this.$api.createHelper(this.id,e.title)).ok_||this.$popups.error("Ошибка","Не удалось создать соавтора");this.helpersLoading=!1}},onChange(){this.edited=!0}},watch:{edited:(e,t)=>{window.onbeforeunload=!0!==e?null:()=>!0}}};r(8142);const Dh=(0,Ls.Z)(jh,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("FloatingInput"),l=Yn("AddableList"),c=Yn("Form");return Ui(),Gi("div",{onInput:t[6]||(t[6]=(...e)=>s.onChange&&s.onChange(...e))},[tr(a,{bg:"",clickable:"",arrows:"",buttons:[{name:"Назад",description:"К списку квестов",to:e.$router.options.history.state.back?e.$router.options.history.state.back:"/quests"}]},null,8,["buttons"]),tr(c,{class:"form-fullwidth",ref:"form"},{default:ln((()=>[Rh,er("div",Mh,[tr(o,{modelValue:r.title,"onUpdate:modelValue":t[0]||(t[0]=e=>r.title=e),title:"Название"},null,8,["modelValue"]),er("div",null,[Bh,Zn(er("textarea",{class:"text scrollable",rows:"5","onUpdate:modelValue":t[1]||(t[1]=e=>r.description=e)},null,512),[[ss,r.description]])]),tr(l,{title:"Ветки",description:"При просмотре квестов для игры вы будете видеть даже неопубликованные ветки, чтобы можно было поиграть и проверить ветку до её публикации","add-text":"Добавить ветку","action-text":"Перейти",modelValue:r.branches,"onUpdate:modelValue":t[2]||(t[2]=e=>r.branches=e),"can-delete":!1,placeholder:"Название ветки","action-to":e=>`/quest/branch/edit?id=${e}`},null,8,["modelValue","action-to"]),e.helper?ar("v-if",!0):(Ui(),Zi(l,{key:0,title:"Соавторы",description:"Хотите делать квест вместе? Просто добавьте никнеймы соавторов ниже и они получат доступ к редактированию квеста","add-text":"Добавить соавтора",modelValue:r.helpers,"onUpdate:modelValue":t[3]||(t[3]=e=>r.helpers=e),placeholder:"Логин соавтора"},null,8,["modelValue"])),tr(o,{type:"checkbox",title:"Опубликован",modelValue:r.ispublished,"onUpdate:modelValue":t[4]||(t[4]=e=>r.ispublished=e),disabled:""},{default:ln((()=>[Ph,zh,Vh])),_:1},8,["modelValue"])]),er("div",Fh,[er("input",{type:"submit",value:"Сохранить",onClick:t[5]||(t[5]=(...e)=>s.saveQuest&&s.saveQuest(...e))})])])),_:1},512)],32)}],["__scopeId","data-v-40fe7dc5"]]),Uh=e=>(an("data-v-33acbb0e"),e=e(),on(),e),Nh=Uh((()=>er("div",{class:"info-container"},[er("div",{class:"text-big-xx"},"Изменить ветку")],-1))),Qh={class:"fields-container"},Hh=Uh((()=>er("label",{class:"text-big"},[rr("Описание "),er("span")],-1))),Gh=rr(" Если ветка не опубликована - это черновик. Никто кроме тебя и соавторов не сможет просматривать её "),Zh=Uh((()=>er("br",null,null,-1))),Wh=rr(" При просмотре квестов для игры вы, как автор, будете видеть даже неопубликованные ветки, чтобы можно было поиграть и проверить ветку до её публикации "),Kh={class:"submit-container"},Yh={class:"submit-container"},Xh={key:1,src:du,alt:"save"},Jh={components:{FloatingButton:eu,AddableList:sp,FloatingInput:qs,Form:ec,CircleLoading:Qs,TopButtons:Zc},data(){return{prevTasks:[],tasks:[],id:this.$route.query.id,loading:!1,tasksLoading:!1,title:"",description:"",ispublished:!1,questTitle:"",questId:"",edited:!1}},mounted(){if(void 0===this.id)return this.$popups.error("Ошибка","id ветки не задано"),void this.$router.push("/quests/my");this.getBranchInfo(),this.getTasks()},methods:{async getBranchInfo(){this.loading=!0;const e=await this.$api.getBranchInfo(this.id);this.loading=!1,e.ok_?(this.title=e.title,this.description=e.description,this.ispublished=e.ispublished,this.questId=e.questid,this.questTitle=e.qtitle):this.$popups.error("Ошибка","Не удалось получить информацио о квесте")},async getTasks(){this.tasksLoading=!0;const e=await this.$api.getBranchTasks(this.id);this.tasksLoading=!1,e.ok_?(this.tasks=e.tasks,this.tasks.forEach((e=>{e.confirmed=!0})),this.prevTasks=zs(this.tasks)):this.$popups.error("Ошибка","Не удалось получить задания ветки")},async saveBranch(){await this.saveBranchInfo(),await this.saveTasks(),window.onbeforeunload=null,this.edited=!1},async saveBranchInfo(){this.$refs.form.loading=!0;const e=await this.$api.updateBranchInfo(this.id,this.title,this.description,this.ispublished);if(this.$refs.form.loading=!1,e.ok_)return this.$popups.success("Сохранено","Информация сохранена"),void this.$refs.form.showSuccess();this.$refs.form.showError(),this.$popups.error("Ошибка","Не удалось сохранить информацию о квесте")},async saveTasks(){this.tasksLoading=!0;const e=[],t=[];for(let n=0;n<this.tasks.length;n+=1){const i=this.tasks[n],r=this.prevTasks[n];if(i.confirmed){if((i.title!==r?.title||i.id!==r?.id||i.orderid!==r?.orderid)&&!(await this.$api.updateTaskOrderId(i.id,i.title,n)).ok_)return this.$popups.error("Ошибка","Не удалось изменить название задания (или поменять местами)"),void this.$refs.form.showError()}else e.push({title:i.title,description:"",question:"",answers:[]}),t.push(i)}const n=await this.$api.createTasksMany(this.id,e);if(this.tasksLoading=!1,!n.ok_)return this.$popups.error("Ошибка","Не удалось создать задания(е)"),void this.$refs.form.showError();t.forEach(((e,t)=>{const i=n.tasks[t];e.confirmed=!0,e.id=i.id,e.orderid=i.orderid,e.description=i.description})),this.prevTasks=zs(this.tasks)},async deleteBranch(){if(!await this.$modal.confirm("Точно удаляем ветку?",'Все задания в ней будут удалены. Может стоит просто снять флажок "опубликована"?'))return;this.$refs.form.loading=!0;const e=await this.$api.deleteBranch(this.id);this.$refs.form.loading=!1,e.ok_?(this.$popups.success("Удалено","Ветка удалено"),window.onbeforeunload=null,this.$router.push(`/quest/edit?id=${this.questId}`)):this.$popups.error("Ошибка","Не удалось удалить ветку")},onChange(){this.edited=!0}},watch:{edited:(e,t)=>{window.onbeforeunload=!0!==e?null:()=>!0}}};r(5363);const ef=(0,Ls.Z)(Jh,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("FloatingInput"),l=Yn("AddableList"),c=Yn("Form"),d=Yn("CircleLoading"),u=Yn("FloatingButton");return Ui(),Gi("div",{onInput:t[6]||(t[6]=(...e)=>s.onChange&&s.onChange(...e))},[tr(a,{bg:"",clickable:"",arrows:"",buttons:[{name:"Назад",description:`К квесту: <b>${r.questTitle}</b>`,to:`/quest/edit?id=${r.questId}`}]},null,8,["buttons"]),tr(c,{class:"form-fullwidth",ref:"form"},{default:ln((()=>[Nh,er("div",Qh,[tr(o,{modelValue:r.title,"onUpdate:modelValue":t[0]||(t[0]=e=>r.title=e),title:"Название"},null,8,["modelValue"]),er("div",null,[Hh,Zn(er("textarea",{class:"text scrollable",rows:"5","onUpdate:modelValue":t[1]||(t[1]=e=>r.description=e)},null,512),[[ss,r.description]])]),tr(l,{title:"Задания",description:"","add-text":"Добавить задание","action-text":"Перейти",modelValue:r.tasks,"onUpdate:modelValue":t[2]||(t[2]=e=>r.tasks=e),"can-delete":!1,placeholder:"Название задания","action-to":e=>`/quest/branch/task/edit?id=${e}`,onInput:s.onChange},null,8,["modelValue","action-to","onInput"]),tr(o,{type:"checkbox",title:"Опубликована",modelValue:r.ispublished,"onUpdate:modelValue":t[3]||(t[3]=e=>r.ispublished=e)},{default:ln((()=>[Gh,Zh,Wh])),_:1},8,["modelValue"])]),er("div",Kh,[er("input",{type:"submit",value:"Сохранить",onClick:t[4]||(t[4]=(...e)=>s.saveBranch&&s.saveBranch(...e))})]),er("div",Yh,[er("input",{type:"submit",value:"Удалить ветку",onClick:t[5]||(t[5]=(...e)=>s.deleteBranch&&s.deleteBranch(...e))})])])),_:1},512),r.edited?(Ui(),Zi(u,{key:0,title:"Сохранить",green:"",onClick:s.saveBranch},{default:ln((()=>[r.loading?(Ui(),Zi(d,{key:0})):(Ui(),Gi("img",Xh))])),_:1},8,["onClick"])):ar("v-if",!0)],32)}],["__scopeId","data-v-33acbb0e"]]),tf=e=>(an("data-v-784082bb"),e=e(),on(),e),nf=tf((()=>er("div",{class:"info-container"},[er("div",{class:"text-big-xx"},"Изменить задание")],-1))),rf={class:"fields-container"},sf=tf((()=>er("label",{class:"text-big"},"Описание",-1))),af=tf((()=>er("div",{class:"info text-small"},"Можно использовать Markdown-оформление, вставлять ссылки и загружать фото",-1))),of=tf((()=>er("label",{class:"text-big"},"Превью",-1))),lf=rr("Последнее задание в ветке выводится игроку c заголовком и описанием, но БЕЗ ВОПРОСА - это страница с поздравлением "),cf=rr("Ответом можно сделать "),df=tf((()=>er("b",null,"ЛЮБОЙ",-1))),uf=rr(" QR-код вместо текстового ответа. Даже уже существующий и не твой "),pf={class:"roll-active closed",ref:"qrFields"},hf=tf((()=>er("label",{class:"text-big"},[rr("Правильный ответ "),er("span",{id:"qr-answer-error"})],-1))),ff=tf((()=>er("div",{class:"info text-small"},[rr(" Чтобы сделать ответом ЛЮБОЙ существующий QR, Просто отсканируй его ниже. "),er("br"),rr(" Либо, если такого QR ещё нет - можно сгенерировать новый QR ниже. "),er("br"),rr(" Игроку для прохождения этапа нужно будет отсканировать его через сканер внутри сайта на странице с вопросом ")],-1))),gf={class:"flex-string"},mf={class:"submit-container"},vf=tf((()=>er("img",{src:du,alt:"save"},null,-1)));class bf{constructor(e,t,n,i,r){this._legacyCanvasSize=bf.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&"object"==typeof n?this._onDecode=t:(n||i||r?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t="object"==typeof n?n:{},this._onDecodeError=t.onDecodeError||("function"==typeof n?n:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||("function"==typeof i?i:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||r||this._preferredCamera,this._legacyCanvasSize="number"==typeof n?n:"number"==typeof i?i:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let s=!1;if(e.hidden&&(e.hidden=!1,s=!0),document.body.contains(e)||(document.body.appendChild(e),s=!0),n=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(i=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),(r=this.$overlay.style).position="absolute",r.display="none",r.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(e){}n.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame((()=>{let t=window.getComputedStyle(e);"none"===t.display&&(e.style.setProperty("display","block","important"),s=!0),"visible"!==t.visibility&&(e.style.setProperty("visibility","visible","important"),s=!0),s&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()})),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=bf.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await bf.listCameras(!1)).length}catch(e){return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t,n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind));try{e&&(await n()).every((e=>!e.label))&&(t=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(e){}try{return(await n()).map(((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":`Camera ${t+1}`)})))}finally{t&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),bf._stopVideoStream(t))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),bf._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),bf._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?bf._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch((()=>{}))))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(bf._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise((e=>setTimeout(e,300))),!!this._paused&&(t(),!0))}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,n,i,r=!1,s=!1){let a,o=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(a=t.scanRegion,n=t.qrEngine,i=t.canvas,r=t.disallowCanvasResizing||!1,s=t.alsoTryWithoutScanRegion||!1,o=!0):t||n||i||r||s?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!n;try{let l,c,d;if([n,l]=await Promise.all([n||bf.createQrEngine(),bf._loadImage(e)]),[i,c]=bf._drawToCanvas(l,a,i,r),n instanceof Worker){let e=n;t||bf._postWorkerMessageSync(e,"inversionMode","both"),d=await new Promise(((t,n)=>{let r,s,o,l=-1;s=i=>{i.data.id===l&&(e.removeEventListener("message",s),e.removeEventListener("error",o),clearTimeout(r),null!==i.data.data?t({data:i.data.data,cornerPoints:bf._convertPoints(i.data.cornerPoints,a)}):n(bf.NO_QR_CODE_FOUND))},o=t=>{e.removeEventListener("message",s),e.removeEventListener("error",o),clearTimeout(r),n("Scanner error: "+(t?t.message||t:"Unknown Error"))},e.addEventListener("message",s),e.addEventListener("error",o),r=setTimeout((()=>o("timeout")),1e4);let d=c.getImageData(0,0,i.width,i.height);l=bf._postWorkerMessageSync(e,"decode",d,[d.data.buffer])}))}else d=await Promise.race([new Promise(((e,t)=>window.setTimeout((()=>t("Scanner error: timeout")),1e4))),(async()=>{try{var[t]=await n.detect(i);if(!t)throw bf.NO_QR_CODE_FOUND;return{data:t.rawValue,cornerPoints:bf._convertPoints(t.cornerPoints,a)}}catch(n){if(t=n.message||n,/not implemented|service unavailable/.test(t))return bf._disableBarcodeDetector=!0,bf.scanImage(e,{scanRegion:a,canvas:i,disallowCanvasResizing:r,alsoTryWithoutScanRegion:s});throw`Scanner error: ${t}`}})()]);return o?d:d.data}catch(t){if(!a||!s)throw t;let l=await bf.scanImage(e,{qrEngine:n,canvas:i,disallowCanvasResizing:r});return o?l:l.data}finally{t||bf._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,t,n,i=!0){bf._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:n,useIntegerApproximation:i})}setInversionMode(e){bf._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){return e&&console.warn("Specifying a worker path is not required and not supported anymore."),!bf._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):r.e(126).then(r.bind(r,1126)).then((e=>e.createWorker()))}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame((()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,n=e.videoHeight,i=e.offsetWidth,r=e.offsetHeight,s=e.offsetLeft,a=e.offsetTop,o=window.getComputedStyle(e),l=o.objectFit,c=t/n,d=i/r;switch(l){case"none":var u=t,p=n;break;case"fill":u=i,p=r;break;default:("cover"===l?c>d:c<d)?u=(p=r)*c:p=(u=i)/c,"scale-down"===l&&(u=Math.min(u,t),p=Math.min(p,n))}var[h,f]=o.objectPosition.split(" ").map(((e,t)=>{const n=parseFloat(e);return e.endsWith("%")?(t?r-p:i-u)*n/100:n}));o=this._scanRegion.width||t,d=this._scanRegion.height||n,l=this._scanRegion.x||0;var g=this._scanRegion.y||0;(c=this.$overlay.style).width=o/t*u+"px",c.height=d/n*p+"px",c.top=`${a+f+g/n*p}px`,n=/scaleX\(-1\)/.test(e.style.transform),c.left=`${s+(n?i-h-u:h)+(n?t-l-o:l)/t*u}px`,c.transform=e.style.transform}}))}static _convertPoints(e,t){if(!t)return e;let n=t.x||0,i=t.y||0,r=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let s of e)s.x=s.x*r+n,s.y=s.y*t+i;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise((n=>setTimeout(n,t-e))),this._lastScanTimestamp=Date.now();try{var n=await bf.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(e){if(!this._active)return;this._onDecodeError(e)}!bf._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=bf.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map((({x:e,y:t})=>`${e},${t}`)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout((()=>this.$codeOutlineHighlight.style.display="none"),100))}this._scanFrame()}))}_onDecodeError(e){e!==bf.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],n=t.map((t=>Object.assign({},t,{[e]:{exact:this._preferredCamera}})));for(let e of[...n,...t])try{let t=await navigator.mediaDevices.getUserMedia({video:e,audio:!1});return{stream:t,facingMode:this._getFacingMode(t)||(e.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")}}catch(e){}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,n,i=!1){n=n||document.createElement("canvas");let r=t&&t.x?t.x:0,s=t&&t.y?t.y:0,a=t&&t.width?t.width:e.videoWidth||e.width,o=t&&t.height?t.height:e.videoHeight||e.height;return i||(i=t&&t.downScaledWidth?t.downScaledWidth:a,t=t&&t.downScaledHeight?t.downScaledHeight:o,n.width!==i&&(n.width=i),n.height!==t&&(n.height=t)),(t=n.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,r,s,a,o,0,0,n.width,n.height),[n,t]}static async _loadImage(e){if(e instanceof Image)return await bf._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(!(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e))throw"Unsupported image type.";{let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await bf._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}}static async _awaitImageLoad(e){e.complete&&0!==e.naturalWidth||await new Promise(((t,n)=>{let i=r=>{e.removeEventListener("load",i),e.removeEventListener("error",i),r instanceof ErrorEvent?n("Image load error"):t()};e.addEventListener("load",i),e.addEventListener("error",i)}))}static async _postWorkerMessage(e,t,n,i){return bf._postWorkerMessageSync(await e,t,n,i)}static _postWorkerMessageSync(e,t,n,i){if(!(e instanceof Worker))return-1;let r=bf._workerMessageId++;return e.postMessage({id:r,type:t,data:n},i),r}}bf.DEFAULT_CANVAS_SIZE=400,bf.NO_QR_CODE_FOUND="No QR code found",bf._disableBarcodeDetector=!1,bf._workerMessageId=0;const xf=bf,yf={emits:["scan"],props:{closed:{type:Boolean,default:!1}},data:()=>({text:null,active:!1,_scanner:null}),mounted(){this._scanner=new xf(this.$refs.video,(e=>{this.$emit("scan",e.data)}),{highlightScanRegion:!0})},unmounted(){this._scanner.destroy()},methods:{start(){this.active||(this._scanner.start().then((()=>{}),(e=>{this.$modal.alert("Не предоставлены права доступа к камере","Настройте доступ к камере для этого сайта в браузере")})),this.active=!0)},stop(){this._scanner.stop(),this.active=!1},show(){Uc(this.$refs.video)},hide(){Dc(this.$refs.video)}}};r(1185);const wf=(0,Ls.Z)(yf,[["render",function(e,t,n,i,r,s){return Ui(),Gi("div",null,[er("video",{class:c(["roll-active",{closed:n.closed}]),ref:"video"},null,2)])}],["__scopeId","data-v-3d382764"]]),kf={components:{FloatingButton:eu,QRGenerator:Bp,QRScanner:wf,MarkdownRenderer:Ih,MarkdownRedactor:Up,AddableList:sp,FloatingInput:qs,Form:ec,CircleLoading:Qs,TopButtons:Zc},data(){return{id:this.$route.query.id,loading:!1,answersLoading:!1,title:"",description:"",question:"",answers:[],isQrAnswer:!1,qrAnswer:"",branchTitle:"",branchId:"",edited:!1}},async mounted(){if(void 0===this.id)return this.$popups.error("Ошибка","id задания не задано"),void this.$router.push("/quests/my");await this.getTaskInfo(),this.$refs.renderer.update(this.description),this.$refs.qrGenerator?.regenerate(this.qrAnswer),this.changeIsQrAnswer()},methods:{changePreview(e){this.$refs.renderer.update(e)},async getTaskInfo(){this.loading=!0;const e=await this.$api.getTaskInfo(this.id);this.loading=!1,e.ok_?(this.title=e.title,this.description=e.description,this.ispublished=e.ispublished,this.branchId=e.branchid,this.branchTitle=e.btitle,this.question=e.question,this.isQrAnswer=e.isqranswer,this.answers=e.answers.map((e=>({title:e}))),this.isQrAnswer&&(this.qrAnswer=e.answers[0])):this.$popups.error("Ошибка","Не удалось получить информацио о задании")},async saveTask(){await this.saveTaskInfo(),window.onbeforeunload=null,this.edited=!1},async saveTaskInfo(){this.isQrAnswer&&(this.answers=[{title:this.qrAnswer}]);const e=this.answers.map((e=>e.title));this.$refs.form.loading=!0;const t=await this.$api.updateTaskInfo(this.id,this.title,this.description,this.question,e,this.isQrAnswer);if(this.$refs.form.loading=!1,t.ok_)return this.$popups.success("Сохранено","Информация сохранена"),void this.$refs.form.showSuccess();this.$refs.form.showError(),this.$popups.error("Ошибка","Не удалось сохранить информацию о задании")},async deleteTask(){if(!await this.$modal.confirm("Точно удаляем задание?","Ты уверен?"))return;this.$refs.form.loading=!0;const e=await this.$api.deleteTask(this.id);this.$refs.form.loading=!1,e.ok_?(this.$popups.success("Удалено","Задание удалено"),window.onbeforeunload=null,this.$router.push(`/quest/branch/edit?id=${this.branchId}`)):this.$popups.error("Ошибка","Не удалось удалить задание")},onChange(){this.edited=!0},changeIsQrAnswer(){if(this.isQrAnswer)return Uc(this.$refs.qrFields),void Dc(this.$refs.answers.$el);Dc(this.$refs.qrFields),Uc(this.$refs.answers.$el)},scanQr(){this.$refs.qrScanner.start(),jc(this.$refs.qrScanner.$el)&&(Uc(this.$refs.qrScanner.$el),Dc(this.$refs.qrGenerator.$el))},genQr(e){jc(this.$refs.qrGenerator.$el)&&(Uc(this.$refs.qrGenerator.$el),Dc(this.$refs.qrScanner.$el)),this.$refs.qrScanner.stop(),e?this.$popups.success("QR отсканирован",e):e=`${this.$url}/qr/${function(e){const t=new Uint8Array(4);return window.crypto.getRandomValues(t),Array.from(t,(e=>e.toString(16).padStart(2,"0"))).join("")}()}`,this.qrAnswer=e,this.$refs.qrGenerator.regenerate(e)}},watch:{edited:(e,t)=>{window.onbeforeunload=!0!==e?null:()=>!0}}};r(2170);const _f=(0,Ls.Z)(kf,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("FloatingInput"),l=Yn("MarkdownRedactor"),c=Yn("MarkdownRenderer"),d=Yn("AddableList"),u=Yn("QRScanner"),p=Yn("QRGenerator"),h=Yn("Form"),f=Yn("FloatingButton");return Ui(),Gi("div",{onInput:t[9]||(t[9]=(...e)=>s.onChange&&s.onChange(...e))},[tr(a,{bg:"",clickable:"",arrows:"",buttons:[{name:"Назад",description:`К ветке: <b>${r.branchTitle}</b>`,to:`/quest/branch/edit?id=${r.branchId}`}]},null,8,["buttons"]),tr(h,{class:"form-fullwidth",ref:"form"},{default:ln((()=>[nf,er("div",rf,[tr(o,{modelValue:r.title,"onUpdate:modelValue":t[0]||(t[0]=e=>r.title=e),title:"Название"},null,8,["modelValue"]),er("div",null,[sf,af,tr(l,{ref:"redactor",onChange:s.changePreview,modelValue:r.description,"onUpdate:modelValue":t[1]||(t[1]=e=>r.description=e)},null,8,["onChange","modelValue"]),of,tr(c,{ref:"renderer"},null,512)]),tr(o,{title:"Вопрос",modelValue:r.question,"onUpdate:modelValue":t[2]||(t[2]=e=>r.question=e)},{default:ln((()=>[lf])),_:1},8,["modelValue"]),tr(o,{type:"checkbox",title:"QR-ответ",modelValue:r.isQrAnswer,"onUpdate:modelValue":t[3]||(t[3]=e=>r.isQrAnswer=e),onChange:s.changeIsQrAnswer},{default:ln((()=>[cf,df,uf])),_:1},8,["modelValue","onChange"]),er("div",null,[tr(d,{title:"Правильные ответы",description:"РегИсТр ответов не играет роли. Все ответы игроков перед проверкой переводятся в нижний регистр <br>\r\n                                    Чтобы любой ответ, введенный игроком, считался правильным, добавьте ответ '*'","add-text":"Добавить ответ",modelValue:r.answers,"onUpdate:modelValue":t[4]||(t[4]=e=>r.answers=e),"can-delete":"",placeholder:"ответ",class:"roll-active",ref:"answers",onInput:s.onChange},null,8,["modelValue","onInput"]),er("div",pf,[hf,ff,tr(u,{ref:"qrScanner",class:"roll-active closed",onScan:s.genQr},null,8,["onScan"]),tr(p,{ref:"qrGenerator",class:"roll-active qr-gen"},null,512),er("div",gf,[er("input",{type:"button",value:"Сканировать QR",onClick:t[5]||(t[5]=e=>s.scanQr())}),er("input",{type:"button",value:"Создать QR",onClick:t[6]||(t[6]=e=>s.genQr())})])],512)])]),er("div",mf,[er("input",{type:"submit",value:"Сохранить",class:"save-button",onClick:t[7]||(t[7]=(...e)=>s.saveTask&&s.saveTask(...e))}),er("input",{type:"submit",value:"Удалить задание",onClick:t[8]||(t[8]=(...e)=>s.deleteTask&&s.deleteTask(...e))})])])),_:1},512),r.edited?(Ui(),Zi(f,{key:0,title:"Сохранить",green:"",onClick:s.saveTask},{default:ln((()=>[vf])),_:1},8,["onClick"])):ar("v-if",!0)],32)}],["__scopeId","data-v-784082bb"]]),$f=e=>(an("data-v-33b14396"),e=e(),on(),e),Cf={class:"quest-preview"},Sf=["src"],Ef={key:2,class:"preview-image default text-big-xx"},Af={class:"container"},Tf={class:"main-info"},If={class:"text-big-x title"},Lf={key:0,src:xd,alt:"with link",class:"quest-modifier"},qf={key:1,src:yd,alt:"unpublished",class:"quest-modifier"},Of={class:"statistics text-big-xx"},Rf=$f((()=>er("img",{src:wd,alt:"star"},null,-1))),Mf={class:"time"},Bf=$f((()=>er("img",{src:kd,alt:"time"},null,-1))),Pf={class:"text-small played"},zf={class:"text-small author"},Vf=$f((()=>er("div",{class:"text-small"},"Описание: ",-1))),Ff={components:{MarkdownRenderer:Ih,CircleLoading:Qs,TopButtons:Zc,ArrowListElement:Qd},data(){return{branches:[],id:this.$route.query.id,uid:this.$route.query.uid,loading:!1,branchesLoading:!1,title:"",description:"",previewUrl:"",author:"",authorName:"",islinkactive:!1,ispublished:!1,rating:"-",time:"-",played:0}},async mounted(){if(void 0===this.id&&void 0===this.uid)return this.$popups.error("Квест не найден","Не указаны id или uid квеста"),void this.$router.push("/quests");await this.getQuestInfo(),this.$refs.renderer.update(this.description),this.getBranches()},methods:{async getQuestInfo(){let e;if(this.loading=!0,void 0!==this.id?e=await this.$api.getQuestInfo(this.id):void 0!==this.uid&&(e=await this.$api.getQuestInfoByUid(this.uid)),this.loading=!1,!e.ok_)return 404===e.status_?(this.$popups.error("Ошибка","Квест не найден"),void this.$router.push("/quests")):403===e.status_?(this.$popups.error("Ошибка","Доступ к квесту запрещён"),void this.$router.push("/quests")):void this.$popups.error("Ошибка","Не удалось получить информацио о квесте");this.id=e.id,this.title=e.title,this.description=e.description,this.ispublished=e.ispublished,this.islinkactive=e.islinkactive,this.author=e.author,this.authorName=e.authorname,this.previewUrl=e.previewurl,this.time=e.time,this.rating=e.rating,this.loading=!0;const t=await this.$api.getQuestStatistics(this.id);this.loading=!1,t.ok_&&(this.played=t.played,this.rating=t.rating.toFixed(1),this.time=Fs(t.time))},async getBranches(){this.branchesLoading=!0;const e=await this.$api.getQuestBranches(this.id);this.branchesLoading=!1,e.ok_?(this.branches=e.branches,this.branches.forEach((e=>{e.actionText="играть",e.arrow=!0,e.noClose=!0}))):this.$popups.error("Ошибка","Не удалось получить ветки квесте")},async selectBranch(e){if(!await this.$modal.confirm("Выбираем ветку?",e.title))return;this.loading=!0;const t=await this.$api.chooseBranch(this.id,e.id);return this.loading=!1,t.ok_?(this.$store.dispatch("GET_USER"),void this.$router.push("/play")):401===t.status_?(this.$popups.alert("Не авторизован","Чтобы поиграть, сперва надо потрудиться - войти в аккаунт"),void this.$router.push("/signin")):void this.$popups.error("Ошибка","Не удалось выбрать ветку")}}};r(7084);const jf=(0,Ls.Z)(Ff,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("CircleLoading"),l=Yn("MarkdownRenderer"),d=Yn("ArrowListElement");return Ui(),Gi("div",null,[tr(a,{clickable:"",arrows:"","low-opacity":"",buttons:[{name:"Назад",description:"К списку квестов",to:e.$router.options.history.state.back?e.$router.options.history.state.back:"/quests"}]},null,8,["buttons"]),er("div",Cf,[r.loading?(Ui(),Zi(o,{key:0,class:"preview-image"})):ar("v-if",!0),r.previewUrl?(Ui(),Gi("img",{key:1,class:"preview-image",src:r.previewUrl,alt:"preview"},null,8,Sf)):(Ui(),Gi("div",Ef,"SQ")),er("div",Af,[er("div",Tf,[er("div",If,[rr(u(r.title)+" ",1),r.islinkactive?(Ui(),Gi("img",Lf)):ar("v-if",!0),r.ispublished?ar("v-if",!0):(Ui(),Gi("img",qf))]),er("div",Of,[er("span",{class:c(["rating",{good:r.rating>=4.5,bad:r.rating<3.5}])},[Rf,rr(u(r.rating),1)],2),er("span",Mf,[Bf,rr(u(r.time),1)])]),er("div",Pf,"Прошли: "+u(r.played),1),er("div",zf,"Автор: "+u(r.authorName),1),Vf,tr(l,{class:"description",ref:"renderer"},null,512)])])]),r.branchesLoading?(Ui(),Zi(o,{key:0})):ar("v-if",!0),tr(d,{class:"branches",ref:"branches",title:"Ветки",closed:"","open-on-set-elements":"",elements:r.branches,onClickInside:s.selectBranch},null,8,["elements","onClickInside"])])}],["__scopeId","data-v-33b14396"]]),Df=e=>(an("data-v-3bb8cb8b"),e=e(),on(),e),Uf={class:"flex-root"},Nf={key:1,class:"text-big-xx congratulations"},Qf=Df((()=>er("div",null,"Вы прошли ветку!",-1))),Hf={class:"stats"},Gf={class:"text-middle stats-container"},Zf=Df((()=>er("img",{src:kd,alt:"time"},null,-1))),Wf=rr(" Пройдено за: "),Kf=Df((()=>er("div",null,"Оценка:",-1))),Yf={key:3,class:"qr-form"},Xf={key:0,class:"text-middle"},Jf=Df((()=>er("div",{class:"text-small-x"}," Как только ты отсканируешь правильный QR-код, ты пройдёшь это задание ",-1))),eg=["value"],tg={components:{MarkdownRenderer:Ih,TopButtons:Zc,QRScanner:wf,FloatingInput:qs,Footer:dd,CircleLoading:Qs,Form:nc},data:()=>({questTitle:"",branchTitle:"",taskTitle:"",taskDescription:"",taskQuestion:"",answer:"",answerLink:"",qrScanButtonText:"Сканировать",isEnd:!1,isQrAnswer:!1,loading:!1,statsLoading:!1,timeSpent:0,ratingVote:0}),mounted(){this.update()},methods:{async update(){this.loading=!0;const e=await this.$api.getPlay();if(this.loading=!1,e.ok_){if(this.questTitle=e.questtitle,this.branchTitle=e.branchtitle,this.$user.progress=e.progress,this.taskTitle=e.title,this.taskDescription=e.description,this.$refs.markdown.update(e.description),this.taskQuestion=e.question,this.isQrAnswer=e.isqranswer,this.isEnd=void 0===e.question,!this.isEnd)return;this.statsLoading=!0;const t=await this.$api.getProgressStats(this.$user.chosenbranchid);return this.statsLoading=!1,t.ok_?(this.timeSpent=Fs(t.time),void(this.ratingVote=t.rating)):void this.$popups.error("Ошибка","Не удалось получить статистику прохождения")}400!==e.status_?this.$popups.error(`Ошибка ${e.status_}!`,e.info):this.$router.push("/quests")},async checkQrAnswer(e){if(e===this.answerLink)return;this.answerLink=e,this.loading=!0;const t=await this.checkAnswer({answer:this.answerLink});this.loading=!1,t?this.$popups.success("Правильно","QR отсканирован"):this.$popups.error("Неверно","QR не тот")},async checkAnswer(e){this.answer=e.answer.trim(),this.$refs.form&&(this.$refs.form.loading=!0);const t=await this.$api.checkAnswer(this.answer);return this.$refs.form&&(this.$refs.form.loading=!1),t.ok_?(this.$popups.success("Правильно"),e.answer="",await this.update(),!0):418===t.status_&&this.$refs.form?(this.$refs.form.info="Ответ неверный",this.$refs.form.showError(),!1):(this.$popups.error(`Ошибка ${t.status}!`,t.info),!1)},async restart(e){if(0===e.idx&&await this.$modal.confirm("Точно начинаем заново?","Рейтинг останется")){this.loading=!0;const e=await this.$api.restartBranch(this.$user.chosenbranchid);if(this.loading=!1,!e.ok_)return void this.$popups.error("Ошибка","Не удалось начать заново");await this.update()}},clickOnScanButton(){if(!this.$refs.qrScanner.active)return this.$refs.qrScanner.start(),this.$refs.qrScanner.show(),void(this.qrScanButtonText="Выключить сканер");this.$refs.qrScanner.stop(),this.$refs.qrScanner.hide(),this.qrScanButtonText="Сканировать дальше"},async sendVote(){this.statsLoading=!0;const e=await this.$api.voteBranchRating(this.$user.chosenbranchid,this.ratingVote);this.statsLoading=!1,e.ok_?this.$popups.success("Спасибо!","Вас голос очень важен для нас"):this.$popups.error("Ошибка","Не получилось сохранить голос")}}};r(9462);const ng=(0,Ls.Z)(tg,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("CircleLoading"),l=Yn("MarkdownRenderer"),d=Yn("Form"),p=Yn("QRScanner"),h=Yn("Footer");return Ui(),Gi("div",Uf,[tr(a,{class:"top-buttons",bg:"",buttons:[{name:r.taskTitle,description:`Квест: ${r.questTitle} <br> Ветка: ${r.branchTitle}`}]},null,8,["buttons"]),r.loading?(Ui(),Zi(o,{key:0})):ar("v-if",!0),tr(l,{ref:"markdown",class:"description text-middle app-flex-filler"},null,512),r.isEnd?(Ui(),Gi("div",Nf,[r.statsLoading?(Ui(),Zi(o,{key:0,class:"preview-image"})):ar("v-if",!0),Qf,er("div",Hf,[er("div",Gf,[Zf,Wf,er("b",null,u(r.timeSpent),1)]),er("div",null,[Kf,er("div",{class:"stats-container stars",onClick:t[5]||(t[5]=(...e)=>s.sendVote&&s.sendVote(...e))},[er("img",{src:wd,alt:"5",class:c({checked:this.ratingVote>=5}),onClick:t[0]||(t[0]=e=>this.ratingVote=5)},null,2),er("img",{src:wd,alt:"4",class:c({checked:this.ratingVote>=4}),onClick:t[1]||(t[1]=e=>this.ratingVote=4)},null,2),er("img",{src:wd,alt:"3",class:c({checked:this.ratingVote>=3}),onClick:t[2]||(t[2]=e=>this.ratingVote=3)},null,2),er("img",{src:wd,alt:"2",class:c({checked:this.ratingVote>=2}),onClick:t[3]||(t[3]=e=>this.ratingVote=2)},null,2),er("img",{src:wd,alt:"1",class:c({checked:this.ratingVote>=1}),onClick:t[4]||(t[4]=e=>this.ratingVote=1)},null,2)])])]),tr(a,{onClick:s.restart,class:"buttons",bg:"",clickable:"",arrows:"",big:"",buttons:[{name:"Начать заново",description:"Прогресс сохранится"},{name:"Завершить квест",to:"/quests"}]},null,8,["onClick"])])):r.isQrAnswer?(Ui(),Gi("div",Yf,[r.answerLink?(Ui(),Gi("div",Xf,"Отсканировано: "+u(r.answerLink),1)):ar("v-if",!0),tr(p,{closed:"",ref:"qrScanner",onScan:s.checkQrAnswer},null,8,["onScan"]),Jf,er("input",{type:"button",value:r.qrScanButtonText,onClick:t[6]||(t[6]=(...e)=>s.clickOnScanButton&&s.clickOnScanButton(...e))},null,8,eg)])):(Ui(),Zi(d,{key:2,ref:"form",class:"form",title:r.taskQuestion,fields:[{title:"ОТВЕТ",info:"РеГиСтР не важен",jsonName:"answer"}],"submit-text":"Ответить",onSubmit:s.checkAnswer,"small-title":""},null,8,["title","onSubmit"])),tr(h)])}],["__scopeId","data-v-3bb8cb8b"]]),ig={class:"container"},rg={components:{CircleLoading:Qs,TopButtons:Zc,ArrowListElement:Qd},data:()=>({loading:!1,ratings:[]}),async mounted(){this.getRatings()},methods:{async getRatings(){this.loading=!0;const e=await this.$api.getRatings();this.loading=!1,e.ok_?this.ratings=e.ratings.map((e=>({id:e.id,title:e.username,description:e.rating,actionText:"в профиль",arrow:!0,noClose:!0}))):this.$popups.error("Ошибка","Не удалось получить рейтинги")},goToProfile(e){this.$router.push(`/profile?id=${e.id}`)}}};r(6985);const sg=(0,Ls.Z)(rg,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("ArrowListElement"),l=Yn("CircleLoading");return Ui(),Gi("div",null,[tr(a,{clickable:"",arrows:"","low-opacity":"",buttons:[{name:"Назад",description:"В профиль",to:"/profile"}]}),er("div",ig,[tr(o,{class:"ratings",ref:"ratings",title:"Рейтинг",closed:"","open-on-set-elements":"",elements:r.ratings,onClickInside:s.goToProfile},null,8,["elements","onClickInside"])]),r.loading?(Ui(),Zi(l,{key:0,class:"preview-image"})):ar("v-if",!0)])}],["__scopeId","data-v-0c30c2ac"]]),ag=e=>(an("data-v-c491216a"),e=e(),on(),e),og=ag((()=>er("div",{class:"info-container"},[er("div",{class:"text-big-xx"},"Админская страничка")],-1))),lg={class:"fields-container"},cg={id:"sql-fields"},dg=ag((()=>er("label",{class:"text-big"},"Выполнить SQL",-1))),ug=ag((()=>er("div",{class:"text-small"},"Вот сейчас спокойно, дыши, без DROP, DELETE и TRUNCATE, пожалуйста",-1))),pg=ag((()=>er("label",{class:"text-big"},"Результат",-1))),hg=["value"],fg=ag((()=>er("input",{type:"submit",value:"Выполнить"},null,-1))),gg={components:{CircleLoading:Qs,TopButtons:Zc,Form:ec},data:()=>({sql:"",result:"",loading:!1}),mounted(){this.$user.isAdmin||(this.$popups.error("Ты не админ","Не влезай, убьёт"),this.$router.push("/profile"))},methods:{async execute(){console.log(this.result),console.log(this.sql),this.loading=!0;const e=await this.$api.executeAdminSql(this.sql);return this.loading=!1,console.log(e),e.ok_?(this.$popups.success(e.status_,e.info),this.$refs.form.showSuccess(),this.result="[",e.response.forEach((e=>{this.result+="\r\n\t{";for(const t in e)this.result+=`\r\n\t\t${t}: ${e[t]},`;this.result+="\r\n\t},"})),void(this.result+="\r\n]")):500===e.status_?(this.$popups.error(`Ошибка ${e.status_}!`,e.info,1e4),void this.$refs.form.showError()):void this.$popups.error(`Ошибка ${e.status_}!`,e.info,1e4)}}};r(6379);const mg=(0,Ls.Z)(gg,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("CircleLoading"),l=Yn("Form");return Ui(),Gi("div",null,[tr(a,{bg:"",clickable:"",arrows:"",buttons:[{name:"В профиль",description:"Когда устранил весь кринж",to:"/profile"}]}),tr(l,{class:"form-fullwidth",ref:"form",onSubmit:s.execute},{default:ln((()=>[og,r.loading?(Ui(),Zi(o,{key:0})):ar("v-if",!0),er("div",lg,[er("div",cg,[dg,ug,Zn(er("textarea",{rows:"8",class:"text-middle scrollable","onUpdate:modelValue":t[0]||(t[0]=e=>r.sql=e)},null,512),[[ss,r.sql]]),pg,er("textarea",{rows:"4",class:"text-middle scrollable",value:r.result,disabled:""},null,8,hg),fg])])])),_:1},8,["onSubmit"])])}],["__scopeId","data-v-c491216a"]]),vg=e=>(an("data-v-90eba14a"),e=e(),on(),e),bg=vg((()=>er("div",{class:"info-container"},[er("div",{class:"text-big-xx"},"Ты нашёл QR!")],-1))),xg=vg((()=>er("div",{class:"text-big"},"Но так низя(",-1))),yg=vg((()=>er("div",{class:"text-small"},[rr(" Кажется, этот QR является ответом на один из вопросов какого-то квеста. "),er("br"),rr(" Вот только чтобы он сработал, его нужно отсканировать не каким-то другим сканером, а сканером прямо со страницы с вопросом. "),er("br"),rr(" Что ж, удачи) А если ты нашёл этот QR случайно, то жми на кнопку выше - там всё расскажут ")],-1))),wg={components:{TopButtons:Zc,Form:ec}};r(682);const kg=(0,Ls.Z)(wg,[["render",function(e,t,n,i,r,s){const a=Yn("TopButtons"),o=Yn("Form");return Ui(),Gi("div",null,[tr(a,{bg:"",clickable:"",arrows:"",buttons:[{name:"На главную",description:"Не стесняйся, проходи",to:"/"}]}),tr(o,{class:"form-fullwidth",ref:"form"},{default:ln((()=>[bg,xg,yg])),_:1},512)])}],["__scopeId","data-v-90eba14a"]]);function _g(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}async function $g(e){let t={};try{t=JSON.parse(await e.text())||{}}catch{}return t.ok_=e.ok,t.status_=e.status,t}const Cg={install:(e,t)=>{e.config.globalProperties.$api=new Sg(t)}};class Sg extends class{apiUrl=void 0;constructor(e){this.apiUrl=e}request(e,t,n={}){return function(e,t,n={}){let i={};return!["GET","HEAD"].includes(e)&&n&&(i={headers:{"Content-Type":"application/json","X-CSRF-Token":_g("_csrf")},body:JSON.stringify(n)}),fetch(t,{method:e,mode:"cors",credentials:"include",...i})}(e,this.apiUrl+t,n)}async get(e,t={}){return await $g(await this.request("GET",e+function(e){let t=Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&");return t.length>0&&(t="?"+t),t}(t),{}))}async post(e,t={}){return await $g(await this.request("POST",e,t))}async put(e,t={}){return await $g(await this.request("PUT",e,t))}async delete(e,t={}){return await $g(await this.request("DELETE",e,t))}}{signIn=(e,t)=>this.post("/user/auth",{username:e,password:t});signOut=()=>this.delete("/user/session");getUser=()=>this.get("/user");getUserInfo=e=>this.get("/user",{id:e});signUp=(e,t,n,i)=>this.post("/user",{username:e,password:t,email:n,name:i});updateUser=(e,t,n)=>this.put("/user",{email:e,username:t,name:n});updateUserAvatarUrl=e=>this.put("/user",{avatarUrl:e});updatePassword=(e,t)=>this.put("/user/password",{oldPassword:e,newPassword:t});getPlay=()=>this.get("/task/play");getAllQuests=()=>this.get("/quest");getMyQuests=e=>this.get("/quest",{userId:e});getQuestInfo=e=>this.get("/quest",{questId:e});createQuest=(e,t,n)=>this.post("/quest",{title:e,description:t,isPublished:n});updateQuestInfo=(e,t,n,i,r)=>this.put("/quest",{id:e,title:t,description:n,isPublished:i,isLinkActive:r});updateQuestPreviewUrl=(e,t)=>this.put("/quest",{id:e,previewUrl:t});getQuestInfoByUid=e=>this.get("/quest",{questUid:e});getQuestStatistics=e=>this.get("/quest/stats",{questId:e});deleteQuest=e=>this.delete("/quest",{id:e});getQuestBranches=e=>this.get("/branch",{questId:e});updateBranchOrderId=(e,t,n)=>this.put("/branch",{id:e,title:t,orderId:n});updateBranchInfo=(e,t,n,i)=>this.put("/branch",{id:e,title:t,description:n,isPublished:i});createBranchesMany=(e,t=[{title:"",description:""}])=>this.post("/branch/many",{questId:e,branches:t});getBranchInfo=e=>this.get("/branch",{branchId:e});deleteBranch=e=>this.delete("/branch",{id:e});getProgressStats=e=>this.get("/quest/progress/stats",{branchId:e});voteBranchRating=(e,t)=>this.post("/quest/rating",{branchId:e,rating:t});checkAnswer=e=>this.post("/task/play",{answer:e});chooseBranch=(e,t)=>this.post("/quest/choose",{questId:e,branchId:t});restartBranch=e=>this.put("/branch/progress/reset",{branchId:e});getBranchTasks=e=>this.get("/task",{branchId:e});getTaskInfo=e=>this.get("/task",{taskId:e});updateTaskOrderId=(e,t,n)=>this.put("/task",{id:e,title:t,orderId:n});updateTaskInfo=(e,t,n,i,r,s)=>this.put("/task",{id:e,title:t,description:n,question:i,answers:r,isQrAnswer:s});deleteTask=e=>this.delete("/task",{id:e});createTasksMany=(e,t=[{title:"",description:"",question:"",answers:[]}])=>this.post("/task/many",{branchId:e,tasks:t});updateHelper=(e,t,n)=>this.put("/quest/helpers",{id:e,questId:t,name:n});createHelper=(e,t)=>this.post("/quest/helpers",{questId:e,name:t});deleteHelper=e=>this.delete("/quest/helpers",{id:e});getQuestHelpers=e=>this.get("/quest/helpers",{questId:e});uploadImage=e=>this.post("/image",{dataUrl:e});deleteImage=e=>this.delete("/image",{imageId:e});getRatings=()=>this.get("/ratings");executeAdminSql=e=>this.post("/admin/sql",{sql:e})}r(3829),r(6615),r(1713),r(2983);const Eg=((...e)=>{const t=(fs||(fs=Ri(hs))).createApp(...e),{mount:n}=t;return t.mount=e=>{const i=function(e){return A(e)?document.querySelector(e):e}(e);if(!i)return;const r=t._component;E(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t})(la).use(Cg,"/squest/api").use(function(e){const t=[{path:"/squest/",component:pd},{path:"/squest/signin",component:rc,meta:{noLoginRequired:!0}},{path:"/squest/signup",component:lc,meta:{noLoginRequired:!0}},{path:"/squest/profile",component:ed,meta:{loginRequired:!0}},{path:"/squest/play",component:ng},{path:"/squest/quests",component:nu},{path:"/squest/quests/my",component:lu,meta:{loginRequired:!0}},{path:"/squest/quest/create",component:Dh,meta:{loginRequired:!0}},{path:"/squest/quest",component:jf},{path:"/squest/quest/edit",component:qh,meta:{loginRequired:!0}},{path:"/squest/quest/branch/edit",component:ef,meta:{loginRequired:!0}},{path:"/squest/quest/branch/task/edit",component:_f,meta:{loginRequired:!0}},{path:"/squest/ratings",component:sg},{path:"/squest/admin",component:mg,meta:{loginRequired:!0}},{path:"/squest/qr/:data",component:kg},{path:"/squest/:catchAll(.*)",component:id}],n=Dl({history:Co(),routes:t});let i=!1;return n.beforeEach((async(t,n,r)=>{i||(await e.dispatch("GET_USER"),i=!0);const s={path:"/squest"+(a=t.fullPath,a.replace(new RegExp("^/squest","i"),"")),params:t.params,query:t.query};var a;function o(){!function(e){return new RegExp("^/squest","i").test(e)}(t.fullPath)?r(s):r()}return t.matched.some((e=>e.meta.loginRequired))?e.state.user.isLogined?void o():void r({path:"/squest/signin"}):t.matched.some((e=>e.meta.noLoginRequired))&&e.state.user.isLogined?void r({path:"/squest/profile"}):void o()})),n.beforeResolve((async e=>{if(window?.onbeforeunload){if(!confirm("Изменения не сохранены. Вы уверены, что хотите покинуть страницу?"))return!1;window.onbeforeunload=null}})),n}(to)).use(to).mount("#app");to.$app=Eg})()})();
