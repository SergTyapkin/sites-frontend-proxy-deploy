function e(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))}function t(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function n(e){return document.getElementById(e)}function r(e,t){return Array.from(e.children).forEach(t)}const o=[];function i(e,t,n=1500){o.forEach(((t,n)=>{e.forEach(((e,r)=>{e===t.element&&(clearTimeout(t.timeout),o.splice(n,1))}))})),e.forEach((e=>{e.classList.add(t),o.push({element:e,timeout:setTimeout((()=>e.classList.remove(t)),n)})}))}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c={exports:{}},u={exports:{}},d={},h={__esModule:!0};h.extend=v,h.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},h.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!m.test(e))return e;return e.replace(f,g)},h.isEmpty=function(e){return!e&&0!==e||!(!w(e)||0!==e.length)},h.createFrame=function(e){var t=v({},e);return t._parent=e,t},h.blockParams=function(e,t){return e.path=t,e},h.appendContextPath=function(e,t){return(e?e+".":"")+t};var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},f=/[&<>"'`=]/g,m=/[&<>"'`=]/;function g(e){return p[e]}function v(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var k=Object.prototype.toString;h.toString=k;var b=function(e){return"function"==typeof e};b(/x/)&&(h.isFunction=b=function(e){return"function"==typeof e&&"[object Function]"===k.call(e)}),h.isFunction=b;var w=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===k.call(e)};h.isArray=w;var B={exports:{}};!function(e,t){t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(e,t){var s=t&&t.loc,o=void 0,i=void 0,a=void 0,l=void 0;s&&(o=s.start.line,i=s.end.line,a=s.start.column,l=s.end.column,e+=" - "+o+":"+a);for(var c=Error.prototype.constructor.call(this,e),u=0;u<n.length;u++)this[n[u]]=c[n[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{s&&(this.lineNumber=o,this.endLineNumber=i,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(e){}}r.prototype=new Error,t.default=r,e.exports=t.default}(B,B.exports);var y={},C={exports:{}};!function(e,t){t.__esModule=!0;var n=h;t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,r){var s=r.inverse,o=r.fn;if(!0===t)return o(this);if(!1===t||null==t)return s(this);if(n.isArray(t))return t.length>0?(r.ids&&(r.ids=[r.name]),e.helpers.each(t,r)):s(this);if(r.data&&r.ids){var i=n.createFrame(r.data);i.contextPath=n.appendContextPath(r.data.contextPath,r.name),r={data:i}}return o(t,r)}))},e.exports=t.default}(C,C.exports);var x={exports:{}};!function(e,t){t.__esModule=!0;var n,r=h,s=(n=B.exports)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new s.default("Must pass iterator to #each");var n,o=t.fn,i=t.inverse,l=0,c="",u=void 0,d=void 0;function h(t,n,s){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!s,d&&(u.contextPath=d+t)),c+=o(e[t],{data:u,blockParams:r.blockParams([e[t],t],[d+t,null])})}if(t.data&&t.ids&&(d=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(u=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var p=e.length;l<p;l++)l in e&&h(l,l,l===e.length-1);else if(a.Symbol&&e[a.Symbol.iterator]){for(var f=[],m=e[a.Symbol.iterator](),g=m.next();!g.done;g=m.next())f.push(g.value);for(p=(e=f).length;l<p;l++)h(l,l,l===e.length-1)}else n=void 0,Object.keys(e).forEach((function(e){void 0!==n&&h(n,l-1),n=e,l++})),void 0!==n&&h(n,l-1,!0);return 0===l&&(c=i(this)),c}))},e.exports=t.default}(x,x.exports);var D={exports:{}};!function(e,t){t.__esModule=!0;var n,r=(n=B.exports)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default}(D,D.exports);var _={exports:{}};!function(e,t){t.__esModule=!0;var n,r=h,s=(n=B.exports)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default}(_,_.exports);var P,E,A={exports:{}};P=A,(E=A.exports).__esModule=!0,E.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var s=1;null!=n.hash.level?s=n.hash.level:n.data&&null!=n.data.level&&(s=n.data.level),t[0]=s,e.log.apply(e,t)}))},P.exports=E.default;var S={exports:{}};!function(e,t){t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default}(S,S.exports);var L={exports:{}};function F(e){return e&&e.__esModule?e:{default:e}}!function(e,t){t.__esModule=!0;var n,r=h,s=(n=B.exports)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&((o=r.createFrame(t.data)).contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:o,blockParams:r.blockParams([e],[o&&o.contextPath])})}))},e.exports=t.default}(L,L.exports),y.__esModule=!0,y.registerDefaultHelpers=function(e){M.default(e),I.default(e),q.default(e),O.default(e),T.default(e),R.default(e),$.default(e)},y.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var M=F(C.exports),I=F(x.exports),q=F(D.exports),O=F(_.exports),T=F(A.exports),R=F(S.exports),$=F(L.exports);var N={},H={exports:{}};!function(e,t){t.__esModule=!0;var n=h;t.default=function(e){e.registerDecorator("inline",(function(e,t,r,s){var o=e;return t.partials||(t.partials={},o=function(s,o){var i=r.partials;r.partials=n.extend({},i,t.partials);var a=e(s,o);return r.partials=i,a}),t.partials[s.args[0]]=s.fn,o}))},e.exports=t.default}(H,H.exports),N.__esModule=!0,N.registerDefaultDecorators=function(e){j.default(e)};var z,j=(z=H.exports)&&z.__esModule?z:{default:z};var U={exports:{}};!function(e,t){t.__esModule=!0;var n=h,r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,s=Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];console[t].apply(console,s)}}};t.default=r,e.exports=t.default}(U,U.exports);var V={},G={__esModule:!0,createNewLookupObject:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return W.extend.apply(void 0,[Object.create(null)].concat(t))}},W=h;V.__esModule=!0,V.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:Q.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:Q.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},V.resultIsAllowed=function(e,t,n){return Z("function"==typeof e?t.methods:t.properties,n)},V.resetLoggedProperties=function(){Object.keys(K).forEach((function(e){delete K[e]}))};var Q=G,X=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(U.exports),K=Object.create(null);function Z(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==K[e]&&(K[e]=!0,X.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}function J(e){return e&&e.__esModule?e:{default:e}}d.__esModule=!0,d.HandlebarsEnvironment=oe;var Y=h,ee=J(B.exports),te=y,ne=N,re=J(U.exports),se=V;d.VERSION="4.7.7";d.COMPILER_REVISION=8;d.LAST_COMPATIBLE_COMPILER_REVISION=7;d.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function oe(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},te.registerDefaultHelpers(this),ne.registerDefaultDecorators(this)}oe.prototype={constructor:oe,logger:re.default,log:re.default.log,registerHelper:function(e,t){if("[object Object]"===Y.toString.call(e)){if(t)throw new ee.default("Arg not supported with multiple helpers");Y.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===Y.toString.call(e))Y.extend(this.partials,e);else{if(void 0===t)throw new ee.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===Y.toString.call(e)){if(t)throw new ee.default("Arg not supported with multiple decorators");Y.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){se.resetLoggedProperties()}};var ie=re.default.log;d.log=ie,d.createFrame=Y.createFrame,d.logger=re.default;var ae={exports:{}};!function(e,t){function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default}(ae,ae.exports);var le={},ce={};ce.__esModule=!0,ce.wrapHelper=function(e,t){if("function"!=typeof e)return e;return function(){return arguments[arguments.length-1]=t(arguments[arguments.length-1]),e.apply(this,arguments)}},le.__esModule=!0,le.checkRevision=function(e){var t=e&&e[0]||1,n=he.COMPILER_REVISION;if(t>=he.LAST_COMPATIBLE_COMPILER_REVISION&&t<=he.COMPILER_REVISION)return;if(t<he.LAST_COMPATIBLE_COMPILER_REVISION){var r=he.REVISION_CHANGES[n],s=he.REVISION_CHANGES[t];throw new de.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+s+").")}throw new de.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},le.template=function(e,t){if(!t)throw new de.default("No environment passed to template");if(!e||!e.main)throw new de.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0];var r={strict:function(e,t,n){if(!e||!(t in e))throw new de.default('"'+t+'" not defined in '+e,{loc:n});return r.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||me.resultIsAllowed(n,r.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,s=0;s<n;s++){if(null!=(e[s]&&r.lookupProperty(e[s],t)))return e[s][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:ue.escapeExpression,invokePartial:function(n,r,s){s.hash&&(r=ue.extend({},r,s.hash),s.ids&&(s.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,s);var o=ue.extend({},s,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),i=t.VM.invokePartial.call(this,n,r,o);if(null==i&&t.compile&&(s.partials[s.name]=t.compile(n,e.compilerOptions,t),i=s.partials[s.name](r,o)),null!=i){if(s.indent){for(var a=i.split("\n"),l=0,c=a.length;l<c&&(a[l]||l+1!==c);l++)a[l]=s.indent+a[l];i=a.join("\n")}return i}throw new de.default("The partial "+s.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,s){var o=this.programs[e],i=this.fn(e);return t||s||r||n?o=ge(this,e,i,t,n,r,s):o||(o=this.programs[e]=ge(this,e,i)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=ue.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function s(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;s._setup(n),!n.partial&&e.useData&&(o=ke(t,o));var i=void 0,a=e.useBlockParams?[]:void 0;function l(t){return""+e.main(r,t,r.helpers,r.partials,o,a,i)}return e.useDepths&&(i=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=be(e.main,l,r,n.depths||[],o,a))(t,n)}return s.isTop=!0,s._setup=function(s){if(s.partial)r.protoAccessControl=s.protoAccessControl,r.helpers=s.helpers,r.partials=s.partials,r.decorators=s.decorators,r.hooks=s.hooks;else{var o=ue.extend({},t.helpers,s.helpers);!function(e,t){Object.keys(e).forEach((function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return fe.wrapHelper(e,(function(e){return ue.extend({lookupProperty:n},e)}))}(r,t)}))}(o,r),r.helpers=o,e.usePartial&&(r.partials=r.mergeIfNeeded(s.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=ue.extend({},t.decorators,s.decorators)),r.hooks={},r.protoAccessControl=me.createProtoAccessControl(s);var i=s.allowCallsToHelperMissing||n;pe.moveHelperToHooks(r,"helperMissing",i),pe.moveHelperToHooks(r,"blockHelperMissing",i)}},s._child=function(t,n,s,o){if(e.useBlockParams&&!s)throw new de.default("must pass block params");if(e.useDepths&&!o)throw new de.default("must pass parent depths");return ge(r,t,e[t],n,0,s,o)},s},le.wrapProgram=ge,le.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},le.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var s=void 0;n.fn&&n.fn!==ve&&function(){n.data=he.createFrame(n.data);var e=n.fn;s=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=he.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=ue.extend({},n.partials,e.partials))}();void 0===e&&s&&(e=s);if(void 0===e)throw new de.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},le.noop=ve;var ue=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),de=function(e){return e&&e.__esModule?e:{default:e}}(B.exports),he=d,pe=y,fe=ce,me=V;function ge(e,t,n,r,s,o,i){function a(t){var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=i;return!i||t==i[0]||t===e.nullContext&&null===i[0]||(a=[t].concat(i)),n(e,t,e.helpers,e.partials,s.data||r,o&&[s.blockParams].concat(o),a)}return(a=be(n,a,e,i,r,o)).program=t,a.depth=i?i.length:0,a.blockParams=s||0,a}function ve(){return""}function ke(e,t){return t&&"root"in t||((t=t?he.createFrame(t):{}).root=e),t}function be(e,t,n,r,s,o){if(e.decorator){var i={};t=e.decorator(t,i,n,r&&r[0],s,o,r),ue.extend(t,i)}return t}var we={exports:{}};!function(e,t){t.__esModule=!0,t.default=function(e){var t=void 0!==a?a:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}(we,we.exports),function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var s=r(d),o=n(ae.exports),i=n(B.exports),a=r(h),l=r(le),c=n(we.exports);function u(){var e=new s.HandlebarsEnvironment;return a.extend(e,s),e.SafeString=o.default,e.Exception=i.default,e.Utils=a,e.escapeExpression=a.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e}var p=u();p.create=u,c.default(p),p.default=p,t.default=p,e.exports=t.default}(u,u.exports);var Be={exports:{}};!function(e,t){t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default}(Be,Be.exports);var ye={},Ce={exports:{}};!function(e,t){t.__esModule=!0;var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,r,s,o,i){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=r.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(o[a]),strip:r.stripFlags(o[a],o[a]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=r.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=r.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:r.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:r.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:r.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=r.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),c=r.prepareProgram([l],o[a-1].loc);c.chained=!0,this.$={strip:o[a-2].strip,program:c,chain:!0};break;case 21:this.$={path:o[a-1],strip:r.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=r.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],r.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:r.stripFlags(o[a-4],o[a]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:r.stripFlags(o[a-4],o[a])};break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(o[a-2]),value:o[a],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(o[a-1]);break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 42:this.$=r.preparePath(!0,o[a],this._$);break;case 43:this.$=r.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:r.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:r.id(o[a]),original:o[a]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:o[a-1].push(o[a]);break;case 98:case 100:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],s=[],o=this.table,i="",a=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;s.push(c);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,h,p,f,m,g,v,k,b,w={};;){if(h=n[n.length-1],this.defaultActions[h]?p=this.defaultActions[h]:(null==d&&(b=void 0,"number"!=typeof(b=t.lexer.lex()||1)&&(b=t.symbols_[b]||b),d=b),p=o[h]&&o[h][d]),void 0===p||!p.length||!p[0]){var B="";for(m in k=[],o[h])this.terminals_[m]&&m>2&&k.push("'"+this.terminals_[m]+"'");B=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(B,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:c,expected:k})}if(p[0]instanceof Array&&p.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+d);switch(p[0]){case 1:n.push(d),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),n.push(p[1]),d=null,l=this.lexer.yyleng,i=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc;break;case 2:if(g=this.productions_[p[1]][1],w.$=r[r.length-g],w._$={first_line:s[s.length-(g||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(g||1)].first_column,last_column:s[s.length-1].last_column},u&&(w._$.range=[s[s.length-(g||1)].range[0],s[s.length-1].range[1]]),void 0!==(f=this.performAction.call(w,i,l,a,this.yy,p[1],r,s)))return f;g&&(n=n.slice(0,-1*g*2),r=r.slice(0,-1*g),s=s.slice(0,-1*g)),n.push(this.productions_[p[1]][0]),r.push(w.$),s.push(w._$),v=o[n[n.length-2]][n[n.length-1]],n.push(v);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,s;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length&&(!(n=this._input.match(this.rules[o[i]]))||t&&!(n[0].length>t[0].length)||(t=n,r=i,this.options.flex));i++);return t?((s=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){function s(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(s(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=s(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=s(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();t.default=n,e.exports=t.default}(Ce,Ce.exports);var xe={exports:{}},De={exports:{}};!function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(B.exports);function r(){this.parents=[]}function s(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function o(e){s.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function i(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}r.prototype={constructor:r,mutating:!1,acceptKey:function(e,t){var s=this.accept(e[t]);if(this.mutating){if(s&&!r.prototype[s.type])throw new n.default('Unexpected node type "'+s.type+'" found when accepting '+t+" on "+e.type);e[t]=s}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new n.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new n.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:s,Decorator:s,BlockStatement:o,DecoratorBlock:o,PartialStatement:i,PartialBlockStatement:function(e){i.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=r,e.exports=t.default}(De,De.exports),function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(De.exports);function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function s(e,t,n){void 0===t&&(t=e.length);var r=e[t-1],s=e[t-2];return r?"ContentStatement"===r.type?(s||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function o(e,t,n){void 0===t&&(t=-1);var r=e[t+1],s=e[t+2];return r?"ContentStatement"===r.type?(s||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function i(e,t,n){var r=e[null==t?0:t+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var s=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==s}}function a(e,t,n){var r=e[null==t?e.length-1:t-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var s=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==s,r.leftStripped}}r.prototype=new n.default,r.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=e.body,l=0,c=r.length;l<c;l++){var u=r[l],d=this.accept(u);if(d){var h=s(r,l,n),p=o(r,l,n),f=d.openStandalone&&h,m=d.closeStandalone&&p,g=d.inlineStandalone&&h&&p;d.close&&i(r,l,!0),d.open&&a(r,l,!0),t&&g&&(i(r,l),a(r,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(r[l-1].original)[1])),t&&f&&(i((u.program||u.inverse).body),a(r,l)),t&&m&&(i(r,l),a((u.inverse||u.program).body))}}return e},r.prototype.BlockStatement=r.prototype.DecoratorBlock=r.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,l=n;if(n&&n.chained)for(r=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:o(t.body),closeStandalone:s((r||t).body)};if(e.openStrip.close&&i(t.body,null,!0),n){var u=e.inverseStrip;u.open&&a(t.body,null,!0),u.close&&i(r.body,null,!0),e.closeStrip.open&&a(l.body,null,!0),!this.options.ignoreStandalone&&s(t.body)&&o(r.body)&&(a(t.body),i(r.body))}else e.closeStrip.open&&a(t.body,null,!0);return c},r.prototype.Decorator=r.prototype.MustacheStatement=function(e){return e.strip},r.prototype.PartialStatement=r.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=r,e.exports=t.default}(xe,xe.exports);var _e={};_e.__esModule=!0,_e.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},_e.id=function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},_e.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},_e.stripComment=function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},_e.preparePath=function(e,t,n){n=this.locInfo(n);for(var r=e?"@":"",s=[],o=0,i=0,a=t.length;i<a;i++){var l=t[i].part,c=t[i].original!==l;if(r+=(t[i].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)s.push(l);else{if(s.length>0)throw new Pe.default("Invalid path: "+r,{loc:n});".."===l&&o++}}return{type:"PathExpression",data:e,depth:o,parts:s,original:r,loc:n}},_e.prepareMustache=function(e,t,n,r,s,o){var i=r.charAt(3)||r.charAt(2),a="{"!==i&&"&"!==i;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:a,strip:s,loc:this.locInfo(o)}},_e.prepareRawBlock=function(e,t,n,r){Ee(e,n),r=this.locInfo(r);var s={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:s,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},_e.prepareBlock=function(e,t,n,r,s,o){r&&r.path&&Ee(e,r);var i=/\*/.test(e.open);t.blockParams=e.blockParams;var a=void 0,l=void 0;if(n){if(i)throw new Pe.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),l=n.strip,a=n.program}s&&(s=a,a=t,t=s);return{type:i?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:a,openStrip:e.strip,inverseStrip:l,closeStrip:r&&r.strip,loc:this.locInfo(o)}},_e.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,r=e[e.length-1].loc;n&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},_e.preparePartialBlock=function(e,t,n,r){return Ee(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var Pe=function(e){return e&&e.__esModule?e:{default:e}}(B.exports);function Ee(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new Pe.default(e.path.original+" doesn't match "+t,n)}}function Ae(e){return e&&e.__esModule?e:{default:e}}ye.__esModule=!0,ye.parseWithoutProcessing=qe,ye.parse=function(e,t){var n=qe(e,t);return new Le.default(t).accept(n)};var Se=Ae(Ce.exports),Le=Ae(xe.exports),Fe=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(_e),Me=h;ye.parser=Se.default;var Ie={};function qe(e,t){return"Program"===e.type?e:(Se.default.yy=Ie,Ie.locInfo=function(e){return new Ie.SourceLocation(t&&t.srcName,e)},Se.default.parse(e))}Me.extend(Ie,Fe);var Oe={};function Te(e){return e&&e.__esModule?e:{default:e}}Oe.__esModule=!0,Oe.Compiler=ze,Oe.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new Re.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);var r=n.parse(e,t),s=(new n.Compiler).compile(r,t);return(new n.JavaScriptCompiler).compile(s,t)},Oe.compile=function(e,t,n){void 0===t&&(t={});if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new Re.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=$e.extend({},t))||(t.data=!0);t.compat&&(t.useDepths=!0);var r=void 0;function s(){var r=n.parse(e,t),s=(new n.Compiler).compile(r,t),o=(new n.JavaScriptCompiler).compile(s,t,void 0,!0);return n.template(o)}function o(e,t){return r||(r=s()),r.call(this,e,t)}return o._setup=function(e){return r||(r=s()),r._setup(e)},o._child=function(e,t,n,o){return r||(r=s()),r._child(e,t,n,o)},o};var Re=Te(B.exports),$e=h,Ne=Te(Be.exports),He=[].slice;function ze(){}function je(e,t){if(e===t)return!0;if($e.isArray(e)&&$e.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!je(e[n],t[n]))return!1;return!0}}function Ue(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}ze.prototype={compiler:ze,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],s=e.opcodes[n];if(r.opcode!==s.opcode||!je(r.args,s.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=$e.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new Re.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,r=0;r<n;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){Ue(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,n):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),r=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new Re.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var r=e.name.original,s="SubExpression"===e.name.type;s&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",s,r,o),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){Ue(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var r=e.path,s=r.parts[0],o=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",s,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),s=e.path,o=s.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",r.length,o);else{if(this.options.knownHelpersOnly)throw new Re.default("You specified knownHelpersOnly, but used the unknown helper "+o,e);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",r.length,s.original,Ne.default.helpers.simpleId(s))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=Ne.default.helpers.scopedId(e),r=!e.depth&&!n&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,r=t.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:He.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=Ne.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),r=!n&&Ne.default.helpers.helperExpression(e),s=!n&&(r||t);if(s&&!r){var o=e.path.parts[0],i=this.options;i.knownHelpers[o]?r=!0:i.knownHelpersOnly&&(s=!1)}return r?"helper":s?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||Ne.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var r=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,r){var s=e.params;return this.pushParams(s),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),s},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var r=this.options.blockParams[t],s=r&&$e.indexOf(r,e);if(r&&s>=0)return[t,s]}}};var Ve={exports:{}},Ge={exports:{}},We={},Qe={},Xe={},Ke={},Ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ke.encode=function(e){if(0<=e&&e<Ze.length)return Ze[e];throw new TypeError("Must be between 0 and 63: "+e)},Ke.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var Je=Ke;Xe.encode=function(e){var t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=Je.encode(t)}while(r>0);return n},Xe.decode=function(e,t,n){var r,s,o,i,a=e.length,l=0,c=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=Je.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&s),l+=(s&=31)<<c,c+=5}while(r);n.value=(i=(o=l)>>1,1==(1&o)?-i:i),n.rest=t};var Ye={};!function(e){e.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function r(e){var n=e.match(t);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function o(t){var n=t,o=r(t);if(o){if(!o.path)return t;n=o.path}for(var i,a=e.isAbsolute(n),l=n.split(/\/+/),c=0,u=l.length-1;u>=0;u--)"."===(i=l[u])?l.splice(u,1):".."===i?c++:c>0&&(""===i?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return""===(n=l.join("/"))&&(n=a?"/":"."),o?(o.path=n,s(o)):n}function i(e,t){""===e&&(e="."),""===t&&(t=".");var i=r(t),a=r(e);if(a&&(e=a.path||"/"),i&&!i.scheme)return a&&(i.scheme=a.scheme),s(i);if(i||t.match(n))return t;if(a&&!a.host&&!a.path)return a.host=t,s(a);var l="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,s(a)):l}e.urlParse=r,e.urlGenerate=s,e.normalize=o,e.join=i,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function l(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function u(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=a?l:function(e){return c(e)?"$"+e:e},e.fromSetString=a?l:function(e){return c(e)?e.slice(1):e},e.compareByOriginalPositions=function(e,t,n){var r=u(e.source,t.source);return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:u(e.name,t.name)},e.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=u(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:u(e.name,t.name)},e.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=u(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:u(e.name,t.name)},e.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var a=r(n);if(!a)throw new Error("sourceMapURL could not be parsed");if(a.path){var l=a.path.lastIndexOf("/");l>=0&&(a.path=a.path.substring(0,l+1))}t=i(s(a),t)}return o(t)}}(Ye);var et={},tt=Ye,nt=Object.prototype.hasOwnProperty,rt="undefined"!=typeof Map;function st(){this._array=[],this._set=rt?new Map:Object.create(null)}st.fromArray=function(e,t){for(var n=new st,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},st.prototype.size=function(){return rt?this._set.size:Object.getOwnPropertyNames(this._set).length},st.prototype.add=function(e,t){var n=rt?e:tt.toSetString(e),r=rt?this.has(e):nt.call(this._set,n),s=this._array.length;r&&!t||this._array.push(e),r||(rt?this._set.set(e,s):this._set[n]=s)},st.prototype.has=function(e){if(rt)return this._set.has(e);var t=tt.toSetString(e);return nt.call(this._set,t)},st.prototype.indexOf=function(e){if(rt){var t=this._set.get(e);if(t>=0)return t}else{var n=tt.toSetString(e);if(nt.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},st.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},st.prototype.toArray=function(){return this._array.slice()},et.ArraySet=st;var ot={},it=Ye;function at(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}at.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},at.prototype.add=function(e){var t,n,r,s,o,i;t=this._last,n=e,r=t.generatedLine,s=n.generatedLine,o=t.generatedColumn,i=n.generatedColumn,s>r||s==r&&i>=o||it.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},at.prototype.toArray=function(){return this._sorted||(this._array.sort(it.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},ot.MappingList=at;var lt=Xe,ct=Ye,ut=et.ArraySet,dt=ot.MappingList;function ht(e){e||(e={}),this._file=ct.getArg(e,"file",null),this._sourceRoot=ct.getArg(e,"sourceRoot",null),this._skipValidation=ct.getArg(e,"skipValidation",!1),this._sources=new ut,this._names=new ut,this._mappings=new dt,this._sourcesContents=null}ht.prototype._version=3,ht.fromSourceMap=function(e){var t=e.sourceRoot,n=new ht({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=ct.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var s=r;null!==t&&(s=ct.relative(t,r)),n._sources.has(s)||n._sources.add(s);var o=e.sourceContentFor(r);null!=o&&n.setSourceContent(r,o)})),n},ht.prototype.addMapping=function(e){var t=ct.getArg(e,"generated"),n=ct.getArg(e,"original",null),r=ct.getArg(e,"source",null),s=ct.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,s),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=s&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:s})},ht.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=ct.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ct.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[ct.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},ht.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=ct.relative(s,r));var o=new ut,i=new ut;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=ct.join(n,t.source)),null!=s&&(t.source=ct.relative(s,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var l=t.source;null==l||o.has(l)||o.add(l);var c=t.name;null==c||i.has(c)||i.add(c)}),this),this._sources=o,this._names=i,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=ct.join(n,t)),null!=s&&(t=ct.relative(s,t)),this.setSourceContent(t,r))}),this)},ht.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},ht.prototype._serializeMappings=function(){for(var e,t,n,r,s=0,o=1,i=0,a=0,l=0,c=0,u="",d=this._mappings.toArray(),h=0,p=d.length;h<p;h++){if(e="",(t=d[h]).generatedLine!==o)for(s=0;t.generatedLine!==o;)e+=";",o++;else if(h>0){if(!ct.compareByGeneratedPositionsInflated(t,d[h-1]))continue;e+=","}e+=lt.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=lt.encode(r-c),c=r,e+=lt.encode(t.originalLine-1-a),a=t.originalLine-1,e+=lt.encode(t.originalColumn-i),i=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=lt.encode(n-l),l=n)),u+=e}return u},ht.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=ct.relative(t,e));var n=ct.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},ht.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},ht.prototype.toString=function(){return JSON.stringify(this.toJSON())},Qe.SourceMapGenerator=ht;var pt={},ft={};!function(e){function t(n,r,s,o,i,a){var l=Math.floor((r-n)/2)+n,c=i(s,o[l],!0);return 0===c?l:c>0?r-l>1?t(l,r,s,o,i,a):a==e.LEAST_UPPER_BOUND?r<o.length?r:-1:l:l-n>1?t(n,l,s,o,i,a):a==e.LEAST_UPPER_BOUND?l:n<0?-1:n}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(n,r,s,o){if(0===r.length)return-1;var i=t(-1,r.length,n,r,s,o||e.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===s(r[i],r[i-1],!0);)--i;return i}}(ft);var mt={};function gt(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function vt(e,t,n,r){if(n<r){var s=n-1;gt(e,(l=n,c=r,Math.round(l+Math.random()*(c-l))),r);for(var o=e[r],i=n;i<r;i++)t(e[i],o)<=0&&gt(e,s+=1,i);gt(e,s+1,i);var a=s+1;vt(e,t,n,a-1),vt(e,t,a+1,r)}var l,c}mt.quickSort=function(e,t){vt(e,t,0,e.length-1)};var kt=Ye,bt=ft,wt=et.ArraySet,Bt=Xe,yt=mt.quickSort;function Ct(e,t){var n=e;return"string"==typeof e&&(n=kt.parseSourceMapInput(e)),null!=n.sections?new _t(n,t):new xt(n,t)}function xt(e,t){var n=e;"string"==typeof e&&(n=kt.parseSourceMapInput(e));var r=kt.getArg(n,"version"),s=kt.getArg(n,"sources"),o=kt.getArg(n,"names",[]),i=kt.getArg(n,"sourceRoot",null),a=kt.getArg(n,"sourcesContent",null),l=kt.getArg(n,"mappings"),c=kt.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);i&&(i=kt.normalize(i)),s=s.map(String).map(kt.normalize).map((function(e){return i&&kt.isAbsolute(i)&&kt.isAbsolute(e)?kt.relative(i,e):e})),this._names=wt.fromArray(o.map(String),!0),this._sources=wt.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map((function(e){return kt.computeSourceURL(i,e,t)})),this.sourceRoot=i,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=t,this.file=c}function Dt(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function _t(e,t){var n=e;"string"==typeof e&&(n=kt.parseSourceMapInput(e));var r=kt.getArg(n,"version"),s=kt.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new wt,this._names=new wt;var o={line:-1,column:0};this._sections=s.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=kt.getArg(e,"offset"),r=kt.getArg(n,"line"),s=kt.getArg(n,"column");if(r<o.line||r===o.line&&s<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=n,{generatedOffset:{generatedLine:r+1,generatedColumn:s+1},consumer:new Ct(kt.getArg(e,"map"),t)}}))}Ct.fromSourceMap=function(e,t){return xt.fromSourceMap(e,t)},Ct.prototype._version=3,Ct.prototype.__generatedMappings=null,Object.defineProperty(Ct.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),Ct.prototype.__originalMappings=null,Object.defineProperty(Ct.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),Ct.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},Ct.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},Ct.GENERATED_ORDER=1,Ct.ORIGINAL_ORDER=2,Ct.GREATEST_LOWER_BOUND=1,Ct.LEAST_UPPER_BOUND=2,Ct.prototype.eachMapping=function(e,t,n){var r,s=t||null;switch(n||Ct.GENERATED_ORDER){case Ct.GENERATED_ORDER:r=this._generatedMappings;break;case Ct.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;r.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=kt.computeSourceURL(o,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,s)},Ct.prototype.allGeneratedPositionsFor=function(e){var t=kt.getArg(e,"line"),n={source:kt.getArg(e,"source"),originalLine:t,originalColumn:kt.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",kt.compareByOriginalPositions,bt.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(void 0===e.column)for(var i=o.originalLine;o&&o.originalLine===i;)r.push({line:kt.getArg(o,"generatedLine",null),column:kt.getArg(o,"generatedColumn",null),lastColumn:kt.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var a=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==a;)r.push({line:kt.getArg(o,"generatedLine",null),column:kt.getArg(o,"generatedColumn",null),lastColumn:kt.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return r},pt.SourceMapConsumer=Ct,xt.prototype=Object.create(Ct.prototype),xt.prototype.consumer=Ct,xt.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=kt.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},xt.fromSourceMap=function(e,t){var n=Object.create(xt.prototype),r=n._names=wt.fromArray(e._names.toArray(),!0),s=n._sources=wt.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return kt.computeSourceURL(n.sourceRoot,e,t)}));for(var o=e._mappings.toArray().slice(),i=n.__generatedMappings=[],a=n.__originalMappings=[],l=0,c=o.length;l<c;l++){var u=o[l],d=new Dt;d.generatedLine=u.generatedLine,d.generatedColumn=u.generatedColumn,u.source&&(d.source=s.indexOf(u.source),d.originalLine=u.originalLine,d.originalColumn=u.originalColumn,u.name&&(d.name=r.indexOf(u.name)),a.push(d)),i.push(d)}return yt(n.__originalMappings,kt.compareByOriginalPositions),n},xt.prototype._version=3,Object.defineProperty(xt.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),xt.prototype._parseMappings=function(e,t){for(var n,r,s,o,i,a=1,l=0,c=0,u=0,d=0,h=0,p=e.length,f=0,m={},g={},v=[],k=[];f<p;)if(";"===e.charAt(f))a++,f++,l=0;else if(","===e.charAt(f))f++;else{for((n=new Dt).generatedLine=a,o=f;o<p&&!this._charIsMappingSeparator(e,o);o++);if(s=m[r=e.slice(f,o)])f+=r.length;else{for(s=[];f<o;)Bt.decode(e,f,g),i=g.value,f=g.rest,s.push(i);if(2===s.length)throw new Error("Found a source, but no line and column");if(3===s.length)throw new Error("Found a source and line, but no column");m[r]=s}n.generatedColumn=l+s[0],l=n.generatedColumn,s.length>1&&(n.source=d+s[1],d+=s[1],n.originalLine=c+s[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=u+s[3],u=n.originalColumn,s.length>4&&(n.name=h+s[4],h+=s[4])),k.push(n),"number"==typeof n.originalLine&&v.push(n)}yt(k,kt.compareByGeneratedPositionsDeflated),this.__generatedMappings=k,yt(v,kt.compareByOriginalPositions),this.__originalMappings=v},xt.prototype._findMapping=function(e,t,n,r,s,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return bt.search(e,t,s,o)},xt.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},xt.prototype.originalPositionFor=function(e){var t={generatedLine:kt.getArg(e,"line"),generatedColumn:kt.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",kt.compareByGeneratedPositionsDeflated,kt.getArg(e,"bias",Ct.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var s=kt.getArg(r,"source",null);null!==s&&(s=this._sources.at(s),s=kt.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=kt.getArg(r,"name",null);return null!==o&&(o=this._names.at(o)),{source:s,line:kt.getArg(r,"originalLine",null),column:kt.getArg(r,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}},xt.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},xt.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var r,s=e;if(null!=this.sourceRoot&&(s=kt.relative(this.sourceRoot,s)),null!=this.sourceRoot&&(r=kt.urlParse(this.sourceRoot))){var o=s.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!r.path||"/"==r.path)&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(t)return null;throw new Error('"'+s+'" is not in the SourceMap.')},xt.prototype.generatedPositionFor=function(e){var t=kt.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:kt.getArg(e,"line"),originalColumn:kt.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",kt.compareByOriginalPositions,kt.getArg(e,"bias",Ct.GREATEST_LOWER_BOUND));if(r>=0){var s=this._originalMappings[r];if(s.source===n.source)return{line:kt.getArg(s,"generatedLine",null),column:kt.getArg(s,"generatedColumn",null),lastColumn:kt.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},pt.BasicSourceMapConsumer=xt,_t.prototype=Object.create(Ct.prototype),_t.prototype.constructor=Ct,_t.prototype._version=3,Object.defineProperty(_t.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),_t.prototype.originalPositionFor=function(e){var t={generatedLine:kt.getArg(e,"line"),generatedColumn:kt.getArg(e,"column")},n=bt.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},_t.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},_t.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},_t.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(kt.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},_t.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],s=r.consumer._generatedMappings,o=0;o<s.length;o++){var i=s[o],a=r.consumer._sources.at(i.source);a=kt.computeSourceURL(r.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var l=null;i.name&&(l=r.consumer._names.at(i.name),this._names.add(l),l=this._names.indexOf(l));var c={source:a,generatedLine:i.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:i.generatedColumn+(r.generatedOffset.generatedLine===i.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:i.originalLine,originalColumn:i.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}yt(this.__generatedMappings,kt.compareByGeneratedPositionsDeflated),yt(this.__originalMappings,kt.compareByOriginalPositions)},pt.IndexedSourceMapConsumer=_t;var Pt={},Et=Qe.SourceMapGenerator,At=Ye,St=/(\r?\n)/,Lt="$$$isSourceNode$$$";function Ft(e,t,n,r,s){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==s?null:s,this[Lt]=!0,null!=r&&this.add(r)}Ft.fromStringWithSourceMap=function(e,t,n){var r=new Ft,s=e.split(St),o=0,i=function(){return e()+(e()||"");function e(){return o<s.length?s[o++]:void 0}},a=1,l=0,c=null;return t.eachMapping((function(e){if(null!==c){if(!(a<e.generatedLine)){var t=(n=s[o]||"").substr(0,e.generatedColumn-l);return s[o]=n.substr(e.generatedColumn-l),l=e.generatedColumn,u(c,t),void(c=e)}u(c,i()),a++,l=0}for(;a<e.generatedLine;)r.add(i()),a++;if(l<e.generatedColumn){var n=s[o]||"";r.add(n.substr(0,e.generatedColumn)),s[o]=n.substr(e.generatedColumn),l=e.generatedColumn}c=e}),this),o<s.length&&(c&&u(c,i()),r.add(s.splice(o).join(""))),t.sources.forEach((function(e){var s=t.sourceContentFor(e);null!=s&&(null!=n&&(e=At.join(n,e)),r.setSourceContent(e,s))})),r;function u(e,t){if(null===e||void 0===e.source)r.add(t);else{var s=n?At.join(n,e.source):e.source;r.add(new Ft(e.originalLine,e.originalColumn,s,t,e.name))}}},Ft.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[Lt]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},Ft.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[Lt]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},Ft.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[Lt]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},Ft.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},Ft.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[Lt]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},Ft.prototype.setSourceContent=function(e,t){this.sourceContents[At.toSetString(e)]=t},Ft.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][Lt]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(At.fromSetString(r[t]),this.sourceContents[r[t]])},Ft.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},Ft.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new Et(e),r=!1,s=null,o=null,i=null,a=null;return this.walk((function(e,l){t.code+=e,null!==l.source&&null!==l.line&&null!==l.column?(s===l.source&&o===l.line&&i===l.column&&a===l.name||n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name}),s=l.source,o=l.line,i=l.column,a=l.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),s=null,r=!1);for(var c=0,u=e.length;c<u;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(s=null,r=!1):r&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},Pt.SourceNode=Ft,We.SourceMapGenerator=Qe.SourceMapGenerator,We.SourceMapConsumer=pt.SourceMapConsumer,We.SourceNode=Pt.SourceNode,function(e,t){t.__esModule=!0;var n=h,r=void 0;try{r=We.SourceNode}catch(e){}function s(e,t,r){if(n.isArray(e)){for(var s=[],o=0,i=e.length;o<i;o++)s.push(t.wrap(e[o],r));return s}return"boolean"==typeof e||"number"==typeof e?e+"":e}function o(e){this.srcFile=e,this.source=[]}r||((r=function(e,t,n,r){this.src="",r&&this.add(r)}).prototype={add:function(e){n.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){n.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new r(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof r?e:(e=s(e,this,t),new r(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,n=[];Object.keys(e).forEach((function(r){var o=s(e[r],t);"undefined"!==o&&n.push([t.quotedString(r),":",o])}));var r=this.generateList(n);return r.prepend("{"),r.add("}"),r},generateList:function(e){for(var t=this.empty(),n=0,r=e.length;n<r;n++)n&&t.add(","),t.add(s(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=o,e.exports=t.default}(Ge,Ge.exports),function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=d,s=n(B.exports),o=h,i=n(Ge.exports);function a(e){this.value=e}function l(){}l.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=r.COMPILER_REVISION;return[e,r.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return o.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var o=e.opcodes,i=void 0,a=void 0,l=void 0,c=void 0;for(l=0,c=o.length;l<c;l++)i=o[l],this.source.currentLocation=i.loc,a=a||i.loc,this[i.opcode].apply(this,i.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(r);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,p=h.programs,f=h.decorators;for(l=0,c=p.length;l<c;l++)p[l]&&(d[l]=p[l],f[l]&&(d[l+"_d"]=f[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),r?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new i.default(this.options.srcName),this.decorators=new i.default(this.options.srcName)},createFunctionContext:function(e){var t=this,n="",r=this.stackVars.concat(this.registers.list);r.length>0&&(n+=", "+r.join(", "));var s=0;Object.keys(this.aliases).forEach((function(e){var r=t.aliases[e];r.children&&r.referenceCount>1&&(n+=", alias"+ ++s+"="+e,r.children[0]="alias"+s)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var i=this.mergeSource(n);return e?(o.push(i),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",i,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,r=void 0,s=void 0,o=void 0,i=void 0;return this.source.each((function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,i=e):(o&&(s?o.prepend("buffer += "):r=!0,i.add(";"),o=i=void 0),s=!0,t||(n=!1))})),n?o?(o.prepend("return "),i.add(";")):s||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),i.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,r){var s=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[s++])),this.resolvePath("context",e,s,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,r,s){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,r){var s=t.popStack(),o=0,i=n.length;e&&i--;for(;o<i;o++)s=t.nameLookup(s,n[o],r);return e?[t.aliasable("container.strict"),"(",s,", ",t.quotedString(n[o]),", ",JSON.stringify(t.source.currentLocation)," )"]:s}(this.options.strict&&s,this,t,e));else for(var i=t.length;n<i;n++)this.replaceStack((function(s){var i=o.nameLookup(s,t[n],e);return r?[" && ",i]:[" != null ? ",i," : ",s]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(e,t,n){var r=this.popStack(),s=this.setupHelper(e,t),o=[];n&&o.push(s.name),o.push(r),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var i=["(",this.itemsSeparatedBy(o,"||"),")"],a=this.source.functionCall(i,"call",s.callParams);this.push(a)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var r=1;r<e.length;r++)n.push(t,e[r]);return n},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),s=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(s[0]="(helper = ",s.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",s,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(e,t,n){var r=[],s=this.setupParams(t,1,r);e&&(t=this.popStack(),delete s.name),n&&(s.indent=JSON.stringify(n)),s.helpers="helpers",s.partials="partials",s.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),r.push(s),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(e){var t=this.popStack(),n=void 0,r=void 0,s=void 0;this.trackIds&&(s=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),r&&(o.types[e]=r),s&&(o.ids[e]=s),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:l,compileChildren:function(e,t){for(var n=e.children,r=void 0,s=void 0,o=0,i=n.length;o<i;o++){r=n[o],s=new this.compiler;var a=this.matchExistingProgram(r);if(null==a){this.context.programs.push("");var l=this.context.programs.length;r.index=l,r.name="program"+l,this.context.programs[l]=s.compile(r,t,this.context,!this.precompile),this.context.decorators[l]=s.decorators,this.context.environments[l]=r,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=a.index,r.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return r}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof a||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new a(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var i=this.popStack(!0);if(i instanceof a)t=["(",n=[i.value]],o=!0;else{r=!0;var l=this.incrStack();t=["((",this.push(l)," = ",i,")"],n=this.topStack()}var c=e.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(t.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof a)this.compileStack.push(r);else{var s=this.incrStack();this.pushSource([s," = ",r,";"]),this.compileStack.push(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof a)return n.value;if(!t){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof a?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(t,e,r,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(e,t,n){var r={},s=[],o=[],i=[],a=!n,l=void 0;a&&(n=[]),r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(r.fn=u||"container.noop",r.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(i[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),s[d]=this.popStack());return a&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(i)),this.stringParams&&(r.types=this.source.generateArray(o),r.contexts=this.source.generateArray(s)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(e,t,n,r){var s=this.setupParams(e,t,n);return s.loc=JSON.stringify(this.source.currentLocation),s=this.objectLiteral(s),r?(this.useRegister("options"),n.push("options"),["options=",s]):n?(n.push(s),""):s}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=l.RESERVED_WORDS={},n=0,r=e.length;n<r;n++)t[e[n]]=!0}(),l.isValidJavaScriptVariableName=function(e){return!l.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=l,e.exports=t.default}(Ve,Ve.exports),function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(u.exports),s=n(Be.exports),o=ye,i=Oe,a=n(Ve.exports),l=n(De.exports),c=n(we.exports),d=r.default.create;function h(){var e=d();return e.compile=function(t,n){return i.compile(t,n,e)},e.precompile=function(t,n){return i.precompile(t,n,e)},e.AST=s.default,e.Compiler=i.Compiler,e.JavaScriptCompiler=a.default,e.Parser=o.parser,e.parse=o.parse,e.parseWithoutProcessing=o.parseWithoutProcessing,e}var p=h();p.create=h,c.default(p),p.Visitor=l.default,p.default=p,t.default=p,e.exports=t.default}(c,c.exports);var Mt=l(c.exports);class It{constructor(e=3e3,t=500){this.el=document.createElement("div"),this.el.classList.add("popup-messages"),document.body.appendChild(this.el),this.messageContentTemplate=Mt.compile('\n<div class="title"><strong>{{ title }}</strong></div>\n<div class="message">{{ message }}</div>\n'),this.dissappearAfterMs=e,this.transitionTimeMs=t}__createMessageEl(e,t,n){const r=n?"success":"error",s=document.createElement("div");return s.classList.add("popup-message"),s.classList.add(r),s.innerHTML=this.messageContentTemplate({title:e,message:t}),s}__message(e,t="",n=!0,r){const s=this.__createMessageEl(e,t,n);this.el.appendChild(s),setTimeout((()=>{s.style.transitionDuration=`${this.transitionTimeMs}ms`,s.style.opacity="0",setTimeout((()=>{s.remove()}),this.transitionTimeMs)}),r)}success(e,t="",n=this.dissappearAfterMs){this.__message(e,t,!0,n)}error(e,t="",n=this.dissappearAfterMs){this.__message(e,t,!1,n)}}class qt{constructor(){this.modalTemplate=Mt.compile('\n<span class="close-btn modal-close">\n    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"/></svg>\n</span>\n\n<div id="modal-form" class="form centered-horizontal">\n    <span class="close-btn modal-close">\n        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"/></svg>\n    </span>\n\n    <div class="info-container">\n        <div class="text-big-x">{{ title }}</div>\n        <div class="text-middle">{{ description }}</div>\n    </div>\n    \n    {{#if prompt }}\n    <div class="fields-container">\n        <div id="prompt-fields">\n            <input id="modal-prompt-input" type="text">\n        </div>\n    </div>\n    {{/if}}\n       \n    <div class="submit-container">\n        {{#unless confirm }}\n            <input id="modal-submit-button" type="submit" value="Ок">\n        {{else}}\n            <span id="modal-submit-button" class="button rounded">Да</span>\n            <span class="button rounded modal-close">Нет</span>\n        {{/unless}}\n    </div>\n</div>\n')}async __createModal(e,t="",n=!1,r=!1,s=!0){return new Promise((r=>{const o=document.createElement("div");o.classList.add("modal-background");const i=document.createElement("div");i.classList.add("modal"),i.innerHTML=this.modalTemplate({title:e,description:t,prompt:n,alert:s}),o.appendChild(i);const a=i.querySelector("#modal-prompt-input"),l=i.querySelector("#modal-submit-button"),c=()=>{o.remove(),r(!a||a.value),l.removeEventListener("click",c)};l.addEventListener("click",c);const u=i.querySelectorAll(".modal-close"),d=e=>{o.remove(),r(!1),e.target.removeEventListener("click",d)};for(const e of u)e.addEventListener("click",d);document.body.prepend(o)}))}async prompt(e,t){return this.__createModal(e,t,!0,!1,!1)}async confirm(e,t){return this.__createModal(e,t,!1,!0,!1)}async alert(e,t){return this.__createModal(e,t,!1,!1,!0)}}const Ot=[];function Tt(e,t="show"){e.classList.remove("hide","hidden"),e.classList.add(t),Ot.forEach(((t,n)=>{t.element===e&&(clearTimeout(t.timeout),Ot.splice(n,1))}))}function Rt(e,t="hide"){e.classList.remove("show","showed"),e.classList.add(t),Ot.push({element:e,timeout:setTimeout((()=>{e.classList.add("hidden")}),300)})}function $t(e){return null===e.getAttribute("data-open-roll")}function Nt(e){e.removeAttribute("data-open-roll"),e.style.height=e.scrollHeight+"px",e.classList.add("closed"),setTimeout((()=>{e.style.removeProperty("height")}),20)}function Ht(e){e.setAttribute("data-open-roll",""),e.style.height=e.scrollHeight+"px",setTimeout((()=>{e.style.removeProperty("height"),e.classList.remove("closed")}),300)}function zt(e){e.setAttribute("data-open-roll","");const t=e.style.transition;e.style.transition="none",e.style.height="auto",e.style.height=e.scrollHeight+"px",e.style.transition=t}function jt(e){e.setAttribute("data-open-roll",""),e.style.height=e.scrollHeight+"px"}function Ut(e,t){e.innerHTML='\n<div class="profile-page">\n    <div class="title-container clickable text-big">\n        <linkButton href="/play">\n            <span class="arrow left"></span>В игру\n        </linkButton>\n        <linkButton href="/me-quests">\n            Мои квесты\n        </linkButton>\n        <linkButton href="/rating">\n            Рейтинг<span class="arrow right"></span>\n        </linkButton>\n    </div>\n    \n    <div class="form centered-horizontal">\n        <form id="form-profile" class="">\n            <div class="info-container">\n                <div class="text-max">Твой профиль</div>\n                <div class="text">Интересно, да?</div>\n            </div>\n            \n            <div class="fields-container">\n                <div id="error" class="error-info text-middle"></div>\n                <div id="name-fields">\n                    <label class="text-big">ТВОЙ ЛОГИН <span id="name-error"></span></label>\n                    <input id="name-input" type="text" autocomplete="off">\n                </div>\n                <div id="email-fields">\n                    <label class="text-big">ТВОЙ E-mail <span id="email-error"></span></label>\n                    <input id="email-input" type="email" autocomplete="off">\n                    <div class="info text-small">Подтверждать придётся и со старой почты, и с новой (но это не точно)</div>\n                </div>\n            </div>\n            \n            <div class="submit-container">\n                <div id="result-info" class="info text-small"></div>\n                <input type="submit" value="Изменить данные">\n            </div>\n        </form>\n        \n        <form id="form-password">\n            <div id="form-password-fields" class="fields-container roll-active closed">\n                <div id="password-error" class="error-info text-middle"></div>\n                <div id="old-password-fields">\n                    <div class="info text-small" id="old-password-result-info"></div>\n                    <input id="old-password-input" type="password" placeholder="Старый пароль" autocomplete="off">\n                </div>\n                <div id="new-password-fields">\n                    <div class="info text-small" id="new-password-result-info"></div>\n                    <input id="new-password-input" type="password" placeholder="Новый пароль" autocomplete="off">\n                </div>\n            </div>\n            \n            <div id="" class="submit-container">\n                 <input type="submit" value="Сменить пароль">\n            </div>\n        </form>\n        \n        <linkButton id="logout-button" class="text-middle button bg outline rounded fullwidth" href="/">Выйти</linkButton>\n    </div>\n\n    <linkButton id="admin-button" class="text-big-x button rounded outline centered-horizontal hidden" href="/admin">На админскую</linkButton>\n</div>\n';const r=n("form-profile"),s=n("name-input"),o=n("email-input"),a=n("name-fields"),l=n("email-fields"),c=n("form-password"),u=n("form-password-fields"),d=n("old-password-input"),h=n("new-password-input"),p=n("error"),f=n("password-error"),m=n("logout-button"),g=n("admin-button");s.value=t.storage.username,o.value=t.storage.email,t.storage.isAdmin&&Tt(g),r.addEventListener("submit",(async e=>{e.preventDefault();const n=s.value.trim(),r=o.value.trim(),c=await t.apiPut("/user",{username:n,email:r}),u=await c.json();switch(c.status){case 200:t.setUser(u),i([a,l],"success");break;case 401:case 409:p.innerText=u.info,i([p,a,l],"error");break;default:t.messages.error(`Ошибка ${c.status}!`,u.info)}})),c.addEventListener("submit",(async e=>{if(e.preventDefault(),$t(u))return void Ht(u);const n=d.value.trim(),r=h.value.trim(),s=await t.apiPut("/user/password",{oldPassword:n,newPassword:r}),o=await s.json();switch(s.status){case 200:i([u],"success");break;case 401:f.innerText=o.info,Ht(u),i([f,u],"error");break;default:t.messages.error(`Ошибка ${s.status}!`,o.info)}})),m.addEventListener("click",(async()=>{await t.apiDelete("/user/session"),t.clearUser()}))}function Vt(e,t){e.innerHTML='\n<form id="login-form" class="form centered-horizontal">\n    <div class="info-container">\n        <div class="text-max">Вход</div>\n        <div class="text">Ну давай, вспомни пароль, войди в меня</div>\n    </div>\n    \n    <div class="fields-container">\n        <div id="error" class="error-info text-middle"></div>\n        <div id="name-fields">\n            <label class="text-big">ЛОГИН <span id="name-error"></span></label>\n            <input id="name-input" type="text" autocomplete="on">\n        </div>\n        <div id="password-fields">\n            <label class="text-big">ПАРОЛЬ <span id="password-error"></span></label>\n            <input id="password-input" type="password" autocomplete="on">\n            <div class="info text-small"><linkButton href="/about">Забыл пароль?</linkButton> - пей таблетки</div>\n        </div>\n    </div>\n    \n    <div class="submit-container">\n        <input type="submit" value="Погнали">\n        <div class="text info">Нужен аккаунт? <linkButton href="/register">Создать</linkButton></div>\n    </div>\n</form>\n';const r=n("login-form"),s=n("name-fields"),o=n("password-fields"),a=n("name-input"),l=n("password-input"),c=n("error");a.focus(),r.addEventListener("submit",(async e=>{e.preventDefault();const n=a.value.trim(),r=l.value,u=await t.apiPost("/user/auth",{username:n,password:r}),d=await u.json();switch(u.status){case 200:t.setUser(d),t.goto("/me");break;case 401:c.innerText=d.info,i([c,s,o],"error");break;default:t.messages.error(`Ошибка ${u.status}!`,d.info)}}))}function Gt(e,t){e.innerHTML='\n<form id="register-form" class="form centered-horizontal">\n    <div class="info-container">\n        <div class="text-max">Регистрация</div>\n        <div class="text">Ну давай, покажи всю свою оригинальность</div>\n    </div>\n    \n    <div class="fields-container">\n        <div id="error" class="error-info text-middle"></div>\n        <div id="name-fields">\n            <label class="text-big">ЛОГИН <span id="name-error"></span></label>\n            <input id="name-input" type="text" autocomplete="on">\n        </div>\n        <div id="password-fields">\n            <label class="text-big">ПАРОЛЬ <span id="password-error"></span></label>\n            <input id="password-input" type="password" autocomplete="on">\n            <div class="info text-small">Не забудь его только</div>\n        </div>\n        <div id="email-fields">\n            <label class="text-big">E-mail <span id="email-error"></span></label>\n            <input id="email-input" type="email" autocomplete="on">\n            <div class="info text-small">Когда-нибудь пароль придётся восстанавливать</div>\n        </div>\n    </div>\n       \n    <div class="submit-container">\n        <input type="submit" value="Погнали">\n        <div class="text info">Уже есть аккаунт? <linkButton href="/login">Войти</linkButton></div>\n    </div>\n</form>\n';const r=n("register-form"),s=n("name-fields"),o=n("email-fields"),a=n("password-fields"),l=n("name-input"),c=n("email-input"),u=n("password-input"),d=n("error");l.focus(),r.addEventListener("submit",(async e=>{e.preventDefault();const n=l.value.trim(),r=c.value.trim(),h=u.value,p=await t.apiPost("/user",{username:n,password:h,email:r}),f=await p.json();switch(p.status){case 200:t.setUser(f),t.goto("/me");break;case 401:case 409:d.innerText=f.info,i([d,s,a,o],"error");break;default:t.messages.error(`Ошибка ${p.status}!`,f.info)}}))}async function Wt(e,t){e.innerHTML='\n<div class="about-page flex-filler">\n    <div class="side-item left" >\n        <div class="text-max">КУДА ТЫ ПОПАЛ?</div>\n        <div class="text"><span class="text-big">Здесь</span> ты сможешь найти <span class="text-big">онлайн-квест</span> по душе, созданный нашими професси<i>онал</i>ами.</div>\n    </div>\n    <div class="side-item right">\n        <div class="text-max">ЭТО ХОТЬ БЕСПЛАТНО?</div>\n        <div class="text">Всё <span class="text-big">бесплатно</span> <s>пока что</s>.</div>\n    </div>\n    <div class="side-item left">\n        <div class="text-max">КАК ПОЛЬЗОВАТЬСЯ?</div>\n        <div class="text-big">Смотри, всё просто:\n            <ul>\n                <li class="text">регистрируешься</li>\n                <li class="text">выбираешь квест и ветку</li> \n                <li class="text">чем больше проходишь - тем выше ты в рейтинге</li>\n            </ul>\n        </div>\n    </div>\n    <div class="side-item right">\n        <div class="text-max">У МЕНЯ ОСТАЛИСЬ ВОПРОСЫ</div>\n        <div class="text">Там снизу есть <span class="text-big">контакты</span> - пиши, не стестняйся.</div>\n    </div>\n    \n    <linkButton class="text-big-x button highlight rounded centered-horizontal" href="/register">Зарегистрироваться</linkButton>\n</div>\n\n<footer id="footer">\n    <li>\n        <div class="title">За подсказками:</div>\n        <div class="description"><a href="https://vk.com/squest_studio" target="_blank">vk.com/squest_studio</a></div>\n    </li>\n    <li>\n        <div class="title">E-mail:</div>\n        <div class="description">Tyapkin2002@mail.ru</div>\n    </li>\n    <li>\n        <div class="title">VK: <small>(лучше сюда)</small> </div>\n        <div class="description"><a href="https://vk.com/0pointer" target="_blank">vk.com/0pointer</a></div>\n    </li>\n    <li>\n        <div class="title">Telegram:</div>\n        <div class="description"><a href="https://t.me/tyapkin_s" target="_blank">t.me/tyapkin_s</a></div>\n    </li>\n</footer>\n'}async function Qt(e,t){e.innerHTML='\n<div class="form centered-horizontal">\n    <div class="info-container">\n        <div class="text-max">Ошибка 404</div>\n        <div class="text-middle">Страница не найдена!</div>\n    </div>\n    <linkbutton href="/" class="button bg rounded fullwidth">На главную</linkbutton>\n</div>\n'}const Xt=void 0,Kt=Mt.compile('\n<li data-quest-id="{{ id }}" data-quest-button class="text-big">\n    {{#unless ispublished}}\n        {{#if islinkactive}}\n            <img src="/squest/images/link.svg" alt="with link" class="quest-modifier">\n        {{else}}\n            <img src="/squest/images/invisible.svg" alt="unpublished" class="quest-modifier">\n        {{/if}}\n    {{/unless}}\n    <span class="main-info">\n        <span class="title">{{ title }}</span>\n        <div class="text info">{{ description }}</div>\n    </span>\n    <span class="text choose">ВЫБРАТЬ<arrow class="arrow right"></arrow></span>\n</li>\n<ul class="listing branches-listing roll-active closed">\n    \x3c!--Branches will be there--\x3e\n</ul>\n'),Zt=Mt.compile('\n<li data-branch-id="{{ id }}" data-branch-button class="text-big">\n    {{#unless ispublished}}\n        <img src="/squest/images/invisible.svg" alt="unpublished" class="quest-modifier">\n    {{/unless}}\n    <span class="main-info">\n        <span class="title">{{ title }}</span>\n        <div class="text info">{{ description }}</div>\n    </span>\n    <span class="text choose">ВЫБРАТЬ<span class="arrow right"></span></span>\n</li>');async function Jt(e,t){e.innerHTML='\n<div class="quests-page">\n    <div id="choose-quest-block">\n        <div class="title-container bg">\n            <div>\n                <div class="text-big-x lighting-text">Выбор квеста</div>\n                <div class="text">Выбирай первый понравившийся и погнали!</div>\n            </div>\n        </div>\n        <ul id="quests-listing" class="listing">\n            \x3c!--Quests will be there--\x3e\n        </ul>\n    </div>\n    \n    <div id="details-block" class="closed">\n        <div id="back-button" class="title-container clickable low-opacity">\n            <div>\n                <span class="text-big-x"><arrow class="arrow left"></arrow>Назад</span>\n            </div>\n        </div>\n        <div class="info-plate">\n            <div class="text-big">Квест:\n                <div class="text-max" id="details-quest-title"></div>\n            </div>\n            <div class="text-big">Ветка:\n                <div class="text-max" id="details-branch-title"></div>\n            </div>\n            <div class="text-big-x">О квесте:\n                <div class="text-middle">\n                <div class="text-middle">\n                    Вы прошли <span id="details-progress"></span> из <span id="details-length"></span>                \n                </div>\n                <br>\n                <div class="text-middle">Описание:</div>\n                <div id="details-quest-description" class="text"></div>\n            </div>\n        </div>\n        <linkButton id="confirm-button" class="text-big-x button rounded outline centered" href="/play">Играть</linkButton>\n    </div>\n    \n    <linkButton class="float-button text-middle" href="/quest-create">\n        <div class="hover-text">Создать квест</div>\n        <svg pointer-events="none" xmlns="http://www.w3.org/2000/svg"><path transform="scale(2.2) translate(-1,-1)" d="M10 3.25c.41 0 .75.34.75.75v5.25H16a.75.75 0 010 1.5h-5.25V16a.75.75 0 01-1.5 0v-5.25H4a.75.75 0 010-1.5h5.25V4c0-.41.34-.75.75-.75z"></path></svg>\n    </linkButton>\n</div>\n';const r=n("quests-listing"),s=n("choose-quest-block"),o=n("details-block"),i=n("details-quest-title"),a=n("details-quest-description"),l=n("details-branch-title"),c=n("details-progress"),u=n("details-length"),d=await t.apiGet("/quest"),h=await d.json();let p,f;r.innerHTML="",h.forEach((e=>{r.innerHTML+=Kt(e)})),r.querySelectorAll("*[data-quest-button]").forEach((e=>{e.addEventListener("click",(async()=>{const n=e.nextElementSibling;if(!$t(n))return e.classList.remove("checked"),void Nt(n);if(e.classList.add("checked"),e.getAttribute("data-gotten"))return void Ht(n);const r=e.getAttribute("data-quest-id"),d=await t.apiGet(`/branch?questId=${r}`),h=await d.json();n.innerHTML="",h.forEach((e=>{n.innerHTML+=Zt(e)})),e.setAttribute("data-gotten","yes"),Ht(n),n.querySelectorAll("*[data-branch-button]").forEach((n=>{n.addEventListener("click",(async d=>{d.stopPropagation();const h=n.getAttribute("data-branch-id");s.classList.add("closed"),o.classList.remove("closed"),p=h,f=r;const m=e.querySelector(".title").innerText.trim(),g=e.querySelector(".info").innerText,v=n.querySelector(".title").innerText.trim();i.innerText=m,a.innerText=g,l.innerText=v,t.storage.questTitle=m,t.storage.branchTitle=v;const k=await t.apiGet(`/branch?branchId=${h}`),b=await k.json();c.innerText=b.progress,u.innerText=b.length}))}))}))})),n("back-button").addEventListener("click",(e=>{s.classList.remove("closed"),o.classList.add("closed")})),n("confirm-button").addEventListener("click",(async()=>{await t.apiPost("/quest/choose",{questId:f,branchId:p})}))}var Yt={exports:{}};!function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var r,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return(s=s.call(e)).next.bind(s);if(Array.isArray(e)||(s=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),r=0,function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function o(e){return u[e]}e.defaults=s();var i=/[&<>"']/,a=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function d(e,t){if(t){if(i.test(e))return e.replace(a,o)}else if(l.test(e))return e.replace(c,o);return e}var h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function p(e){return e.replace(h,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var f=/(^|[^\[])\^/g;function m(e,t){e="string"==typeof e?e:e.source,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(f,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var g=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function k(e,t,n){if(e){try{r=decodeURIComponent(p(n)).replace(g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}var r;t&&!v.test(n)&&(e=n,b[" "+(r=t)]||(w.test(r)?b[" "+r]=r+"/":b[" "+r]=_(r,"/",!0)),t=-1===(r=b[" "+r]).indexOf(":"),n="//"===e.substring(0,2)?t?e:r.replace(B,"$1")+e:"/"===e.charAt(0)?t?e:r.replace(y,"$1")+e:r+e);try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var b={},w=/^[^:]+:\/*[^/]*$/,B=/^([^:]+:)[\s\S]*$/,y=/^([^:]+:\/*[^/]*)[\s\S]*$/,C={exec:function(){}};function x(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function D(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,s=t;0<=--s&&"\\"===n[s];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),0<n.length&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function _(e,t,n){var r=e.length;if(0===r)return"";for(var s=0;s<r;){var o=e.charAt(r-s-1);if(o!==t||n){if(o===t||!n)break;s++}else s++}return e.slice(0,r-s)}function P(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function E(e,t){if(t<1)return"";for(var n="";1<t;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function A(e,t,n,r){var s=t.href,o=(t=t.title?d(t.title):null,e[1].replace(/\\([\[\]])/g,"$1"));return"!"!==e[0].charAt(0)?(r.state.inLink=!0,e={type:"link",raw:n,href:s,title:t,text:o,tokens:r.inlineTokens(o,[])},r.state.inLink=!1,e):{type:"image",raw:n,href:s,title:t,text:d(o)}}var S=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.space=function(e){if((e=this.rules.block.newline.exec(e))&&0<e[0].length)return{type:"space",raw:e[0]}},n.code=function(e){var t;if(e=this.rules.block.code.exec(e))return t=e[0].replace(/^ {1,4}/gm,""),{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:_(t,"\n")}},n.fences=function(e){var t,n;if(e=this.rules.block.fences.exec(e))return n=function(e,t){if(null===(e=e.match(/^(\s+)(?:```)/)))return t;var n=e[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null!==t&&t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(t=e[0],e[3]||""),{type:"code",raw:t,lang:e[2]&&e[2].trim(),text:n}},n.heading=function(e){var t,n;if(e=this.rules.block.heading.exec(e))return t=e[2].trim(),/#$/.test(t)&&(n=_(t,"#"),!this.options.pedantic&&n&&!/ $/.test(n)||(t=n.trim())),n={type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:[]},this.lexer.inline(n.text,n.tokens),n},n.hr=function(e){if(e=this.rules.block.hr.exec(e))return{type:"hr",raw:e[0]}},n.blockquote=function(e){var t;if(e=this.rules.block.blockquote.exec(e))return t=e[0].replace(/^ *>[ \t]?/gm,""),{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(t,[]),text:t}},n.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,s,o,i,a,l,c,u,d,h,p,f=1<(g=t[1].trim()).length,m={type:"list",raw:"",ordered:f,start:f?+g.slice(0,-1):"",loose:!1,items:[]},g=f?"\\d{1,9}\\"+g.slice(-1):"\\"+g;this.options.pedantic&&(g=f?g:"[*+-]");for(var v=new RegExp("^( {0,3}"+g+")((?:[\t ][^\\n]*)?(?:\\n|$))");e&&(p=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0],u=e.split("\n",1)[0],this.options.pedantic?(i=2,h=c.trimLeft()):(i=t[2].search(/[^ ]/),h=c.slice(i=4<i?1:i),i+=t[1].length),a=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),p=!0),!p)for(var k=new RegExp("^ {0,"+Math.min(3,i-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),b=new RegExp("^ {0,"+Math.min(3,i-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),w=new RegExp("^( {0,"+Math.min(3,i-1)+"})(```|~~~)");e&&(c=d=e.split("\n",1)[0],this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!w.test(c))&&!this.rules.block.heading.test(c)&&!k.test(c)&&!b.test(e);){if(c.search(/[^ ]/)>=i||!c.trim())h+="\n"+c.slice(i);else{if(a)break;h+="\n"+c}a||c.trim()||(a=!0),n+=d+"\n",e=e.substring(d.length+1)}m.loose||(l?m.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(h))&&(o="[ ] "!==s[0],h=h.replace(/^\[[ xX]\] +/,"")),m.items.push({type:"list_item",raw:n,task:!!s,checked:o,loose:!1,text:h}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=h.trimRight(),m.raw=m.raw.trimRight();for(var B=m.items.length,y=0;y<B;y++){this.lexer.state.top=!1,m.items[y].tokens=this.lexer.blockTokens(m.items[y].text,[]);var C=m.items[y].tokens.filter((function(e){return"space"===e.type})),x=C.every((function(e){for(var t,n=0,s=r(e.raw.split(""));!(t=s()).done;)if("\n"===t.value&&(n+=1),1<n)return!0;return!1}));!m.loose&&C.length&&x&&(m.loose=!0,m.items[y].loose=!0)}return m}},n.html=function(e){var t;if(e=this.rules.block.html.exec(e))return t={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]},this.options.sanitize&&(t.type="paragraph",t.text=this.options.sanitizer?this.options.sanitizer(e[0]):d(e[0]),t.tokens=[],this.lexer.inline(t.text,t.tokens)),t},n.def=function(e){if(e=this.rules.block.def.exec(e))return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},n.table=function(e){if(e=this.rules.block.table.exec(e)){var t={type:"table",header:D(e[1]).map((function(e){return{text:e}})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];for(var n,r,s,o=t.align.length,i=0;i<o;i++)/^ *-+: *$/.test(t.align[i])?t.align[i]="right":/^ *:-+: *$/.test(t.align[i])?t.align[i]="center":/^ *:-+ *$/.test(t.align[i])?t.align[i]="left":t.align[i]=null;for(o=t.rows.length,i=0;i<o;i++)t.rows[i]=D(t.rows[i],t.header.length).map((function(e){return{text:e}}));for(o=t.header.length,n=0;n<o;n++)t.header[n].tokens=[],this.lexer.inline(t.header[n].text,t.header[n].tokens);for(o=t.rows.length,n=0;n<o;n++)for(s=t.rows[n],r=0;r<s.length;r++)s[r].tokens=[],this.lexer.inline(s[r].text,s[r].tokens);return t}}},n.lheading=function(e){if(e=this.rules.block.lheading.exec(e))return e={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]},this.lexer.inline(e.text,e.tokens),e},n.paragraph=function(e){if(e=this.rules.block.paragraph.exec(e))return e={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]},this.lexer.inline(e.text,e.tokens),e},n.text=function(e){if(e=this.rules.block.text.exec(e))return e={type:"text",raw:e[0],text:e[0],tokens:[]},this.lexer.inline(e.text,e.tokens),e},n.escape=function(e){if(e=this.rules.inline.escape.exec(e))return{type:"escape",raw:e[0],text:d(e[1])}},n.tag=function(e){if(e=this.rules.inline.tag.exec(e))return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):d(e[0]):e[0]}},n.link=function(e){if(e=this.rules.inline.link.exec(e)){var t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;var n=_(t.slice(0,-1),"\\");if((t.length-n.length)%2==0)return}else n=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,s=0;s<n;s++)if("\\"===e[s])s++;else if(e[s]===t[0])r++;else if(e[s]===t[1]&&--r<0)return s;return-1}(e[2],"()"),-1<n&&(s=(0===e[0].indexOf("!")?5:4)+e[1].length+n,e[2]=e[2].substring(0,n),e[0]=e[0].substring(0,s).trim(),e[3]="");n=e[2];var r,s="";return this.options.pedantic?(r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n))&&(n=r[1],s=r[3]):s=e[3]?e[3].slice(1,-1):"",n=n.trim(),A(e,{href:(n=/^</.test(n)?this.options.pedantic&&!/>$/.test(t)?n.slice(1):n.slice(1,-1):n)&&n.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}},n.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e)))return(e=t[(e=(n[2]||n[1]).replace(/\s+/g," ")).toLowerCase()])&&e.href?A(n,e,n[0],this.lexer):{type:"text",raw:t=n[0].charAt(0),text:t}},n.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))&&(!r[1]&&!r[2]||""===n||this.rules.inline.punctuation.exec(n))){var s=r[0].length-1,o=s,i=0,a="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(a.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=a.exec(t));)if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(l=l.length,r[3]||r[4])o+=l;else if((r[5]||r[6])&&s%3&&!((s+l)%3))i+=l;else if(!(0<(o-=l))){var l=Math.min(l,l+o+i);if(Math.min(s,l)%2)return c=e.slice(1,s+r.index+l),{type:"em",raw:e.slice(0,s+r.index+l+1),text:c,tokens:this.lexer.inlineTokens(c,[])};var c=e.slice(2,s+r.index+l-1);return{type:"strong",raw:e.slice(0,s+r.index+l+1),text:c,tokens:this.lexer.inlineTokens(c,[])}}}},n.codespan=function(e){var t,n,r;if(e=this.rules.inline.code.exec(e))return r=e[2].replace(/\n/g," "),t=/[^ ]/.test(r),n=/^ /.test(r)&&/ $/.test(r),r=d(r=t&&n?r.substring(1,r.length-1):r,!0),{type:"codespan",raw:e[0],text:r}},n.br=function(e){if(e=this.rules.inline.br.exec(e))return{type:"br",raw:e[0]}},n.del=function(e){if(e=this.rules.inline.del.exec(e))return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}},n.autolink=function(e,t){var n;if(e=this.rules.inline.autolink.exec(e))return t="@"===e[2]?"mailto:"+(n=d(this.options.mangle?t(e[1]):e[1])):n=d(e[1]),{type:"link",raw:e[0],text:n,href:t,tokens:[{type:"text",raw:n,text:n}]}},n.url=function(e,t){var n,r,s,o;if(n=this.rules.inline.url.exec(e)){if("@"===n[2])s="mailto:"+(r=d(this.options.mangle?t(n[0]):n[0]));else{for(;o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0],o!==n[0];);r=d(n[0]),s="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}},n.inlineText=function(e,t){if(e=this.rules.inline.text.exec(e))return t=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):d(e[0]):e[0]:d(this.options.smartypants?t(e[0]):e[0]),{type:"text",raw:e[0],text:t}},t}(),L={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:C,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/},F=(L.def=m(L.def).replace("label",L._label).replace("title",L._title).getRegex(),L.bullet=/(?:[*+-]|\d{1,9}[.)])/,L.listItemStart=m(/^( *)(bull) */).replace("bull",L.bullet).getRegex(),L.list=m(L.list).replace(/bull/g,L.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+L.def.source+")").getRegex(),L._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",L._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,L.html=m(L.html,"i").replace("comment",L._comment).replace("tag",L._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),L.paragraph=m(L._paragraph).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex(),L.blockquote=m(L.blockquote).replace("paragraph",L.paragraph).getRegex(),L.normal=x({},L),L.gfm=x({},L.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),L.gfm.table=m(L.gfm.table).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex(),L.gfm.paragraph=m(L._paragraph).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",L.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex(),L.pedantic=x({},L.normal,{html:m("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",L._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,paragraph:m(L.normal._paragraph).replace("hr",L.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",L.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),{escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:C,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:C,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/});function M(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function I(e){for(var t,n="",r=e.length,s=0;s<r;s++)t=e.charCodeAt(s),n+="&#"+(t=.5<Math.random()?"x"+t.toString(16):t)+";";return n}F._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",F.punctuation=m(F.punctuation).replace(/punctuation/g,F._punctuation).getRegex(),F.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,F.escapedEmSt=/\\\*|\\_/g,F._comment=m(L._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),F.emStrong.lDelim=m(F.emStrong.lDelim).replace(/punct/g,F._punctuation).getRegex(),F.emStrong.rDelimAst=m(F.emStrong.rDelimAst,"g").replace(/punct/g,F._punctuation).getRegex(),F.emStrong.rDelimUnd=m(F.emStrong.rDelimUnd,"g").replace(/punct/g,F._punctuation).getRegex(),F._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,F._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,F._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,F.autolink=m(F.autolink).replace("scheme",F._scheme).replace("email",F._email).getRegex(),F._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,F.tag=m(F.tag).replace("comment",F._comment).replace("attribute",F._attribute).getRegex(),F._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,F._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,F._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,F.link=m(F.link).replace("label",F._label).replace("href",F._href).replace("title",F._title).getRegex(),F.reflink=m(F.reflink).replace("label",F._label).replace("ref",L._label).getRegex(),F.nolink=m(F.nolink).replace("ref",L._label).getRegex(),F.reflinkSearch=m(F.reflinkSearch,"g").replace("reflink",F.reflink).replace("nolink",F.nolink).getRegex(),F.normal=x({},F),F.pedantic=x({},F.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",F._label).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",F._label).getRegex()}),F.gfm=x({},F.normal,{escape:m(F.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),F.gfm.url=m(F.gfm.url,"i").replace("email",F.gfm._extended_email).getRegex(),F.breaks=x({},F.gfm,{br:m(F.br).replace("{2,}","*").getRegex(),text:m(F.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var q=function(){function n(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new S,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,(this.tokenizer.lexer=this).inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0},t={block:L.normal,inline:F.normal},this.options.pedantic?(t.block=L.pedantic,t.inline=F.pedantic):this.options.gfm&&(t.block=L.gfm,this.options.breaks?t.inline=F.breaks:t.inline=F.gfm),this.tokenizer.rules=t}n.lex=function(e,t){return new n(t).lex(e)},n.lexInline=function(e,t){return new n(t).inlineTokens(e)};var r,s,o=n.prototype;return o.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},o.blockTokens=function(e,t){var n,r,s,o,i=this;for(void 0===t&&(t=[]),e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,n){return t+"    ".repeat(n.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(r){return!!(n=r.call({lexer:i},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&0<t.length?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else if(s=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),r=void 0;i.options.extensions.startBlock.forEach((function(e){"number"==typeof(r=e.call({lexer:this},n))&&0<=r&&(t=Math.min(t,r))})),t<1/0&&0<=t&&(s=e.substring(0,t+1))}(),this.state.top&&(n=this.tokenizer.paragraph(s)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=s.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return this.state.top=!0,t},o.inline=function(e,t){this.inlineQueue.push({src:e,tokens:t})},o.inlineTokens=function(e,t){var n,r,s,o,i,a,l=this,c=(void 0===t&&(t=[]),e);if(this.tokens.links){var u=Object.keys(this.tokens.links);if(0<u.length)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,o.index)+"["+E("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,o.index)+"["+E("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,o.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(i||(a=""),i=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(r){return!!(n=r.call({lexer:l},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,I))e=e.substring(n.raw.length),t.push(n);else if(!this.state.inLink&&(n=this.tokenizer.url(e,I)))e=e.substring(n.raw.length),t.push(n);else if(s=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),r=void 0;l.options.extensions.startInline.forEach((function(e){"number"==typeof(r=e.call({lexer:this},n))&&0<=r&&(t=Math.min(t,r))})),t<1/0&&0<=t&&(s=e.substring(0,t+1))}(),n=this.tokenizer.inlineText(s,M))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),i=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}return t},o=n,s=[{key:"rules",get:function(){return{block:L,inline:F}}}],(r=null)&&t(o.prototype,r),s&&t(o,s),Object.defineProperty(o,"prototype",{writable:!1}),n}(),O=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.code=function(e,t,n){var r;return t=(t||"").match(/\S*/)[0],this.options.highlight&&null!=(r=this.options.highlight(e,t))&&r!==e&&(n=!0,e=r),e=e.replace(/\n$/,"")+"\n",t?'<pre><code class="'+this.options.langPrefix+d(t,!0)+'">'+(n?e:d(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:d(e,!0))+"</code></pre>\n"},n.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.html=function(e){return e},n.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+(this.options.headerPrefix+r.slug(n))+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},n.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},n.listitem=function(e){return"<li>"+e+"</li>\n"},n.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(e){return"<p>"+e+"</p>\n"},n.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},n.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},n.strong=function(e){return"<strong>"+e+"</strong>"},n.em=function(e){return"<em>"+e+"</em>"},n.codespan=function(e){return"<code>"+e+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(e){return"<del>"+e+"</del>"},n.link=function(e,t,n){return null===(e=k(this.options.sanitize,this.options.baseUrl,e))?n:(e='<a href="'+d(e)+'"',t&&(e+=' title="'+t+'"'),e+">"+n+"</a>")},n.image=function(e,t,n){return null===(e=k(this.options.sanitize,this.options.baseUrl,e))?n:(e='<img src="'+e+'" alt="'+n+'"',t&&(e+=' title="'+t+'"'),e+(this.options.xhtml?"/>":">"))},n.text=function(e){return e},t}(),T=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),R=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n))for(r=this.seen[e];n=e+"-"+ ++r,this.seen.hasOwnProperty(n););return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){return void 0===t&&(t={}),e=this.serialize(e),this.getNextSafeSlug(e,t.dryrun)},e}(),$=function(){function t(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new O,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new T,this.slugger=new R}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var n=t.prototype;return n.parse=function(e,t){void 0===t&&(t=!0);for(var n,r,s,o,i,a,l,c,u,d,h,f,m,g,v,k,b="",w=e.length,B=0;B<w;B++)if(c=e[B],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type]&&(!1!==(k=this.options.extensions.renderers[c.type].call({parser:this},c))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)))b+=k||"";else switch(c.type){case"space":continue;case"hr":b+=this.renderer.hr();continue;case"heading":b+=this.renderer.heading(this.parseInline(c.tokens),c.depth,p(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":b+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(a=u="",s=c.header.length,n=0;n<s;n++)a+=this.renderer.tablecell(this.parseInline(c.header[n].tokens),{header:!0,align:c.align[n]});for(u+=this.renderer.tablerow(a),l="",s=c.rows.length,n=0;n<s;n++){for(a="",o=(i=c.rows[n]).length,r=0;r<o;r++)a+=this.renderer.tablecell(this.parseInline(i[r].tokens),{header:!1,align:c.align[r]});l+=this.renderer.tablerow(a)}b+=this.renderer.table(u,l);continue;case"blockquote":l=this.parse(c.tokens),b+=this.renderer.blockquote(l);continue;case"list":for(u=c.ordered,y=c.start,d=c.loose,s=c.items.length,l="",n=0;n<s;n++)m=(f=c.items[n]).checked,g=f.task,h="",f.task&&(v=this.renderer.checkbox(m),d?0<f.tokens.length&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&0<f.tokens[0].tokens.length&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v}):h+=v),h+=this.parse(f.tokens,d),l+=this.renderer.listitem(h,g,m);b+=this.renderer.list(l,u,y);continue;case"html":b+=this.renderer.html(c.text);continue;case"paragraph":b+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(l=c.tokens?this.parseInline(c.tokens):c.text;B+1<w&&"text"===e[B+1].type;)l+="\n"+((c=e[++B]).tokens?this.parseInline(c.tokens):c.text);b+=t?this.renderer.paragraph(l):l;continue;default:var y='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(y);throw new Error(y)}return b},n.parseInline=function(e,t){t=t||this.renderer;for(var n,r,s="",o=e.length,i=0;i<o;i++)if(n=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]&&(!1!==(r=this.options.extensions.renderers[n.type].call({parser:this},n))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)))s+=r||"";else switch(n.type){case"escape":case"text":s+=t.text(n.text);break;case"html":s+=t.html(n.text);break;case"link":s+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":s+=t.image(n.href,n.title,n.text);break;case"strong":s+=t.strong(this.parseInline(n.tokens,t));break;case"em":s+=t.em(this.parseInline(n.tokens,t));break;case"codespan":s+=t.codespan(n.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(n.tokens,t));break;default:var a='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}return s},t}();function N(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),P(t=x({},N.defaults,t||{})),n){var r,s=t.highlight;try{r=q.lex(e,t)}catch(e){return n(e)}var o=function(e){var o;if(!e)try{t.walkTokens&&N.walkTokens(r,t.walkTokens),o=$.parse(r,t)}catch(o){e=o}return t.highlight=s,e?n(e):n(null,o)};if(!s||s.length<3)return o();if(delete t.highlight,!r.length)return o();var i=0;return N.walkTokens(r,(function(e){"code"===e.type&&(i++,setTimeout((function(){s(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--i&&o()}))}),0))})),void(0===i&&o())}try{var a=q.lex(e,t);return t.walkTokens&&N.walkTokens(a,t.walkTokens),$.parse(a,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+d(e.message+"",!0)+"</pre>";throw e}}N.options=N.setOptions=function(t){return x(N.defaults,t),t=N.defaults,e.defaults=t,N},N.getDefaults=s,N.defaults=e.defaults,N.use=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s=x.apply(void 0,[{}].concat(t)),o=N.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(e){if(e.extensions&&(r=!0,e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");var t;if(e.renderer&&(t=o.renderers?o.renderers[e.name]:null,o.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var o=e.renderer.apply(this,r);return!1===o?t.apply(this,r):o}:e.renderer),e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");o[e.level]?o[e.level].unshift(e.tokenizer):o[e.level]=[e.tokenizer],e.start&&("block"===e.level?o.startBlock?o.startBlock.push(e.start):o.startBlock=[e.start]:"inline"===e.level&&(o.startInline?o.startInline.push(e.start):o.startInline=[e.start]))}e.childTokens&&(o.childTokens[e.name]=e.childTokens)}))),e.renderer){var t,n=N.defaults.renderer||new O;for(t in e.renderer)!function(t){var r=n[t];n[t]=function(){for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];var a=e.renderer[t].apply(n,o);return!1===a?r.apply(n,o):a}}(t);s.renderer=n}if(e.tokenizer){var i,a=N.defaults.tokenizer||new S;for(i in e.tokenizer)!function(t){var n=a[t];a[t]=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var i=e.tokenizer[t].apply(a,s);return!1===i?n.apply(a,s):i}}(i);s.tokenizer=a}var l;e.walkTokens&&(l=N.defaults.walkTokens,s.walkTokens=function(t){e.walkTokens.call(this,t),l&&l.call(this,t)}),r&&(s.extensions=o),N.setOptions(s)}))},N.walkTokens=function(e,t){for(var n,s=r(e);!(n=s()).done;)!function(){var e=n.value;switch(t.call(N,e),e.type){case"table":for(var s=r(e.header);!(o=s()).done;){var o=o.value;N.walkTokens(o.tokens,t)}for(var i,a=r(e.rows);!(i=a()).done;)for(var l=r(i.value);!(c=l()).done;){var c=c.value;N.walkTokens(c.tokens,t)}break;case"list":N.walkTokens(e.items,t);break;default:N.defaults.extensions&&N.defaults.extensions.childTokens&&N.defaults.extensions.childTokens[e.type]?N.defaults.extensions.childTokens[e.type].forEach((function(n){N.walkTokens(e[n],t)})):e.tokens&&N.walkTokens(e.tokens,t)}}()},N.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");P(t=x({},N.defaults,t||{}));try{var n=q.lexInline(e,t);return t.walkTokens&&N.walkTokens(n,t.walkTokens),$.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+d(e.message+"",!0)+"</pre>";throw e}},N.Parser=$,N.parser=$.parse,N.Renderer=O,N.TextRenderer=T,N.Lexer=q,N.lexer=q.lex,N.Tokenizer=S,N.Slugger=R,C=(N.parse=N).options;var H=N.setOptions,z=N.use,j=N.walkTokens,U=N.parseInline,V=N,G=$.parse,W=q.lex;e.Lexer=q,e.Parser=$,e.Renderer=O,e.Slugger=R,e.TextRenderer=T,e.Tokenizer=S,e.getDefaults=s,e.lexer=W,e.marked=N,e.options=C,e.parse=V,e.parseInline=U,e.parser=G,e.setOptions=H,e.use=z,e.walkTokens=j,Object.defineProperty(e,"__esModule",{value:!0})}(Yt.exports);var en=new function(){var e={A:!0,ABBR:!0,B:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CENTER:!0,CODE:!0,DD:!0,DIV:!0,DL:!0,DT:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IMG:!0,LABEL:!0,LI:!0,OL:!0,P:!0,PRE:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRONG:!0,SUB:!0,SUP:!0,TABLE:!0,TBODY:!0,TR:!0,TD:!0,TH:!0,THEAD:!0,UL:!0,U:!0,VIDEO:!0},t={FORM:!0,"GOOGLE-SHEETS-HTML-ORIGIN":!0},n={align:!0,color:!0,controls:!0,height:!0,href:!0,id:!0,src:!0,style:!0,target:!0,title:!0,type:!0,width:!0},r={"background-color":!0,color:!0,"font-size":!0,"font-weight":!0,"text-align":!0,"text-decoration":!0,width:!0},o=["http:","https:","data:","m-files:","file:","ftp:","mailto:","pw:"],i={href:!0,action:!0};function a(e,t){for(var n=0;n<t.length;n++)if(0==e.indexOf(t[n]))return!0;return!1}this.SanitizeHtml=function(l,c,u){if(c=c&&c instanceof Array?c:[],u=u&&u instanceof Array?u:[],""==(l=l.trim()))return"";if("<br>"==l)return"";var d=document.createElement("iframe");if(void 0===d.sandbox)return alert("Your browser does not support sandboxed iframes. Please upgrade to a modern browser."),"";d.sandbox="allow-same-origin",d.style.display="none",document.body.appendChild(d);var h=d.contentDocument||d.contentWindow.document;null==h.body&&h.write("<body></body>"),h.body.innerHTML=l;var p=function l(d){if(d.nodeType==Node.TEXT_NODE)var p=d.cloneNode(!0);else if(d.nodeType==Node.ELEMENT_NODE&&(e[d.tagName]||t[d.tagName]||c.indexOf(d.tagName)>-1)){if(("SPAN"==d.tagName||"B"==d.tagName||"I"==d.tagName||"U"==d.tagName)&&""==d.innerHTML.trim())return document.createDocumentFragment();p=t[d.tagName]?h.createElement("DIV"):h.createElement(d.tagName);for(var f=0;f<d.attributes.length;f++){var m=d.attributes[f];if(n[m.name]||u.indexOf(m.name)>-1)if("style"==m.name)for(s=0;s<d.style.length;s++){var g=d.style[s];r[g]&&p.style.setProperty(g,d.style.getPropertyValue(g))}else{if(i[m.name]&&m.value.indexOf(":")>-1&&!a(m.value,o))continue;p.setAttribute(m.name,m.value)}}for(f=0;f<d.childNodes.length;f++){var v=l(d.childNodes[f]);p.appendChild(v,!1)}}else p=document.createDocumentFragment();return p}(h.body);return document.body.removeChild(d),p.innerHTML.replace(/<br[^>]*>(\S)/g,"<br>\n$1").replace(/div><div/g,"div>\n<div")},this.AllowedTags=e,this.AllowedAttributes=n,this.AllowedCssStyles=r,this.AllowedSchemas=o};class tn{constructor(e,t,n,r,s){this._legacyCanvasSize=tn.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&"object"==typeof n?this._onDecode=t:(n||r||s?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t="object"==typeof n?n:{},this._onDecodeError=t.onDecodeError||("function"==typeof n?n:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||("function"==typeof r?r:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize="number"==typeof n?n:"number"==typeof r?r:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let o=!1;if(e.hidden&&(e.hidden=!1,o=!0),document.body.contains(e)||(document.body.appendChild(e),o=!0),n=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(r=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),(s=this.$overlay.style).position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!r&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(e){}n.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame((()=>{let t=window.getComputedStyle(e);"none"===t.display&&(e.style.setProperty("display","block","important"),o=!0),"visible"!==t.visibility&&(e.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()})),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=tn.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await tn.listCameras(!1)).length}catch(e){return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t,n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind));try{e&&(await n()).every((e=>!e.label))&&(t=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(e){}try{return(await n()).map(((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":`Camera ${t+1}`)})))}finally{t&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),tn._stopVideoStream(t))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),tn._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),tn._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?tn._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch((()=>{}))))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(tn._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise((e=>setTimeout(e,300))),!!this._paused&&(t(),!0))}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,n,r,s=!1,o=!1){let i,a=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(i=t.scanRegion,n=t.qrEngine,r=t.canvas,s=t.disallowCanvasResizing||!1,o=t.alsoTryWithoutScanRegion||!1,a=!0):t||n||r||s||o?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!n;try{let l,c,u;if([n,l]=await Promise.all([n||tn.createQrEngine(),tn._loadImage(e)]),[r,c]=tn._drawToCanvas(l,i,r,s),n instanceof Worker){let e=n;t||tn._postWorkerMessageSync(e,"inversionMode","both"),u=await new Promise(((t,n)=>{let s,o,a,l=-1;o=r=>{r.data.id===l&&(e.removeEventListener("message",o),e.removeEventListener("error",a),clearTimeout(s),null!==r.data.data?t({data:r.data.data,cornerPoints:tn._convertPoints(r.data.cornerPoints,i)}):n(tn.NO_QR_CODE_FOUND))},a=t=>{e.removeEventListener("message",o),e.removeEventListener("error",a),clearTimeout(s),n("Scanner error: "+(t?t.message||t:"Unknown Error"))},e.addEventListener("message",o),e.addEventListener("error",a),s=setTimeout((()=>a("timeout")),1e4);let u=c.getImageData(0,0,r.width,r.height);l=tn._postWorkerMessageSync(e,"decode",u,[u.data.buffer])}))}else u=await Promise.race([new Promise(((e,t)=>window.setTimeout((()=>t("Scanner error: timeout")),1e4))),(async()=>{try{var[t]=await n.detect(r);if(!t)throw tn.NO_QR_CODE_FOUND;return{data:t.rawValue,cornerPoints:tn._convertPoints(t.cornerPoints,i)}}catch(n){if(t=n.message||n,/not implemented|service unavailable/.test(t))return tn._disableBarcodeDetector=!0,tn.scanImage(e,{scanRegion:i,canvas:r,disallowCanvasResizing:s,alsoTryWithoutScanRegion:o});throw`Scanner error: ${t}`}})()]);return a?u:u.data}catch(t){if(!i||!o)throw t;let l=await tn.scanImage(e,{qrEngine:n,canvas:r,disallowCanvasResizing:s});return a?l:l.data}finally{t||tn._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,t,n,r=!0){tn._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:n,useIntegerApproximation:r})}setInversionMode(e){tn._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){return e&&console.warn("Specifying a worker path is not required and not supported anymore."),!tn._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):Promise.resolve().then((function(){return nr})).then((e=>e.createWorker()))}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame((()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,n=e.videoHeight,r=e.offsetWidth,s=e.offsetHeight,o=e.offsetLeft,i=e.offsetTop,a=window.getComputedStyle(e),l=a.objectFit,c=t/n,u=r/s;switch(l){case"none":var d=t,h=n;break;case"fill":d=r,h=s;break;default:("cover"===l?c>u:c<u)?d=(h=s)*c:h=(d=r)/c,"scale-down"===l&&(d=Math.min(d,t),h=Math.min(h,n))}var[p,f]=a.objectPosition.split(" ").map(((e,t)=>{const n=parseFloat(e);return e.endsWith("%")?(t?s-h:r-d)*n/100:n}));a=this._scanRegion.width||t,u=this._scanRegion.height||n,l=this._scanRegion.x||0;var m=this._scanRegion.y||0;(c=this.$overlay.style).width=a/t*d+"px",c.height=u/n*h+"px",c.top=`${i+f+m/n*h}px`,n=/scaleX\(-1\)/.test(e.style.transform),c.left=`${o+(n?r-p-d:p)+(n?t-l-a:l)/t*d}px`,c.transform=e.style.transform}}))}static _convertPoints(e,t){if(!t)return e;let n=t.x||0,r=t.y||0,s=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let o of e)o.x=o.x*s+n,o.y=o.y*t+r;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise((n=>setTimeout(n,t-e))),this._lastScanTimestamp=Date.now();try{var n=await tn.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(e){if(!this._active)return;this._onDecodeError(e)}!tn._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=tn.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map((({x:e,y:t})=>`${e},${t}`)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout((()=>this.$codeOutlineHighlight.style.display="none"),100))}this._scanFrame()}))}_onDecodeError(e){e!==tn.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],n=t.map((t=>Object.assign({},t,{[e]:{exact:this._preferredCamera}})));for(let e of[...n,...t])try{let t=await navigator.mediaDevices.getUserMedia({video:e,audio:!1});return{stream:t,facingMode:this._getFacingMode(t)||(e.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")}}catch(e){}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,n,r=!1){n=n||document.createElement("canvas");let s=t&&t.x?t.x:0,o=t&&t.y?t.y:0,i=t&&t.width?t.width:e.videoWidth||e.width,a=t&&t.height?t.height:e.videoHeight||e.height;return r||(r=t&&t.downScaledWidth?t.downScaledWidth:i,t=t&&t.downScaledHeight?t.downScaledHeight:a,n.width!==r&&(n.width=r),n.height!==t&&(n.height=t)),(t=n.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,s,o,i,a,0,0,n.width,n.height),[n,t]}static async _loadImage(e){if(e instanceof Image)return await tn._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(!(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e))throw"Unsupported image type.";{let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await tn._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}}static async _awaitImageLoad(e){e.complete&&0!==e.naturalWidth||await new Promise(((t,n)=>{let r=s=>{e.removeEventListener("load",r),e.removeEventListener("error",r),s instanceof ErrorEvent?n("Image load error"):t()};e.addEventListener("load",r),e.addEventListener("error",r)}))}static async _postWorkerMessage(e,t,n,r){return tn._postWorkerMessageSync(await e,t,n,r)}static _postWorkerMessageSync(e,t,n,r){if(!(e instanceof Worker))return-1;let s=tn._workerMessageId++;return e.postMessage({id:s,type:t,data:n},r),s}}tn.DEFAULT_CANVAS_SIZE=400,tn.NO_QR_CODE_FOUND="No QR code found",tn._disableBarcodeDetector=!1,tn._workerMessageId=0;async function nn(e,t){e.innerHTML='\n<div id="back-button" class="title-container bg">\n    <div>\n        <div class="text">Квест: <span id="quest-title"></span></div>\n        <div class="text">Ветка: <span id="branch-title"></span></div>\n        <div id="task-title" class="text-big-x"></div>\n    </div>\n</div>\n\n<div id="task-description" class="text flex-filler"></div>\n\n<form id="form-answer" class="form centered-horizontal">\n    <div class="info-container">\n        <div id="task-question" class="text-big"></div>\n    </div>\n    \n    <div class="fields-container">\n        <div id="form-answer-fields">\n            <div class="info" id="answer-error"></div>\n            <input id="answer-input" type="text" placeholder="Ответ" autocomplete="off">\n            <div class="info text-small">Регистр не важен</div>\n        </div>\n    </div>\n    \n    <div class="submit-container">\n        <input type="submit" value="Ответить">\n    </div>\n</form>\n\n<form id="qr-answer" class="form centered-horizontal hidden">\n    <video id="qr-code-scanner" class="roll-active closed"></video>\n    <div id="qr-code-fields">\n        <div class="text-middle">Отсканировано: <span id="qr-code-text"></span></div>\n        <div class="info text-small">\n            Как только ты отсканируешь правильный QR-код, ты пройдёшь это задание           \n        </div>\n    </div>\n    <div class="flex-string">\n        <input id="qr-scan-button" type="button" value="Сканировать">\n    </div>\n</form>\n\n<div id="end-buttons" class="centered-horizontal text-max fullwidth hidden">\n    Вы прошли ветку!\n    <div class="title-container clickable">\n        <div id="restart-button">\n            <div>\n                <div class="text-big-x">Начать заново</div>\n                <div class="text">Прогресс сохранится</div>\n            </div>\n        </div>\n        <linkButton href="/quests">\n            <div>\n                <div class="text-big-x">Завершить квест</div>\n            </div>\n        </linkButton>\n    </div>\n</div>\n\n\n<footer class="underbar-contacts" id="underbar-contacts">\n    <li>\n        <span class="title">За подсказками:</span>\n        <a href="https://vk.com/squest_studio" class="description" target="_blank">vk.com/squest_studio</a>\n    </li>\n</footer>\n';const r=n("form-answer"),s=n("qr-answer"),o=n("form-answer-fields"),a=n("quest-title"),l=n("branch-title"),c=n("progress"),u=n("progressbar");n("qr-code-fields");const d=n("qr-scan-button"),h=n("qr-code-text"),p=n("qr-code-scanner"),f=n("task-title"),m=n("task-description"),g=n("task-question"),v=n("answer-input"),k=n("end-buttons"),b=n("restart-button");let w,B=await t.apiGet("/task/play"),y=await B.json();switch(B.status){case 200:a.innerHTML=y.questtitle,l.innerHTML=y.branchtitle,c.innerText=y.progress,u.style.setProperty("--progress",String(y.progress/y.length)),f.innerHTML=y.title,en.AllowedTags.AUDIO=!0,en.AllowedTags.S=!0,m.innerHTML=en.SanitizeHtml(Yt.exports.marked.parse(y.description,{breaks:!0})),g.innerHTML=y.question,void 0===y.question&&(Rt(r),Tt(k)),y.isqranswer&&(!function(e){Rt(e,"hidden")}(r),Tt(s));break;case 400:return void t.goto("/quests");default:t.messages.error(`Ошибка ${B.status}!`,y.info)}async function C(e,n=(()=>{}),r=(()=>{})){switch(B=await t.apiPost("/task/play",{answer:e}),y=await B.json(),B.status){case 200:await n(),t.goto("/play");break;case 418:await r(418),i([o],"error");break;default:await r(null),t.messages.error(`Ошибка ${B.status}!`,y.info)}}r.addEventListener("submit",(async e=>{e.preventDefault();const t=v.value.trim();await C(t)})),b.addEventListener("click",(async()=>{await t.modal.confirm("Точно начинаем заново?","Рейтинг останется")&&(await t.apiPut("/branch/progress/reset",{branchId:t.storage.branchId}),t.goto("/play"))}));const x=new tn(p,(async e=>{const n=e.data;n!==w&&(w=n,h.innerText=w,await C(w,(()=>{t.messages.success("Правильно","QR отсканирован"),x.destroy()}),(e=>{418===e?t.messages.error("Неверно","QR не тот"):t.messages.error("Ошибка","Неизвестная ошибка")})))}),{highlightScanRegion:!0});let D=!1;d.addEventListener("click",(()=>{if(!D)return x.start().then((()=>{}),(e=>{t.modal.alert("Не предоставлены права доступа к камере","Настройте доступ к камере для этого сайта в браузере")})),Ht(p),d.value="Пока хватит",void(D=!0);x.stop(),Nt(p),d.value="Сканировать дальше",D=!1}))}const rn=Mt.compile('\n<li data-user-id="{{ id }}" class="text-big">\n    <span>\n        {{ name }}\n        <span class="text info">{{ rating }}</span>\n    </span>\n    <span class="text choose">Профиль<arrow class="arrow right"></arrow></span>\n</li>\n');async function sn(e,t){e.innerHTML='\n<div class="rating-page">\n    <div id="back-button" class="title-container clickable low-opacity">\n        <linkButton href="/me">\n            <arrow class="arrow left"></arrow>\n            <span class="text-big-x lighting-text">В профиль</span>\n        </linkButton>\n    </div>\n    \n    <ul id="rating-listing" class="listing">\n        \x3c!--Users will be there--\x3e\n    </ul>\n</div>\n\n<div class="float-button text-middle">\n    <div class="hover-text">Трахнуть кого-нибудь</div>\n    <svg pointer-events="none" xmlns="http://www.w3.org/2000/svg"><path transform="scale(2.2) translate(-1,-1)" d="M10 3.25c.41 0 .75.34.75.75v5.25H16a.75.75 0 010 1.5h-5.25V16a.75.75 0 01-1.5 0v-5.25H4a.75.75 0 010-1.5h5.25V4c0-.41.34-.75.75-.75z"></path></svg>\n</div>\n';const r=n("rating-listing"),s=await t.apiGet("/rating"),o=await s.json();r.innerHTML="",o.forEach((e=>{r.innerHTML+=rn(e)}))}const on=["image/png","image/jpeg","image/bmp"],an=async(e=256,t=on,n=5)=>{const r=t=>new Promise(((r,s)=>{let o;try{o=(e=>{if(1!==e.files.length)throw new Error("Wrong amount of files!");const t=e.files[0],r=t.type.split("/");if(0===r.length||"image"!==r[0])throw new Error("File is not an image!");if(t.size/1048576>n)throw new Error("File is bigger than allowed!");return t})(t)}catch(e){return void s(e)}const i=new FileReader;i.addEventListener("load",(t=>{const n=t.target.result;if(!e)return void r(n);const s=new Image;s.addEventListener("load",(()=>{const t=Math.min(s.width,s.height),{canvas:n,ctx:o}=((e,t)=>{const n=document.createElement("canvas");n.width=e,n.height=t,n.style.display="none",document.body.appendChild(n);const r=n.getContext("2d");return{canvas:n,ctx:r}})(e,e);o.drawImage(s,0,0,t,t,0,0,n.width,n.height);const i=n.toDataURL();n.remove(),r(i)})),s.src=n})),i.addEventListener("error",(e=>{s(new Error("Unable to read file!"))})),i.readAsDataURL(o)}));return new Promise(((e,n)=>{(e=>{let n=!0,r=document.getElementById("filesImageInput");return null===r&&(n=!1,r=document.createElement("input")),r.id="filesImageInput",r.type="file",r.accept=t.join(", "),r.addEventListener("change",e),r.style.display="none",n||document.body.appendChild(r),r})((async({target:t})=>{try{const n=await r(t);e(n)}catch(e){t.remove(),n(e)}})).click()}))};function ln(e,t,n=""){const r=e.selectionStart,s=e.selectionEnd;if(r===s)return;const o=t+e.value.substr(r,s-r)+n;e.value=e.value.substr(0,r)+o+e.value.substr(s),e.dispatchEvent(new Event("input")),e.focus()}function cn(e,t,n=""){let r=e.selectionStart,s=e.selectionEnd;r=e.value.substr(0,r).lastIndexOf("\n")+1,-1===r&&(r=0);const o=e.value.substr(s).indexOf("\n");-1===o?s=e.value.length:s+=o;const i=t+e.value.substring(r,s).replaceAll(/\n/g,n+"\n"+t)+n;e.value=e.value.substr(0,r)+i+e.value.substr(s),e.dispatchEvent(new Event("input")),e.focus()}async function un(e,t){e.innerHTML='\n<div class="title-container clickable low-opacity">\n    <linkButton href="/me">\n        <arrow class="arrow left"></arrow>\n        <span>\n            <div class="text-big-x lighting-text">В профиль</div>\n            <div class="text">Это когда всё разрулил и можно отдохнуть</div>\n        </span>\n    </linkButton>\n</div>\n\n<div id="data-edit-form" class="form">\n    <div class="info-container">\n        <div class="text-max">Админская страничка</div>\n    </div>\n    \n    <div class="fields-container">\n        <div id="sql-fields">\n            <label class="text-big">Выполнить SQL</label>\n            <div class="info text-small">Вот сейчас спокойно, дыши, без DROP, DELETE и TRUNCATE, пожалуйста</div>\n            <textarea id="sql-input" rows=8 class="text scrollable"></textarea>\n            <label class="text-big">Результат</label>\n            <textarea id="sql-result-input" rows=4 class="text scrollable"></textarea>\n            <input id="sql-execute-button" type="submit" value="Выполнить">\n        </div>\n    </div>\n</div>\n';const r=n("sql-fields"),s=n("sql-input"),o=n("sql-result-input");n("sql-execute-button").addEventListener("click",(async e=>{e.preventDefault();const n=s.value,a=await t.apiPost("/admin/sql",{sql:n}),l=await a.json();switch(console.log(l),a.status){case 200:t.messages.success(a.status,l.info),i([r],"success"),o.value="[",l.forEach((e=>{o.value+="\n\t{";for(const t in e)o.value+=`\n\t\t${t}: ${e[t]}`;o.value+="\n\t},"})),o.value+="\n]";break;case 500:t.messages.error(`Ошибка ${a.status}!`,l.info,1e4),i([r],"error");break;default:t.messages.error(`Ошибка ${a.status}!`,l.info,1e4)}}))}const dn=Mt.compile('\n\x3c!--li--\x3e\n    <div class="button rounded"><span class="cross"></span></div>\n    <input data-branch-id="{{ id }}" type="text" placeholder="Название ветки" value="{{ title }}" autocomplete="off">\n\x3c!--/li--\x3e'),hn=Mt.compile('\n\x3c!--li--\x3e\n    <div class="button rounded"><span class="cross"></span></div>\n    <input type="text" placeholder="Логин пользователя" value="{{ name }}" autocomplete="off">\n    <div class="text-middle radio">\n        <input label="Белый" type="radio" name="{{ uid }}" value="false" checked>\n        <input label="Черный" type="radio" name="{{ uid }}" value="true">\n    </div>\n\x3c!--/li--\x3e');function pn(e,t){e.innerHTML='\n<div class="title-container bg">\n    <div>\n        <div class="text-big-x lighting-text">Создание квеста</div>\n        <div class="text">Давай сделаем что-нибудь эдакое</div>\n    </div>\n</div>\n\n<div id="data-edit-form" class="form">\n    <div class="fields-container">\n        <div id="title-fields">\n            <label class="text-big">Название <span id="title-error"></span></label>\n            <input id="title-input" type="text">\n        </div>\n        <div id="description-fields">\n            <label class="text-big">Описание <span id="description-error"></span></label>\n            <textarea id="description-input" class="text scrollable" rows="5"></textarea>\n        </div>\n        <div id="branches-fields">\n            <label class="text-big">Ветки <span id="branches-error"></span></label>\n            <ul id="branches-list" class="addable-list roll-active closed">\n                \x3c!-- Branches will be there --\x3e\n            </ul>\n            <input id="branches-button-new" type="button" value="Добавить ветку">\n        </div>\n        <div id="permissions-fields">\n            <label class="text-big">Права доступа <span id="branches-error"></span></label>\n            <div class="info text-small">Белый список - те, кому разрешен просмотр квеста. Черный - кому запрещён. Черный не имеет значения, если есть белый</div>\n            <ul id="permissions-list" class="addable-list roll-active closed">\n                \x3c!-- Permissions will be there --\x3e\n            </ul>\n            <input id="permissions-button-new" type="button" value="Добавить пользователя">\n        </div>\n        <div id="published-fields">\n            <label class="text-big">Опубликован <span id="published-error"></span></label>\n            <input id="published-input" type="checkbox" class="switch" disabled>\n            <div class="info text-small">\n                Если не опубликован - это черновик. Никто кроме тебя не сможет просматривать квест<br>\n                Опубликовать можно после создания и заполнения веток. Перед публикацией квест будет проверен модераторами\n            </div>\n        </div>\n    </div>\n       \n    <div class="submit-container">\n        <input id="save-button" type="submit" value="Сохранить">\n    </div>\n</div>\n';const s=n("data-edit-form"),o=n("title-fields"),a=n("description-fields");n("branches-fields"),n("permissions-fields");const l=n("published-fields"),c=n("title-input"),u=n("description-input"),d=n("published-input");n("title-error"),n("description-error");const h=n("branches-list"),p=n("branches-button-new"),f=n("permissions-list"),m=n("permissions-button-new"),g=n("save-button");c.focus(),s.oninput=()=>window.onbeforeunload=()=>!0,t.actions.ongoto=()=>window.onbeforeunload=()=>null,p.addEventListener("click",(()=>{const e=document.createElement("li");e.innerHTML=dn({id:"",title:""}),h.append(e);e.firstElementChild.addEventListener("click",(()=>{e.remove(),zt(h)})),zt(h)}));let v=0;m.addEventListener("click",(()=>{const e=document.createElement("li");e.innerHTML=hn({uid:v++}),f.append(e);e.firstElementChild.addEventListener("click",(async()=>{e.remove(),zt(f)})),jt(f)})),g.addEventListener("click",(async e=>{e.preventDefault();const n=c.value.trim(),s=u.value.trim(),p=d.checked;let m;const g=await t.apiPost("/quest",{title:n,description:s,isPublished:p}),v=await g.json();switch(g.status){case 200:m=v.id;break;case 401:return void i([o,a,l],"error");default:return void t.messages.error(`Ошибка ${g.status}!`,v.info)}const k=[];if(r(h,(async e=>{const t=e.querySelector("input").value.trim();k.push({questId:m,title:t,description:""})})),0!==k.length){const e=await t.apiPost("/branch/many",{questId:m,branches:k}),n=await e.json();e.ok||t.messages.error(`Ошибка ${e.status}!`,n.info)}r(f,(async e=>{const n=e.querySelector("input[type=text]").value.trim(),r=e.querySelector('input[type="radio"]:checked').value,s=await t.apiPost("/quest/privacy",{questId:m,name:n,isInBlackList:r}),o=await s.json();s.ok?i([e],"success"):(i([e],"error"),t.messages.error(`Ошибка ${s.status}!`,o.info))})),void 0!==m&&t.goto(`/quest-edit?questId=${m}`)}))}const fn=Mt.compile('\n<li data-branch-id="{{ id }}" data-branch-button class="text-big">\n    {{#unless ispublished}}\n        <img src="/squest/images/invisible.svg" alt="unpublished" class="quest-modifier">\n    {{/unless}}\n    <span class="main-info">\n        <div>\n            <span class="title">{{ title }}</span>\n            <div class="text info">{{ description }}</div>\n        </div>\n        <div class="text info">\n            <span class="text-small">Вы прошли {{ progress }} из {{ length }}</span>\n        </div>\n    </span>\n    <span class="text choose">Играть<span class="arrow right"></span></span>\n</li>');async function mn(e,t){e.innerHTML='\n<div class="quests-page">\n    <div id="details-block">\n        <div id="back-button" class="title-container clickable low-opacity">\n            <linkbutton href="/quests">\n                <span class="text-big-x"><arrow class="arrow left"></arrow>К списку квестов</span>\n            </linkbutton>\n        </div>\n        <div class="info-plate">\n            <div class="text-big">Квест:\n                <div class="text-max" id="details-quest-title"></div>\n            </div>\n            <div class="text-big-x">О квесте:\n                <div class="text-middle">Описание:</div>\n                <div id="details-quest-description" class="text"></div>\n            </div>\n            <div class="text-big">Ветки:\n            </div>\n        </div>\n        <ul id="listing" class="listing branches-listing roll-active closed">\n            \x3c!--Branches will be there--\x3e\n        </ul>\n    </div>\n</div>\n';const r=new URL(window.location.href).searchParams.get("uid");let s;const o=n("listing"),i=n("details-quest-title"),a=n("details-quest-description");let l=await t.apiGet(`/quest?questUid=${r}`),c=await l.json();s=c.id,i.innerText=c.title,a.innerText=c.description,t.storage.questTitle=c.title,t.storage.branchTitle=c.description,l=await t.apiGet(`/branch?questId=${s}`),c=await l.json(),o.innerHTML="";for(const e of c){const n=await t.apiGet(`/branch?branchId=${e.id}`),r=await n.json();o.innerHTML+=fn(r)}jt(o),o.querySelectorAll("*[data-branch-button]").forEach((e=>{e.addEventListener("click",(async n=>{n.stopPropagation();const r=e.getAttribute("data-branch-id"),o=i.innerText.trim(),a=e.querySelector(".title").innerText.trim();t.storage.questTitle=o,t.storage.branchTitle=a;await t.modal.confirm("Точно выбираем ветку?",a)&&(await t.apiPost("/quest/choose",{questId:s,branchId:r}),t.goto("/play"))}))}))}class gn{constructor(e,t){this._typeNumber=e,this._errorCorrectionLevel=Cn[t],this._modules=null,this._moduleCount=0,this._dataCache=null,this._dataList=[],this.makeImpl=(e,t)=>{this._moduleCount=4*this._typeNumber+17,this._modules=function(e){let t=new Array(e);for(let n=0;n<e;n+=1){t[n]=new Array(e);for(let r=0;r<e;r+=1)t[n][r]=null}return t}(this._moduleCount),this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this._moduleCount-7,0),this.setupPositionProbePattern(0,this._moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this._typeNumber>=7&&this.setupTypeNumber(e),null==this._dataCache&&(this._dataCache=this.createData(this._typeNumber,this._errorCorrectionLevel,this._dataList)),this.mapData(this._dataCache,t)},this.setupPositionProbePattern=(e,t)=>{for(let n=-1;n<=7;n+=1)if(!(e+n<=-1||this._moduleCount<=e+n))for(let r=-1;r<=7;r+=1)t+r<=-1||this._moduleCount<=t+r||(this._modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},this.getBestMaskPattern=()=>{let e=0,t=0;for(let n=0;n<8;n+=1){this.makeImpl(!0,n);let r=Fn.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},this.setupTimingPattern=()=>{for(let e=8;e<this._moduleCount-8;e+=1)null==this._modules[e][6]&&(this._modules[e][6]=e%2==0);for(let e=8;e<this._moduleCount-8;e+=1)null==this._modules[6][e]&&(this._modules[6][e]=e%2==0)},this.setupPositionAdjustPattern=()=>{let e=Fn.getPatternPosition(this._typeNumber);for(let t=0;t<e.length;t+=1)for(let n=0;n<e.length;n+=1){let r=e[t],s=e[n];if(null==this._modules[r][s])for(let e=-2;e<=2;e+=1)for(let t=-2;t<=2;t+=1)this._modules[r+e][s+t]=-2==e||2==e||-2==t||2==t||0==e&&0==t}},this.setupTypeNumber=e=>{let t=Fn.getBCHTypeNumber(this._typeNumber);for(let n=0;n<18;n+=1){const r=!e&&1==(t>>n&1);this._modules[Math.floor(n/3)][n%3+this._moduleCount-8-3]=r}for(let n=0;n<18;n+=1){const r=!e&&1==(t>>n&1);this._modules[n%3+this._moduleCount-8-3][Math.floor(n/3)]=r}},this.setupTypeInfo=(e,t)=>{let n=this._errorCorrectionLevel<<3|t,r=Fn.getBCHTypeInfo(n);for(let t=0;t<15;t+=1){const n=!e&&1==(r>>t&1);t<6?this._modules[t][8]=n:t<8?this._modules[t+1][8]=n:this._modules[this._moduleCount-15+t][8]=n}for(let t=0;t<15;t+=1){const n=!e&&1==(r>>t&1);t<8?this._modules[8][this._moduleCount-t-1]=n:t<9?this._modules[8][15-t-1+1]=n:this._modules[8][15-t-1]=n}this._modules[this._moduleCount-8][8]=!e},this.mapData=(e,t)=>{let n=-1,r=this._moduleCount-1,s=7,o=0,i=Fn.getMaskFunction(t);for(let t=this._moduleCount-1;t>0;t-=2)for(6==t&&(t-=1);;){for(let n=0;n<2;n+=1)if(null==this._modules[r][t-n]){let a=!1;o<e.length&&(a=1==(e[o]>>>s&1)),i(r,t-n)&&(a=!a),this._modules[r][t-n]=a,s-=1,-1==s&&(o+=1,s=7)}if(r+=n,r<0||this._moduleCount<=r){r-=n,n=-n;break}}},this.createBytes=(e,t)=>{let n=0,r=0,s=0,o=new Array(t.length),i=new Array(t.length);for(let a=0;a<t.length;a+=1){let l=t[a].dataCount,c=t[a].totalCount-l;r=Math.max(r,l),s=Math.max(s,c),o[a]=new Array(l);for(let t=0;t<o[a].length;t+=1)o[a][t]=255&e.getBuffer()[t+n];n+=l;let u=Fn.getErrorCorrectPolynomial(c),d=In(o[a],u.getLength()-1).mod(u);i[a]=new Array(u.getLength()-1);for(let e=0;e<i[a].length;e+=1){let t=e+d.getLength()-i[a].length;i[a][e]=t>=0?d.getAt(t):0}}let a=0;for(let e=0;e<t.length;e+=1)a+=t[e].totalCount;let l=new Array(a),c=0;for(let e=0;e<r;e+=1)for(let n=0;n<t.length;n+=1)e<o[n].length&&(l[c]=o[n][e],c+=1);for(let e=0;e<s;e+=1)for(let n=0;n<t.length;n+=1)e<i[n].length&&(l[c]=i[n][e],c+=1);return l},this.createData=(e,t,n)=>{let r=qn.getRSBlocks(e,t),s=On();for(let t=0;t<n.length;t+=1){let r=n[t];s.put(r.getMode(),4),s.put(r.getLength(),Fn.getLengthInBits(r.getMode(),e)),r.write(s)}let o=0;for(let e=0;e<r.length;e+=1)o+=r[e].dataCount;if(s.getLengthInBits()>8*o)throw"code length overflow. ("+s.getLengthInBits()+">"+8*o+")";for(s.getLengthInBits()+4<=8*o&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*o||(s.put(236,8),s.getLengthInBits()>=8*o));)s.put(17,8);return this.createBytes(s,r)}}addData(e,t){let n=null;switch(t=t||"Byte"){case"Numeric":n=Tn(e);break;case"Alphanumeric":n=Rn(e);break;case"Byte":n=$n(e);break;case"Kanji":n=Nn(e);break;default:throw"mode:"+t}this._dataList.push(n),this._dataCache=null}isDark(e,t){if(e<0||this._moduleCount<=e||t<0||this._moduleCount<=t)throw e+","+t;return this._modules[e][t]}getModuleCount(){return this._moduleCount}make(){if(this._typeNumber<1){let e=1;for(;e<40;e++){let t=qn.getRSBlocks(e,this._errorCorrectionLevel),n=On();for(let t=0;t<this._dataList.length;t++){let r=this._dataList[t];n.put(r.getMode(),4),n.put(r.getLength(),Fn.getLengthInBits(r.getMode(),e)),r.write(n)}let r=0;for(let e=0;e<t.length;e++)r+=t[e].dataCount;if(n.getLengthInBits()<=8*r)break}this._typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())}createSvgTag({drawCell:e,cellColor:t,cellSize:n,margin:r,bg:s,obstruction:o}){e=e||((e,r,s,o)=>'<rect width="'+n+'" height="'+n+'" x="'+s+'" y="'+o+'" fill="'+t(e,r)+'" shape-rendering="crispEdges"  />'),t=t||(()=>"black"),n=n||2,r=void 0===r?4*n:r;let i=this.getModuleCount()*n+2*r,a="";a+='<svg version="1.1"',a+=' xmlns="http://www.w3.org/2000/svg"',a+=' xmlns:xlink="http://www.w3.org/1999/xlink"',a+=' viewBox="0 0 '+i+" "+i+'" ',a+=' preserveAspectRatio="xMinYMin meet">',s||(s={enabled:!0,fill:"white"}),s.enabled&&(a+='<rect width="100%" height="100%" fill="'+s.fill+'" x="0" y="0"/>');const l=this.getModuleCount(),c=l*n+2*r;let u,d;if(o){const{width:e,height:t}=o,n=[Math.ceil(e*l),Math.ceil(t*l)];u=n.map((e=>Math.floor(l/2-e/2))),d=n.map((e=>Math.ceil(l/2+e/2)))}for(let t=0;t<l;t+=1){const s=t*n+r;for(let i=0;i<l;i+=1){const l=i*n+r;if(o&&i>=u[0]&&i<d[0]&&t>=u[1]&&t<d[1]){if(i==u[0]&&t==u[1]){const e='x="'+(c*(1-o.width)*.5).toFixed(3)+'" y="'+(c*(1-o.height)*.5).toFixed(3)+'" width="'+(c*o.width).toFixed(3)+'" height="'+(c*o.height).toFixed(3)+'" preserveAspectRatio="xMidYMid meet" ';o.path?a+="<image "+e+'xlink:href="'+o.path+'" />':a+="<svg "+e+o.svgData.substring(4)}}else this.isDark(t,i)&&(a+=e(i,t,l,s))}}return a+="</svg>",a}createImgTag(e,t){e=e||2,t=void 0===t?4*e:t;let n=this.getModuleCount()*e+2*t,r=t,s=n-t,o=this;return zn(n,n,(function(t,n){if(r<=t&&t<s&&r<=n&&n<s){let s=Math.floor((t-r)/e),i=Math.floor((n-r)/e);return o.isDark(i,s)?0:1}return 1}))}}const vn={default:function(e){let t=[];for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);t.push(255&r)}return t}},kn=vn.default,bn=1,wn=2,Bn=4,yn=8,Cn={L:1,M:0,Q:3,H:2},xn=0,Dn=1,_n=2,Pn=3,En=4,An=5,Sn=6,Ln=7,Fn=function(){const e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t=1335,n=7973;let r={},s=function(e){let t=0;for(;0!=e;)t+=1,e>>>=1;return t};return r.getBCHTypeInfo=function(e){let n=e<<10;for(;s(n)-s(t)>=0;)n^=t<<s(n)-s(t);return 21522^(e<<10|n)},r.getBCHTypeNumber=function(e){let t=e<<12;for(;s(t)-s(n)>=0;)t^=n<<s(t)-s(n);return e<<12|t},r.getPatternPosition=function(t){return e[t-1]},r.getMaskFunction=function(e){switch(e){case xn:return function(e,t){return(e+t)%2==0};case Dn:return function(e,t){return e%2==0};case _n:return function(e,t){return t%3==0};case Pn:return function(e,t){return(e+t)%3==0};case En:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case An:return function(e,t){return e*t%2+e*t%3==0};case Sn:return function(e,t){return(e*t%2+e*t%3)%2==0};case Ln:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},r.getErrorCorrectPolynomial=function(e){let t=In([1],0);for(let n=0;n<e;n+=1)t=t.multiply(In([1,Mn.gexp(n)],0));return t},r.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case bn:return 10;case wn:return 9;case Bn:case yn:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case bn:return 12;case wn:return 11;case Bn:return 16;case yn:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case bn:return 14;case wn:return 13;case Bn:return 16;case yn:return 12;default:throw"mode:"+e}}},r.getLostPoint=function(e){let t=e.getModuleCount(),n=0;for(let r=0;r<t;r+=1)for(let s=0;s<t;s+=1){let o=0,i=e.isDark(r,s);for(let n=-1;n<=1;n+=1)if(!(r+n<0||t<=r+n))for(let a=-1;a<=1;a+=1)s+a<0||t<=s+a||0==n&&0==a||i==e.isDark(r+n,s+a)&&(o+=1);o>5&&(n+=3+o-5)}for(let r=0;r<t-1;r+=1)for(let s=0;s<t-1;s+=1){let t=0;e.isDark(r,s)&&(t+=1),e.isDark(r+1,s)&&(t+=1),e.isDark(r,s+1)&&(t+=1),e.isDark(r+1,s+1)&&(t+=1),0!=t&&4!=t||(n+=3)}for(let r=0;r<t;r+=1)for(let s=0;s<t-6;s+=1)e.isDark(r,s)&&!e.isDark(r,s+1)&&e.isDark(r,s+2)&&e.isDark(r,s+3)&&e.isDark(r,s+4)&&!e.isDark(r,s+5)&&e.isDark(r,s+6)&&(n+=40);for(let r=0;r<t;r+=1)for(let s=0;s<t-6;s+=1)e.isDark(s,r)&&!e.isDark(s+1,r)&&e.isDark(s+2,r)&&e.isDark(s+3,r)&&e.isDark(s+4,r)&&!e.isDark(s+5,r)&&e.isDark(s+6,r)&&(n+=40);let r=0;for(let n=0;n<t;n+=1)for(let s=0;s<t;s+=1)e.isDark(s,n)&&(r+=1);return n+=10*(Math.abs(100*r/t/t-50)/5),n},r}();let Mn=function(){let e=new Array(256),t=new Array(256);for(let t=0;t<8;t+=1)e[t]=1<<t;for(let t=8;t<256;t+=1)e[t]=e[t-4]^e[t-5]^e[t-6]^e[t-8];for(let n=0;n<255;n+=1)t[e[n]]=n;let n={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return n}();function In(e,t){if(void 0===e.length)throw e.length+"/"+t;let n=function(){let n=0;for(;n<e.length&&0==e[n];)n+=1;let r=new Array(e.length-n+t);for(let t=0;t<e.length-n;t+=1)r[t]=e[t+n];return r}(),r={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){let t=new Array(r.getLength()+e.getLength()-1);for(let n=0;n<r.getLength();n+=1)for(let s=0;s<e.getLength();s+=1)t[n+s]^=Mn.gexp(Mn.glog(r.getAt(n))+Mn.glog(e.getAt(s)));return In(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;let t=Mn.glog(r.getAt(0))-Mn.glog(e.getAt(0)),n=new Array(r.getLength());for(let e=0;e<r.getLength();e+=1)n[e]=r.getAt(e);for(let r=0;r<e.getLength();r+=1)n[r]^=Mn.gexp(Mn.glog(e.getAt(r))+t);return In(n,0).mod(e)}};return r}const qn=function(){let e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){let n={};return n.totalCount=e,n.dataCount=t,n},n={};return n.getRSBlocks=function(n,r){let s=function(t,n){switch(n){case Cn.L:return e[4*(t-1)+0];case Cn.M:return e[4*(t-1)+1];case Cn.Q:return e[4*(t-1)+2];case Cn.H:return e[4*(t-1)+3];default:return}}(n,r);if(void 0===s)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;let o=s.length/3,i=[];for(let e=0;e<o;e+=1){let n=s[3*e+0],r=s[3*e+1],o=s[3*e+2];for(let e=0;e<n;e+=1)i.push(t(r,o))}return i},n}();let On=function(){let e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){let n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(let r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){let r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},Tn=function(e){let t=bn,n=e,r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){let t=n,r=0;for(;r+2<t.length;)e.put(s(t.substring(r,r+3)),10),r+=3;r<t.length&&(t.length-r==1?e.put(s(t.substring(r,r+1)),4):t.length-r==2&&e.put(s(t.substring(r,r+2)),7))}};const s=function(e){let t=0;for(let n=0;n<e.length;n+=1)t=10*t+o(e.charAt(n));return t},o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return r};const Rn=function(e){let t=wn,n=e,r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){let t=n,r=0;for(;r+1<t.length;)e.put(45*s(t.charAt(r))+s(t.charAt(r+1)),11),r+=2;r<t.length&&e.put(s(t.charAt(r)),6)}};const s=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return r},$n=function(e){let t=Bn,n=kn(e),r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(let t=0;t<n.length;t+=1)e.put(n[t],8)}};return r},Nn=function(e){let t=yn,n=vn.SJIS;if(!n)throw"sjis not supported.";!function(e,t){let r=n("友");if(2!=r.length||38726!=(r[0]<<8|r[1]))throw"sjis not supported."}();let r=n(e),s={getMode:function(){return t},getLength:function(e){return~~(r.length/2)},write:function(e){let t=r,n=0;for(;n+1<t.length;){let r=(255&t[n])<<8|255&t[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return s};let Hn=function(){let e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(let s=0;s<r;s+=1)t.writeByte(e[s+n])},writeString:function(e){for(let n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){let t="";t+="[";for(let n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]",t}};return t};const zn=function(e,t,n,r){let s=function(e,t){let n=e,r=t,s=new Array(e*t),o={setPixel:function(e,t,r){s[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);let t=i(2);e.writeByte(2);let s=0;for(;t.length-s>255;)e.writeByte(255),e.writeBytes(t,s,255),s+=255;e.writeByte(t.length-s),e.writeBytes(t,s,t.length-s),e.writeByte(0),e.writeString(";")}};const i=function(e){let t=1<<e,n=1+(1<<e),r=e+1,o=a();for(let e=0;e<t;e+=1)o.add(String.fromCharCode(e));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(n));let i=Hn(),l=function(e){let t=e,n=0,r=0;return{write:function(e,s){if(e>>>s!=0)throw"length over";for(;n+s>=8;)t.writeByte(255&(e<<n|r)),s-=8-n,e>>>=8-n,r=0,n=0;r|=e<<n,n+=s},flush:function(){n>0&&t.writeByte(r)}}}(i);l.write(t,r);let c=0,u=String.fromCharCode(s[c]);for(c+=1;c<s.length;){let e=String.fromCharCode(s[c]);c+=1,o.contains(u+e)?u+=e:(l.write(o.indexOf(u),r),o.size()<4095&&(o.size()==1<<r&&(r+=1),o.add(u+e)),u=e)}return l.write(o.indexOf(u),r),l.write(n,r),l.flush(),i.toByteArray()},a=function(){let e={},t=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return o}(e,t);for(let r=0;r<t;r+=1)for(let t=0;t<e;t+=1)s.setPixel(t,r,n(t,r));let o=Hn();s.write(o);let i=function(){let e=0,t=0,n=0,r="",s={},o=function(e){r+=String.fromCharCode(i(63&e))};const i=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return s.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)o(e>>>t-6),t-=6},s.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),n%3!=0){let e=3-n%3;for(let t=0;t<e;t+=1)r+="="}},s.toString=function(){return r},s}(),a=o.toByteArray();for(let e=0;e<a.length;e+=1)i.writeByte(a[e]);i.flush();let l="";return l+="<img",l+=' src="',l+="data:image/gif;base64,",l+=i,l+='"',l+=' width="',l+=e,l+='"',l+=' height="',l+=t,l+='"',r&&(l+=' alt="',l+=r,l+='"'),l+="/>",l};vn["UTF-8"]=function(e){return function(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e)};const jn=Mt.compile('\n\x3c!--li--\x3e\n    <span class="text-big-x orderid">{{ orderid }}</span>\n    <div class="button rounded {{#if exists}}closed{{/if}} delete-button"><span class="cross"></span></div>\n    <div class="{{#unless exists}}closed{{/unless}} move-buttons">\n        <div class="button half-height rounded">˄</div>\n        <div class="button half-height rounded">˅</div>\n    </div>\n    <input type="text" placeholder="Название ветки" value="{{ title }}" autocomplete="off">\n    <div class="text-middle button rounded {{#unless exists}}closed{{/unless}} goto-button">\n        <span class="mobile-hide">Перейти</span> <span class="arrow right"></span>\n    </div>\n\x3c!--/li--\x3e'),Un=Mt.compile('\n\x3c!--li--\x3e\n    <div class="button rounded"><span class="cross"></span></div>\n    <input type="text" placeholder="Логин пользователя" value="{{ name }}">\n    <div class="text-middle radio">\n        <input label="Белый" type="radio" name="{{ uid }}" value="false" {{#unless isinblacklist}}checked{{/unless}}>\n        <input label="Черный" type="radio" name="{{ uid }}" value="true" {{#if isinblacklist}}checked{{/if}}>\n    </div>\n\x3c!--/li--\x3e'),Vn=Mt.compile('\n\x3c!--li--\x3e\n    <div class="button rounded"><span class="cross"></span></div>\n    <input type="text" placeholder="Логин пользователя" value="{{ name }}">\n\x3c!--/li--\x3e');async function Gn(e,t){e.innerHTML='\n<div id="back-button" class="title-container clickable low-opacity">\n    <linkButton href="/me-quests">\n        <span class="text-big-x"><arrow class="arrow left"></arrow>Мои квесты</span>\n    </linkButton>\n</div>\n\n<div id="data-edit-form" class="form">\n    <div class="info-container">\n        <div class="text-max">Изменить квест</div>\n        <div class="text hide hidden" id="quest-info">Вы - соавтор квеста, а не создатель, потому некоторые возможности вам недоступны</div>\n    </div>\n            \n    <div class="fields-container">\n        <div id="title-fields">\n            <label class="text-big">Название <span id="title-error"></span></label>\n            <input id="title-input" type="text">\n        </div>\n        <div id="description-fields">\n            <label class="text-big">Описание <span id="description-error"></span></label>\n            <textarea id="description-input" class="text scrollable" rows="5"></textarea>\n        </div>\n        <div id="branches-fields">\n            <label class="text-big">Ветки <span id="branches-error"></span></label>\n            <div class="info text-small">При просмотре квестов для игры вы будете видеть даже неопубликованные ветки, чтобы можно было поиграть и проверить ветку до её публикации</div>\n            <ul id="branches-list" class="addable-list roll-active closed">\n                \x3c!-- Branches will be there --\x3e\n            </ul>\n            <input id="branches-button-new" type="button" value="Добавить ветку">\n        </div>\n        <div id="permissions-fields">\n            <label class="text-big">Права доступа <span id="permissions-error"></span></label>\n            <div class="info text-small">Белый список - те, кому разрешен просмотр квеста. Черный - кому запрещён. Черный не имеет значения, если есть белый</div>\n            <ul id="permissions-list" class="addable-list roll-active closed">\n                \x3c!-- Permissions will be there --\x3e\n            </ul>\n            <input id="permissions-button-new" type="button" value="Добавить пользователя">\n        </div>\n        <div id="helpers-fields">\n            <label class="text-big">Соавторы <span id="helpers-error"></span></label>\n            <div class="info text-small">Хотите делать квест вместе? Просто добавьте никнеймы соавторов ниже и они получат доступ к редактированию квеста</div>\n            <ul id="helpers-list" class="addable-list roll-active closed">\n                \x3c!-- Helpers will be there --\x3e\n            </ul>\n            <input id="helpers-button-new" type="button" value="Добавить соавтора">\n        </div>\n        <div id="published-fields">\n            <label class="text-big">Опубликован <span id="published-error"></span></label>\n            <input id="published-input" type="checkbox" class="switch">\n            <div class="info text-small">\n                Если не опубликован - это черновик. Никто кроме тебя и соавторов не сможет просматривать квест <br>\n                Но доступ к нему можно будет получить по ссылке, если включена опция ниже\n            </div>\n        </div>\n        <div id="link-access-fields">\n            <label class="text-big">Доступ по ссылке (или QR-коду) <span id="link-access-error"></span></label>\n            <input id="link-access-input" type="checkbox" class="switch">\n            <div class="info text-small">\n                Получить доступ к квесту можно будет по ссылке или QR. <br>\n                Удобно, если нужно дать квест человеку, ещё не имеющему аккаунт на сайте.\n            </div>\n            <div id="link-access-on-fields" class="text-big roll-active closed">\n                <span>Ссылка на квест:</span>\n                <a id="link-access-link" target="_blank" href="">Rfrfz-nj ccskrf</a>\n                <span id="button-copy-link" class="button rounded link-button">\n                    <img src="/squest/images/link_copy.svg" alt="copy" class="link-image">\n                </span>\n                <br>\n                <span>Ссылка в виде QR:</span>\n                <div id="qr-code-image"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="submit-container">\n        <input id="save-button" type="submit" value="Сохранить">\n    </div>\n    \n    <div class="submit-container">\n        <input id="delete-button" type="submit" value="Удалить квест">\n    </div>\n</div>\n';const s=new URL(window.location.href).searchParams.get("questId");let o,a;const l=n("data-edit-form"),c=n("quest-info"),u=n("title-fields"),d=n("description-fields");n("branches-fields"),n("permissions-fields");const h=n("helpers-fields"),p=n("published-fields"),f=n("link-access-fields"),m=n("link-access-on-fields"),g=n("title-input"),v=n("description-input"),k=n("published-input"),b=n("link-access-input");n("title-error"),n("description-error");const w=n("branches-list"),B=n("branches-button-new"),y=n("permissions-list"),C=n("helpers-list"),x=n("permissions-button-new"),D=n("helpers-button-new"),_=n("save-button"),P=n("delete-button"),E=n("button-copy-link"),A=n("qr-code-image"),S=n("link-access-link");l.oninput=()=>window.onbeforeunload=()=>!0,t.actions.ongoto=()=>window.onbeforeunload=()=>null;let L=await t.apiGet(`/quest?questId=${s}`);const F=await L.json();let M=!1;F.helper&&(M=!0,h.classList.add("hidden"),P.classList.add("hidden"),c.classList.remove("hide","hidden")),g.value=F.title,v.value=F.description,k.checked=F.ispublished,b.checked=F.islinkactive,F.islinkactive&&T(),L=await t.apiGet(`/branch?questId=${s}`);const I=await L.json();w.innerHTML="",I.forEach((e=>{const n=document.createElement("li");e.exists=!0,n.innerHTML=jn(e),n.setAttribute("data-branch-id",e.id),w.append(n);const r=n.querySelector(".goto-button"),s=n.querySelector(".move-buttons"),o=n.querySelector(".orderid"),i=s.firstElementChild,a=s.lastElementChild;r.addEventListener("click",(async()=>{const e=n.getAttribute("data-branch-id");t.goto(`/branch-edit?branchId=${e}`)})),i.addEventListener("click",(()=>{const e=n.previousElementSibling;if(!e)return;const t=o.innerText,r=e.querySelector(".orderid");o.innerText=r.innerText,r.innerText=t,w.insertBefore(n,n.previousSibling)})),a.addEventListener("click",(()=>{const e=n.nextElementSibling;if(!e?.getAttribute("data-branch-id"))return;const t=o.innerText,r=e.querySelector(".orderid");o.innerText=r.innerText,r.innerText=t,w.insertBefore(n.nextSibling,n)}))})),jt(w),L=await t.apiGet(`/quest/privacy?questId=${s}`);const q=await L.json();let O=0;if(y.innerHTML="",q.forEach((e=>{const n=document.createElement("li");e.uid=O++,n.innerHTML=Un(e),n.setAttribute("data-permission-id",e.id),y.append(n);n.firstElementChild.addEventListener("click",(async()=>{const e=n.getAttribute("data-permission-id");await t.modal.confirm("Точно удаляем запись доступа?")&&(t.apiDelete("/quest/privacy",{id:e}),n.remove(),zt(y))}))})),jt(y),!M){L=await t.apiGet(`/quest/helpers?questId=${s}`);const e=await L.json();C.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.innerHTML=Vn(e),n.setAttribute("data-helper-id",e.id),C.append(n);n.firstElementChild.addEventListener("click",(async()=>{const e=n.getAttribute("data-helper-id");await t.modal.confirm("Точно удаляем запись доступа?")&&(t.apiDelete("/quest/helpers",{id:e}),n.remove(),zt(C))}))})),jt(C)}async function T(){if(b.checked){if(void 0===o){const e=await t.apiGet(`/quest/uid?id=${s}`),n=await e.json();o=n.uid,a=`${location.hosta}/squest/quest?uid=${o}`,S.innerText=a,S.setAttribute("href",a);const r=new gn(0,"H");r.addData(a),r.make(),A.innerHTML=r.createSvgTag({})}Ht(m)}else Nt(m)}B.addEventListener("click",(()=>{let e=0;w.lastElementChild&&(e=Number(w.lastElementChild.querySelector(".orderid").innerText));const n=document.createElement("li");n.innerHTML=jn({title:"",orderid:e+1}),w.append(n);const r=n.querySelector(".goto-button"),s=n.querySelector(".delete-button"),o=n.querySelector(".move-buttons"),i=n.querySelector(".orderid"),a=o.firstElementChild,l=o.lastElementChild;r.addEventListener("click",(async()=>{const e=n.getAttribute("data-branch-id");t.goto(`/branch-edit?branchId=${e}`)})),s.addEventListener("click",(async()=>{null==n.getAttribute("data-permission-id")&&(n.remove(),zt(w))})),a.addEventListener("click",(()=>{const e=n.previousElementSibling;if(!e)return;const t=i.innerText,r=e.querySelector(".orderid");i.innerText=r.innerText,r.innerText=t,w.insertBefore(n,n.previousSibling)})),l.addEventListener("click",(()=>{const e=n.nextElementSibling;if(!e?.getAttribute("data-branch-id"))return;const t=i.innerText,r=e.querySelector(".orderid");i.innerText=r.innerText,r.innerText=t,w.insertBefore(n.nextSibling,n)})),jt(w)})),x.addEventListener("click",(()=>{const e=document.createElement("li");e.innerHTML=Un({uid:O++}),y.append(e);e.firstElementChild.addEventListener("click",(async()=>{const n=e.getAttribute("data-permission-id");if(null!==n){if(!await t.modal.confirm("Точно удаляем запись доступа?"))return;t.apiDelete("/quest/privacy",{id:n})}e.remove(),zt(y)})),jt(y)})),M||D.addEventListener("click",(()=>{const e=document.createElement("li");e.innerHTML=Vn(),C.append(e);e.firstElementChild.addEventListener("click",(async()=>{const n=e.getAttribute("data-permission-id");if(null!==n){if(!await t.modal.confirm("Точно удаляем соавтора?"))return;t.apiDelete("/quest/privacy",{id:n})}e.remove(),zt(C)})),jt(C)})),b.addEventListener("click",T),E.addEventListener("click",(async()=>{void 0!==a&&(await navigator.clipboard.writeText(a),t.messages.success("Ссылка скопирована в буфер обмена"))})),_.addEventListener("click",(async e=>{e.preventDefault();const n=g.value.trim(),o=v.value.trim(),a=k.checked,l=b.checked,c=await t.apiPut("/quest",{id:s,title:n,description:o,isPublished:a,isLinkActive:l}),h=await c.json();switch(c.status){case 200:i([u,d,p,f],"success");break;case 401:i([u,d,p,f],"error");break;default:t.messages.error(`Ошибка ${c.status}!`,h.info)}const m=[],B=[];if(r(w,(async e=>{const n=e.getAttribute("data-branch-id"),r=e.querySelector(".orderid"),o=e.querySelector("input").value.trim(),a=e.querySelector(".goto-button"),l=e.querySelector(".delete-button"),c=e.querySelector(".move-buttons");if(null!==n){const s=await t.apiPut("/branch",{id:n,title:o,orderId:r.innerText}),a=await s.json();s.ok?i([e],"success"):(i([e],"error"),t.messages.error(`Ошибка ${s.status}!`,a.info))}else m.push({questId:s,title:o,description:""}),B.push({el:e,orderId:r,gotoButton:a,deleteButton:l,moveButtons:c})})),0!==m.length){const e=await t.apiPost("/branch/many",{questId:s,branches:m}),n=await e.json();e.ok?B.forEach(((e,t)=>{const{el:r,orderId:s,gotoButton:o,deleteButton:a,moveButtons:l}=e;r.setAttribute("data-branch-id",n[t].id),s.innerText=n[t].orderid,o.classList.remove("closed"),a.classList.add("closed"),l.classList.remove("closed"),i([r],"success")})):(i([w],"error"),t.messages.error(`Ошибка ${e.status}!`,n.info))}r(y,(async e=>{const n=e.getAttribute("data-permission-id"),r=e.querySelector("input[type=text]").value.trim(),o=e.querySelector('input[type="radio"]:checked').value;let a,l;switch(null!==n?(a=await t.apiPut("/quest/privacy",{id:n,questId:s,name:r,isInBlackList:o}),l=await a.json()):(a=await t.apiPost("/quest/privacy",{questId:s,name:r,isInBlackList:o}),l=await a.json(),a.ok&&e.setAttribute("data-permission-id",l.id)),a.status){case 200:i([e],"success");break;case 404:case 409:i([e],"error");break;default:t.messages.error(`Ошибка ${a.status}!`,l.info)}})),M||r(C,(async e=>{const n=e.getAttribute("data-helper-id"),r=e.querySelector("input[type=text]").value.trim();let o,a;switch(null!==n?(o=await t.apiPut("/quest/helpers",{id:n,questId:s,name:r}),a=await o.json()):(o=await t.apiPost("/quest/helpers",{questId:s,name:r}),a=await o.json(),o.ok&&e.setAttribute("data-helper-id",a.id)),o.status){case 200:i([e],"success");break;case 404:case 409:i([e],"error");break;default:t.messages.error(`Ошибка ${o.status}!`,a.info)}})),window.onbeforeunload=()=>null})),M||P.addEventListener("click",(async e=>{e.preventDefault(),await t.modal.confirm("Точно хочешь удалить квест?","Все ветки и задания в нём будут удалены!")&&(await t.apiDelete("/quest",{id:s}),t.goto("/me-quests"))}))}const Wn=Mt.compile('\n<li data-quest-id="{{ id }}" data-quest-button class="text-big">\n    {{#unless ispublished}}\n        {{#if islinkactive}}\n            <img src="/squest/images/link.svg" alt="with link" class="quest-modifier">\n        {{else}}\n            <img src="/squest/images/invisible.svg" alt="unpublished" class="quest-modifier">\n        {{/if}}\n    {{/unless}}\n\n    <span class="main-info">\n        {{ title }}\n        <div class="text info">{{ description }}</div>\n    </span>\n    <span class="text choose">ИЗМЕНИТЬ<arrow class="arrow right"></arrow></span>\n</li>\n');async function Qn(e,t){e.innerHTML='\n<div class="quests-page">\n    <div id="choose-quest-block">\n        <div class="title-container bg">\n            <div>\n                <div class="text-big-x lighting-text">Твои квесты</div>\n                <div class="text">Тут можно отредактировать созданные тобой квесты</div>\n            </div>\n        </div>\n        <ul id="quests-listing" class="listing">\n            \x3c!--Quests will be there--\x3e\n        </ul>\n    </div>\n    \n    <linkButton class="float-button text-middle" href="/quest-create">\n        <div class="hover-text">Создать квест</div>\n        <svg pointer-events="none" xmlns="http://www.w3.org/2000/svg"><path transform="scale(2.2) translate(-1,-1)" d="M10 3.25c.41 0 .75.34.75.75v5.25H16a.75.75 0 010 1.5h-5.25V16a.75.75 0 01-1.5 0v-5.25H4a.75.75 0 010-1.5h5.25V4c0-.41.34-.75.75-.75z"></path></svg>\n    </linkButton>\n</div>\n';const r=n("quests-listing"),s=await t.apiGet(`/quest?userId=${t.storage.userId}`),o=await s.json();r.innerHTML="",o.forEach((e=>{r.innerHTML+=Wn(e)})),r.querySelectorAll("*[data-quest-button]").forEach((e=>{e.addEventListener("click",(async()=>{const n=e.getAttribute("data-quest-id");t.goto(`/quest-edit?questId=${n}`)}))}))}const Xn=Mt.compile('\n\x3c!--li--\x3e\n    <span class="text-big-x orderid">{{ orderid }}</span>\n    <div class="{{#unless exists}}closed{{/unless}} move-buttons">\n        <div class="button half-height rounded">˄</div>\n        <div class="button half-height rounded">˅</div>\n    </div>\n    <div class="button rounded delete-button"><span class="cross"></span></div>\n    <input type="text" placeholder="Название задания" value="{{ title }}">\n    <div class="text-middle button rounded {{#unless exists}}closed{{/unless}} goto-button">\n        <span class="mobile-hide">Перейти</span> <span class="arrow right"></span>\n    </div>\n\x3c!--/li--\x3e');async function Kn(e,t){e.innerHTML='\n<div id="back-button" class="title-container clickable low-opacity">\n    <div>\n        <arrow class="arrow left"></arrow>\n        <span>\n            <div class="text-big-x lighting-text">К квесту</div>\n            <div id="quest-name" class="text"></div>\n        </span>\n    </div>\n</div>\n\n<div id="data-edit-form" class="form">\n    <div class="info-container">\n        <div class="text-max">Изменить ветку</div>\n    </div>\n            \n    <div class="fields-container">\n        <div id="title-fields">\n            <label class="text-big">Название <span id="title-error"></span></label>\n            <input id="title-input" type="text">\n        </div>\n        <div id="description-fields">\n            <label class="text-big">Описание <span id="description-error"></span></label>\n            <textarea id="description-input" class="text scrollable" rows="5"></textarea>\n        </div>\n        <div id="tasks-fields">\n            <label class="text-big">Задания <span id="tasks-error"></span></label>\n            <div class="info text-small">Последнее задание в ветке выводится игроку без вопроса - это страница с поздравлением </div>\n            <ul id="tasks-list" class="addable-list roll-active closed">\n                \x3c!-- tasks will be there --\x3e\n            </ul>\n            <input id="tasks-button-new" type="button" value="Добавить задание">\n        </div>\n        <div id="published-fields">\n            <label class="text-big">Опубликована <span id="published-error"></span></label>\n            <input id="published-input" type="checkbox" class="switch">\n            <div class="info text-small">Если ветка не опубликована - это черновик. Она не будет показываться остальным в списке веток квеста</div>\n        </div>\n    </div>\n\n    <div class="submit-container">\n        <input id="save-button" type="submit" value="Сохранить">\n    </div>\n    \n    <div class="submit-container">\n        <input id="delete-button" type="submit" value="Удалить ветку">\n    </div>\n</div>\n';const s=new URL(window.location.href).searchParams.get("branchId"),o=n("data-edit-form"),a=n("title-fields"),l=n("description-fields");n("tasks-fields");const c=n("published-fields"),u=n("title-input"),d=n("description-input"),h=n("published-input");n("title-error"),n("description-error");const p=n("back-button"),f=n("tasks-list"),m=n("tasks-button-new"),g=n("save-button"),v=n("delete-button"),k=n("quest-name");o.oninput=()=>window.onbeforeunload=()=>!0,t.actions.ongoto=()=>window.onbeforeunload=()=>null;let b=await t.apiGet(`/branch?branchId=${s}`),w=await b.json();u.value=w.title,d.value=w.description,h.checked=w.ispublished,k.innerText='"'+w.qtitle+'"',p.addEventListener("click",(async()=>{t.goto(`/quest-edit?questId=${w.questid}`)})),b=await t.apiGet(`/task?branchId=${s}`);const B=await b.json();f.innerHTML="",B.forEach((e=>{const n=document.createElement("li");e.exists=!0,n.innerHTML=Xn(e),n.setAttribute("data-task-id",e.id),f.append(n);const r=n.querySelector(".delete-button"),s=n.querySelector(".goto-button"),o=n.querySelector(".move-buttons"),i=n.querySelector(".orderid"),a=o.firstElementChild,l=o.lastElementChild;r.addEventListener("click",(async()=>{const e=n.getAttribute("data-task-id");await t.modal.confirm("Точно удаляем задание?","А не жалко?")&&(t.apiDelete("/task",{id:e}),n.remove(),zt(f))})),s.addEventListener("click",(async()=>{const e=n.getAttribute("data-task-id");t.goto(`/task-edit?taskId=${e}`)})),a.addEventListener("click",(()=>{const e=n.previousElementSibling;if(!e)return;const t=i.innerText,r=e.querySelector(".orderid");i.innerText=r.innerText,r.innerText=t,f.insertBefore(n,n.previousSibling)})),l.addEventListener("click",(()=>{const e=n.nextElementSibling;if(!e?.getAttribute("data-task-id"))return;const t=i.innerText,r=e.querySelector(".orderid");i.innerText=r.innerText,r.innerText=t,f.insertBefore(n.nextSibling,n)}))})),jt(f),m.addEventListener("click",(()=>{let e=0;f.lastElementChild&&(e=Number(f.lastElementChild.querySelector(".orderid").innerText));const n=document.createElement("li");n.innerHTML=Xn({title:"",orderid:e+1}),f.append(n);const r=n.querySelector(".delete-button"),s=n.querySelector(".goto-button"),o=n.querySelector(".move-buttons"),i=n.querySelector(".orderid"),a=o.firstElementChild,l=o.lastElementChild;r.addEventListener("click",(async()=>{const e=n.getAttribute("data-task-id");if(null!==e){if(!await t.modal.confirm("Точно удаляем задание?","А не жалко?"))return;t.apiDelete("/task",{id:e})}n.remove(),zt(f)})),s.addEventListener("click",(async()=>{const e=n.getAttribute("data-task-id");t.goto(`/task-edit?taskId=${e}`)})),a.addEventListener("click",(()=>{const e=n.previousElementSibling;if(!e)return;const t=i.innerText,r=e.querySelector(".orderid");i.innerText=r.innerText,r.innerText=t,f.insertBefore(n,n.previousSibling)})),l.addEventListener("click",(()=>{const e=n.nextElementSibling;if(!e?.getAttribute("data-task-id"))return;const t=i.innerText,r=e.querySelector(".orderid");i.innerText=r.innerText,r.innerText=t,f.insertBefore(n.nextSibling,n)})),jt(f)})),g.addEventListener("click",(async e=>{e.preventDefault();const n=u.value.trim(),o=d.value.trim(),p=h.checked,m=await t.apiPut("/branch",{id:s,title:n,description:o,isPublished:p}),g=await m.json();switch(m.status){case 200:i([a,l,c],"success");break;case 401:i([a,l,c],"error");break;default:t.messages.error(`Ошибка ${m.status}!`,g.info)}const v=[],k=[];if(r(f,(async e=>{const n=e.getAttribute("data-task-id"),r=e.querySelector(".orderid"),o=e.querySelector("input").value.trim(),a=e.querySelector(".goto-button"),l=e.querySelector(".delete-button"),c=e.querySelector(".move-buttons");if(null!==n){const s=await t.apiPut("/task",{id:n,title:o,orderId:r}),a=await s.json();s.ok?i([e],"success"):(i([e],"error"),t.messages.error(`Ошибка ${s.status}!`,a.info))}else v.push({branchId:s,title:o,description:"",question:"",answers:[]}),k.push({el:e,orderId:r,gotoButton:a,deleteButton:l,moveButtons:c})})),0!==v.length){const e=await t.apiPost("/task/many",{branchId:s,tasks:v}),n=await e.json();e.ok?k.forEach(((e,t)=>{const{el:r,orderId:s,gotoButton:o,deleteButton:a,moveButtons:l}=e;r.setAttribute("data-task-id",n[t].id),s.innerText=n[t].orderid,o.classList.remove("closed"),l.classList.remove("closed"),i([r],"success")})):(i([f],"error"),t.messages.error(`Ошибка ${e.status}!`,n.info))}window.onbeforeunload=()=>null})),v.addEventListener("click",(async e=>{e.preventDefault(),await t.modal.confirm("Точно хочешь удалить ветку?","Все задания в ней будут удалены!")&&(await t.apiDelete("/branch",{id:s}),p.dispatchEvent(new Event("click")))}))}const Zn=Mt.compile('\n\x3c!--li--\x3e\n    <div class="button rounded"><span class="cross"></span></div>\n    <input type="text" placeholder="Ответ" value="{{ answer }}" autocomplete="off" style="text-transform: lowercase">\n\x3c!--/li--\x3e');async function Jn(e,t){e.innerHTML='\n<div id="back-button" class="title-container clickable low-opacity">\n    <div>\n        <arrow class="arrow left"></arrow>\n        <span>\n            <div class="text-big-x lighting-text">К ветке</div>\n            <div id="branch-name" class="text"></div>\n        </span>\n    </div>\n</div>\n\n<div id="data-edit-form" class="form">\n    <div class="info-container">\n        <div class="text-max">Изменить задание</div>\n    </div>\n    \n    <div class="fields-container">\n        <div id="title-fields">\n            <label class="text-big">Название <span id="title-error"></span></label>\n            <input id="title-input" type="text">\n        </div>\n        <div id="description-fields">\n            <label class="text-big">Описание <span id="description-error"></span></label>\n            <div class="info text-small">Можно использовать Markdown-оформление, вставлять ссылки и загружать фото</div>\n            <div class="absolute-wrapper">\n                <textarea id="description-input" class="text markdowned scrollable" rows="5"></textarea>\n                <div id="markdown-panel">\n                    <div class="_bold">B</div>\n                    <div class="_italic">I</div>\n                    <div class="_strikethrough">S</div>\n                    <div class="_code">`c`</div>\n                    <div class="_header-1">H1</div>\n                    <div class="_header-2">H2</div>\n                    <div class="_header-3">H3</div>\n                    <div class="_blockquote">>|</div>\n                    <div class="_list"><svg xmlns="http://www.w3.org/2000/svg" width="18px" height="12px"><g transform="scale(0.25) translate(8, 2)"><path d="M57.124,51.893H16.92c-1.657,0-3-1.343-3-3s1.343-3,3-3h40.203c1.657,0,3,1.343,3,3S58.781,51.893,57.124,51.893z"/><path d="M57.124,33.062H16.92c-1.657,0-3-1.343-3-3s1.343-3,3-3h40.203c1.657,0,3,1.343,3,3   C60.124,31.719,58.781,33.062,57.124,33.062z"/><path d="M57.124,14.231H16.92c-1.657,0-3-1.343-3-3s1.343-3,3-3h40.203c1.657,0,3,1.343,3,3S58.781,14.231,57.124,14.231z"/><circle cx="4.029" cy="11.463" r="4.029"/><circle cx="4.029" cy="30.062" r="4.029"/><circle cx="4.029" cy="48.661" r="4.029"/></g></svg></div>\n                    <div class="_link"><svg xmlns="http://www.w3.org/2000/svg" width="18px" height="15px"><g transform="scale(0.028) translate(70, 40)"><path d="M211.26,389.24l-60.331,60.331c-25.012,25.012-65.517,25.012-90.508,0.005c-24.996-24.996-24.996-65.505-0.005-90.496     l120.683-120.683c24.991-24.992,65.5-24.992,90.491,0c8.331,8.331,21.839,8.331,30.17,0c8.331-8.331,8.331-21.839,0-30.17     c-41.654-41.654-109.177-41.654-150.831,0L30.247,328.909c-41.654,41.654-41.654,109.177,0,150.831     c41.649,41.676,109.177,41.676,150.853,0l60.331-60.331c8.331-8.331,8.331-21.839,0-30.17S219.591,380.909,211.26,389.24z"/><path d="M479.751,30.24c-41.654-41.654-109.199-41.654-150.853,0l-72.384,72.384c-8.331,8.331-8.331,21.839,0,30.17     c8.331,8.331,21.839,8.331,30.17,0l72.384-72.384c24.991-24.992,65.521-24.992,90.513,0c24.991,24.991,24.991,65.5,0,90.491     L316.845,283.638c-24.992,24.992-65.5,24.992-90.491,0c-8.331-8.331-21.839-8.331-30.17,0s-8.331,21.839,0,30.17     c41.654,41.654,109.177,41.654,150.831,0l132.736-132.736C521.405,139.418,521.405,71.894,479.751,30.24z"/></g></svg></div>\n                    <div class="_photo"><svg class="_photo" xmlns="http://www.w3.org/2000/svg" width="19px" height="15px"><g transform="scale(0.8) translate(0, -2)"><path d="m14.134 3.65c.853 0 1.46.278 1.988.899.017.019.494.61.66.815.228.281.674.536.945.536h.41c2.419 0 3.863 1.563 3.863 4.05v5.85c0 2.241-2 4.2-4.273 4.2h-11.454c-2.267 0-4.223-1.953-4.223-4.2v-5.85c0-2.496 1.4-4.05 3.814-4.05h.409c.271 0 .717-.255.945-.536.166-.204.643-.796.66-.815.528-.621 1.135-.899 1.988-.899z"/><circle cx="12" cy="12" r="3.85"/></g></svg></div>\n                </div>\n            </div>\n            <label class="text-big">Превью <span id="description-preview-error"></span></label>\n            <div id="description-preview" class="text input-area"></div>\n        </div>\n        <div id="question-fields">\n            <label class="text-big">Вопрос <span id="question-error"></span></label>\n            <div class="info text-small">Последнее задание в ветке выводится игроку без вопроса - это страница с поздравлением </div>\n            <textarea id="question-input" class="text"></textarea>\n        </div>\n        <div id="answers-fields">\n            <div id="qr-switch-fields">\n                <label class="text-big">QR-ответ <span id="qr-switch-error"></span></label>\n                <input id="qr-switch-input" type="checkbox" class="switch">\n                <div class="info text-small">\n                    Ответом можно сделать <b>ЛЮБОЙ</b> QR-код вместо текстового ответа. Даже уже существующий и не твой\n                </div>\n            </div>\n            <div id="text-answers-fields" class="roll-active">\n                <label class="text-big">Правильные ответы <span id="text-answers-error"></span></label>\n                <div class="info text-small">\n                    РегИсТр ответов не играет роли. Все ответы игроков перед проверкой переводятся в нижний регистр <br>\n                    Чтобы любой ответ, введенный игроком, считался правильным, добавьте ответ "*"\n                </div>\n                <ul id="answers-list" class="addable-list roll-active closed">\n                    \x3c!-- answers will be there --\x3e\n                </ul>\n                <input id="answers-button-new" type="button" value="Добавить ответ">\n            </div>\n            <div id="qr-answer-fields" class="roll-active">\n                <label class="text-big">Правильный ответ <span id="qr-answer-error"></span></label>\n                <div class="info text-small">\n                    Чтобы сделать ответом ЛЮБОЙ существующий QR, Просто отсканируй его ниже. <br>\n                    Либо, если такого QR ещё нет - можно сгенерировать новый QR ниже. <br>\n                    Игроку для прохождения этапа нужно будет отсканировать его через сканер внутри сайта на странице с вопросом\n                </div>\n                <video id="qr-code-scanner" class="roll-active closed"></video>\n                <div id="qr-code-fields">\n                    <div class="text-middle">Результат: <span id="qr-code-text"></span></div>\n                    <div id="qr-code-image"></div>\n                    <div class="info text-small">\n                        Сгенерированный выше QR может отличаться от того, что ты только что отсканировал камерой (если ты сканировал QR камерой). <br>\n                        Всё в порядке. Для прохождения этапа можно отсканировать и оригинальный QR, и этот\n                    </div>\n                </div>\n                <div class="flex-string">\n                    <input id="qr-scan-button" type="button" value="Сканировать QR">\n                    <input id="qr-gen-button" type="button" value="Создать QR">\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="submit-container">\n        <input id="save-button" type="submit" value="Сохранить">\n    </div>\n</div>\n';const s=new URL(window.location.href).searchParams.get("taskId");let o;const a=n("data-edit-form"),l=n("title-fields"),c=n("description-fields"),u=n("question-fields");n("qr-switch-fields");const d=n("text-answers-fields"),h=n("qr-answer-fields");n("qr-code-fields");const p=n("title-input"),f=n("description-input"),m=n("question-input"),g=n("qr-switch-input"),v=n("qr-scan-button"),k=n("qr-gen-button"),b=n("description-preview"),w=n("qr-code-text");n("title-error"),n("description-error"),n("question-error"),n("description-preview-error"),n("text-answers-error"),n("qr-answer-error"),n("qr-switch-error");const B=n("answers-button-new"),y=n("answers-list"),C=n("qr-code-image"),x=n("qr-code-scanner"),D=n("back-button"),_=n("save-button"),P=n("branch-name");!function(e,t,n){const r=t,s=e.querySelector("._bold"),o=e.querySelector("._italic"),i=e.querySelector("._strikethrough"),a=e.querySelector("._code"),l=e.querySelector("._header-1"),c=e.querySelector("._header-2"),u=e.querySelector("._header-3"),d=e.querySelector("._blockquote"),h=e.querySelector("._list"),p=e.querySelector("._link"),f=e.querySelector("._photo");s.addEventListener("mousedown",(e=>{ln(r,"**","**")})),o.addEventListener("mousedown",(e=>{ln(r," _","_ ")})),i.addEventListener("mousedown",(e=>{ln(r," ~~","~~ ")})),a.addEventListener("mousedown",(e=>{ln(r,"`","`")})),l.addEventListener("mousedown",(e=>{cn(r,"# ")})),c.addEventListener("mousedown",(e=>{cn(r,"## ")})),u.addEventListener("mousedown",(e=>{cn(r,"### ")})),d.addEventListener("mousedown",(e=>{cn(r,"> ")})),h.addEventListener("mousedown",(e=>{cn(r,"- ")})),p.addEventListener("mousedown",(async e=>{const t=await n.modal.prompt("Введите адрес ссылки");if(!t)return;const s=r.selectionEnd?r.selectionEnd:0,o=await n.modal.prompt("Теперь придумайте ей замещающий текст (необязательно)");o?(r.value=r.value.substr(0,s)+`[${o}](${t})`+r.value.substr(s),r.dispatchEvent(new Event("input"))):r.value=r.value.substr(0,s)+" "+t+" "+r.value.substr(s)}));const m=[];f.addEventListener("mousedown",(async e=>{const t=await an(0);if(m.includes(t))return;m.push(t);const s=r.selectionEnd?r.selectionEnd:0,o=await n.apiPost("/image",{dataUrl:t}),i=await o.json();o.ok?(n.messages.success("Загружено","Картинка загружена"),r.value=r.value.substr(0,s)+"![image]("+n.apiUrl+"/image/"+i.id+")"+r.value.substr(s),r.dispatchEvent(new Event("input"))):n.messages.error(`Ошибка ${o.status}!`,`Не удалось загрузить картинку на сервер: ${i.message}`)}))}(n("markdown-panel"),f,t),a.oninput=()=>window.onbeforeunload=()=>!0,t.actions.ongoto=()=>window.onbeforeunload=()=>null;let E=await t.apiGet(`/task?taskId=${s}`),A=await E.json();function S(){b.innerHTML=en.SanitizeHtml(Yt.exports.marked.parse(f.value,{breaks:!0}))}p.value=A.title,f.value=A.description,f.style.height=Math.min(f.scrollHeight+30,1e3)+"px",m.value=A.question,P.innerText='"'+A.btitle+'"',D.addEventListener("click",(async()=>{t.goto(`/branch-edit?branchId=${A.branchid}`)})),A.answers.forEach((e=>{const t=document.createElement("li");t.innerHTML=Zn({answer:e}),y.append(t);t.firstElementChild.addEventListener("click",(async()=>{t.remove(),zt(y)})),Ht(y)})),en.AllowedTags.AUDIO=!0,en.AllowedTags.S=!0,f.addEventListener("input",S),S(),B.addEventListener("click",(()=>{const e=document.createElement("li");e.innerHTML=Zn({answer:""}),y.append(e);e.firstElementChild.addEventListener("click",(async()=>{e.remove(),zt(y)})),jt(y)})),_.addEventListener("click",(async e=>{e.preventDefault();const n=p.value.trim(),a=f.value,v=m.value,k=g.checked,b=[];if(g.checked){if(!o)return void t.messages.error("QR код ответа не назначен");b.push(o)}else r(y,(e=>{b.push(e.lastElementChild.value)}));const w=await t.apiPut("/task",{id:s,title:n,description:a,question:v,answers:b,isQrAnswer:k}),B=await w.json();switch(w.status){case 200:i([l,c,u,d,h],"success");break;case 401:i([l,c,u,d,h],"error");break;default:t.messages.error(`Ошибка ${w.status}!`,B.info)}window.onbeforeunload=()=>null})),g.addEventListener("click",(()=>{if(g.checked)return Ht(h),void Nt(d);Nt(h),L.stop(),Nt(x),Ht(d)}));const L=new tn(x,(e=>{t.messages.success("QR отсканирован"),L.stop(),Nt(x),o=e.data,M()}),{highlightScanRegion:!0});let F;function M(){w.innerText=o,F=new gn(0,"H"),F.addData(o),F.make(),C.innerHTML=F.createSvgTag({})}v.addEventListener("click",(()=>{w.innerText="",C.innerHTML="",L.start().then((()=>{}),(e=>{t.modal.alert("Не предоставлены права доступа к камере","Настройте доступ к камере для этого сайта в браузере")})),Ht(x)})),k.addEventListener("click",(()=>{o=`${location.host}/squest/found_qr?data=${function(e){const t=new Uint8Array((e||40)/2);return window.crypto.getRandomValues(t),Array.from(t,(e=>e.toString(16).padStart(2,"0"))).join("")}(10)}`,L.stop(),Nt(x),M()})),A.isqranswer?(g.checked=!0,o=A.answers[0],M(),Ht(h),Nt(d)):(Ht(d),Nt(h))}async function Yn(e,t){e.innerHTML='\n<div id="details-block">\n    <div id="back-button" class="title-container clickable low-opacity">\n        <linkbutton href="/quests">\n            <span class="text-big-x"><arrow class="arrow left"></arrow>К списку квестов</span>\n        </linkbutton>\n    </div>\n    <div class="info-plate">\n        <div class="text-big-x">Ты нашёл QR!\n            <div class="text-middle">Но так низя(</div>\n            <div id="details-quest-description" class="text">\n                Кажется, этот QR является ответом на один из вопросов какого-то квеста. <br>\n                Вот только чтобы он сработал, его нужно отсканировать не каким-то другим сканером, а сканером прямо со страницы с вопросом. <br>\n                Что ж, удачи) А если ты нашёл этот QR случайно, то жми на кнопку ниже - там всё расскажут\n            </div>\n        </div>\n        <linkButton id="confirm-button" class="text-big-x button rounded outline centered" href="/">На главную</linkButton>\n    </div>\n</div>\n'}class er{constructor(e,t,n){this.storage={username:null,userId:null,avatarUrl:"/images/default_avatar.png".concat(),isAdmin:!1,email:null,questId:null,branchId:null,branchLength:null},this.actions={ongoto:null},this.name=e,this.apiUrl=t,this.element=n,this.pathBasePart="/squest",this.messages=new It,this.modal=new qt,this.routes=[{urlRegex:/^\/?$/,title:`${this.name} | О нас`,handler:Wt,authRequired:!1},{urlRegex:/^\/login$/,title:`${this.name} | Авторизация`,handler:Vt,authRequired:!1},{urlRegex:/^\/register$/,title:`${this.name} | Регистрация`,handler:Gt,authRequired:!1},{urlRegex:/^\/me$/,title:`${this.name} | Профиль`,handler:Ut,authRequired:!0},{urlRegex:/^\/quests$/,title:`${this.name} | Квесты`,handler:Jt,authRequired:!0},{urlRegex:/^\/play$/,title:`${this.name} | Квест`,handler:nn,authRequired:!0},{urlRegex:/^\/rating$/,title:`${this.name} | Рейтинг`,handler:sn,authRequired:!0},{urlRegex:/^\/quest-create$/,title:`${this.name} | Создать квест`,handler:pn,authRequired:!0},{urlRegex:/^\/quest\?.*$/,title:`${this.name} | Квест`,handler:mn,authRequired:!0},{urlRegex:/^\/quest-edit\?.*$/,title:`${this.name} | Изменить квест`,handler:Gn,authRequired:!0},{urlRegex:/^\/branch-edit\?.*$/,title:`${this.name} | Изменить ветку`,handler:Kn,authRequired:!0},{urlRegex:/^\/task-edit\?.*$/,title:`${this.name} | Изменить задание`,handler:Jn,authRequired:!0},{urlRegex:/^\/me-quests$/,title:`${this.name} | Мои квесты`,handler:Qn,authRequired:!0},{urlRegex:/^\/admin$/,title:`${this.name} | Админ`,handler:un,authRequired:!0},{urlRegex:/^\/found_qr\?.*$/,title:`${this.name} | Найден QR`,handler:Yn,authRequired:!1},{urlRegex:/^\/.*$/,title:`${this.name} | Страница потеряна`,handler:Qt,authRequired:!1}],window.addEventListener("popstate",(async()=>{await this.goto(tr(location.pathname+location.search),!1)})),document.body.addEventListener("click",this.__bodyClick.bind(this))}async __bodyClick(e){if("LINKBUTTON"===e.target.tagName){e.preventDefault();const t=e.target.getAttribute("href");t&&await this.goto(t)}}apiRequest(n,r,s={}){return function(n,r,s={}){return e(this,void 0,void 0,(function*(){let e={};return!["GET","HEAD"].includes(n)&&s&&(e={headers:{"Content-Type":"application/json","X-CSRF-Token":t("_csrf")},body:JSON.stringify(s)}),fetch(r,Object.assign({method:n,mode:"cors",credentials:"include"},e))}))}(n,`${this.apiUrl}${r}`,s)}apiGet(e,t={}){return this.apiRequest("GET",e,t)}apiPost(e,t={}){return this.apiRequest("POST",e,t)}apiPut(e,t={}){return this.apiRequest("PUT",e,t)}apiDelete(e,t={}){return this.apiRequest("DELETE",e,t)}__getHandler(e){for(const t of this.routes)if(e.match(t.urlRegex))return t;return{}}async goto(e,t=!0){this.actions.ongoto&&(this.actions.ongoto(),this.actions.ongoto=null),t&&history.pushState(null,null,"/squest"+e);let{handler:n=Qt,authRequired:r=!1,background:s=Xt,title:o="Страница не найдена"}=this.__getHandler(e);r&&!this.storage.username&&(o=`${this.name} | Авторизация`,history.pushState(null,null,"/squest/login"),n=Vt),await function(e,t,n,r,s){return new Promise(((o,i)=>{document.title=r,document.querySelector("body").style.background=n;const a=document.getElementById(e);try{a.style.opacity="0",setTimeout((async()=>{t(a,s),a.style.opacity="1",o()}),200)}catch{a.innerHTML="Error occurred while trying to render",o()}}))}(this.element,n,s,o,this)}setUserElements(e,t){this.usernameElement=document.getElementById(e),this.avatarElement=document.getElementById(t)}setUser({name:e,id:t,avatarurl:n,isadmin:r,email:s,chosenquestid:o,chosenbranchid:i}){this.storage.username=e,this.storage.userId=t,n&&"null"!==n||(n="/images/default_avatar.png"),this.storage.avatarUrl=n,this.storage.isAdmin=r,this.storage.email=s,this.storage.questId=o,this.storage.branchId=i,this.usernameElement.innerText=e||"Войти",this.avatarElement.setAttribute("src",n)}clearUser(){this.setUser({name:null,id:null,avatarurl:null,isadmin:!1,email:null,chosenquestid:null,chosenbranchid:null}),this.storage.branchLength=null}async getLoginedUser(){let e;try{e=await this.apiGet("/user")}catch{return this.messages.error(`Сервер по адресу ${this.apiUrl} недоступен`,"Обновите страницу позже"),void this.goto("/")}const t=await e.json();e.ok&&this.setUser(t)}}function tr(e){return e.replace(new RegExp("^/squest","i"),"")}await async function(){document.head.innerHTML+='<link rel="icon" href="/squest/images/favicon.ico" type="image/x-icon">',document.body.innerHTML='\n<div id="navbar" class="navbar absolute-wrapper">\n    <div id="progress" class="center lighting-text progress">0</div>\n    <div id="progressbar" class="bottom progressbar" style="--progress: 1"></div>\n    <linkButton class="left  side-item opacity-in delayedBig" href="/quests">Квесты</linkButton>\n    <linkButton class="right side-item opacity-in delayedBig" href="/me">\n        <span id="username">Войти</span><img id="avatar" class="image-small" src="images/default_avatar.png" alt="">\n    </linkButton>\n</div>\n\n<div id="app">\n    <div style="opacity: 0">\n        SQuest - сайт для создания или прохождения чужих онлайн-квестов <br>\n        Делайте свои или проходите уже созданные и проверенные другими людьми квесты <br>\n        Здесь ты сможешь найти онлайн-квест по душе, созданный нашими профессионалами. <br>\n        Всё бесплатно пока что) <br>\n        1. регистрируешься <br>\n        2. выбираешь квест и ветку <br>\n        3. чем больше проходишь - тем выше ты в рейтинге <br>\n        <i><small>Если ты это читаешь на сайте, значит произошла какая-то ошибка на сервере. Попробуй обновить страницу через некоторое время. Этот текст только для поисковика)</small></i>\n    </div>\n    <img src="/squest/images/gradient_loading.gif" alt="loading..." class="loading-image center">\n</div>\n'+document.body.innerHTML,document.body.classList.add("scrollable");const{protocol:e,hostname:t,pathname:n,search:r}=window.location;let s=t;s=e+"//"+s+"/squest/api";const o=new er("SQuest",s,"app");o.setUserElements("username","avatar"),await o.getLoginedUser(),o.goto(tr(n+r))}();var nr=Object.freeze({__proto__:null,createWorker:()=>new Worker(URL.createObjectURL(new Blob(['class x{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}static createEmpty(a,b){return new x(new Uint8ClampedArray(a*b),a)}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}setRegion(a,b,c,d,e){for(let f=b;f<b+d;f++)for(let g=a;g<a+c;g++)this.set(g,f,!!e)}}\nclass A{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,b){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}\nclass ba{constructor(a){this.bitOffset=this.byteOffset=0;this.bytes=a}readBits(a){if(1>a||32<a||a>this.available())throw Error("Cannot read "+a.toString()+" bits");var b=0;if(0<this.bitOffset){b=8-this.bitOffset;var c=a<b?a:b;b-=c;b=(this.bytes[this.byteOffset]&255>>8-c<<b)>>b;a-=c;this.bitOffset+=c;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<a){for(;8<=a;)b=b<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,a-=8;0<a&&(c=8-a,b=b<<a|(this.bytes[this.byteOffset]&255>>c<<c)>>c,\nthis.bitOffset+=a)}return b}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var B,C=B||(B={});C.Numeric="numeric";C.Alphanumeric="alphanumeric";C.Byte="byte";C.Kanji="kanji";C.ECI="eci";C.StructuredAppend="structuredappend";var D,E=D||(D={});E[E.Terminator=0]="Terminator";E[E.Numeric=1]="Numeric";E[E.Alphanumeric=2]="Alphanumeric";E[E.Byte=4]="Byte";E[E.Kanji=8]="Kanji";E[E.ECI=7]="ECI";E[E.StructuredAppend=3]="StructuredAppend";let F="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");\nfunction ca(a,b){let c=[],d="";b=a.readBits([8,16,16][b]);for(let e=0;e<b;e++){let f=a.readBits(8);c.push(f)}try{d+=decodeURIComponent(c.map(e=>`%${("0"+e.toString(16)).substr(-2)}`).join(""))}catch(e){}return{bytes:c,text:d}}\nfunction da(a,b){a=new ba(a);let c=9>=b?0:26>=b?1:2;for(b={text:"",bytes:[],chunks:[],version:b};4<=a.available();){var d=a.readBits(4);if(d===D.Terminator)return b;if(d===D.ECI)0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(7)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(14)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(21)}):b.chunks.push({type:B.ECI,assignmentNumber:-1});else if(d===D.Numeric){var e=a,f=[];d="";for(var g=\ne.readBits([10,12,14][c]);3<=g;){var h=e.readBits(10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),m=Math.floor(h/10)%10;h%=10;f.push(48+k,48+m,48+h);d+=k.toString()+m.toString()+h.toString();g-=3}if(2===g){g=e.readBits(7);if(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;f.push(48+e,48+g);d+=e.toString()+g.toString()}else if(1===g){e=e.readBits(4);if(10<=e)throw Error("Invalid numeric value above 9");f.push(48+e);d+=e.toString()}b.text+=\nd;b.bytes.push(...f);b.chunks.push({type:B.Numeric,text:d})}else if(d===D.Alphanumeric){e=a;f=[];d="";for(g=e.readBits([9,11,13][c]);2<=g;)m=e.readBits(11),k=Math.floor(m/45),m%=45,f.push(F[k].charCodeAt(0),F[m].charCodeAt(0)),d+=F[k]+F[m],g-=2;1===g&&(e=e.readBits(6),f.push(F[e].charCodeAt(0)),d+=F[e]);b.text+=d;b.bytes.push(...f);b.chunks.push({type:B.Alphanumeric,text:d})}else if(d===D.Byte)d=ca(a,c),b.text+=d.text,b.bytes.push(...d.bytes),b.chunks.push({type:B.Byte,bytes:d.bytes,text:d.text});\nelse if(d===D.Kanji){f=a;d=[];e=f.readBits([8,10,12][c]);for(g=0;g<e;g++)k=f.readBits(13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));b.text+=f;b.bytes.push(...d);b.chunks.push({type:B.Kanji,bytes:d,text:f})}else d===D.StructuredAppend&&b.chunks.push({type:B.StructuredAppend,currentSequence:a.readBits(4),totalSequence:a.readBits(4),parity:a.readBits(8)})}if(0===a.available()||0===a.readBits(a.available()))return b}\nclass G{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.field=a;let c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(c-d),a=0;a<this.coefficients.length;a++)this.coefficients[a]=b[d+a]}else this.coefficients=b}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}addOrSubtract(a){if(this.isZero())return a;\nif(a.isZero())return this;let b=this.coefficients;a=a.coefficients;b.length>a.length&&([b,a]=[a,b]);let c=new Uint8ClampedArray(a.length),d=a.length-b.length;for(var e=0;e<d;e++)c[e]=a[e];for(e=d;e<a.length;e++)c[e]=b[e-d]^a[e];return new G(this.field,c)}multiply(a){if(0===a)return this.field.zero;if(1===a)return this;let b=this.coefficients.length,c=new Uint8ClampedArray(b);for(let d=0;d<b;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new G(this.field,c)}multiplyPoly(a){if(this.isZero()||\na.isZero())return this.field.zero;let b=this.coefficients,c=b.length;a=a.coefficients;let d=a.length,e=new Uint8ClampedArray(c+d-1);for(let f=0;f<c;f++){let g=b[f];for(let h=0;h<d;h++)e[f+h]=H(e[f+h],this.field.multiply(g,a[h]))}return new G(this.field,e)}multiplyByMonomial(a,b){if(0>a)throw Error("Invalid degree less than 0");if(0===b)return this.field.zero;let c=this.coefficients.length;a=new Uint8ClampedArray(c+a);for(let d=0;d<c;d++)a[d]=this.field.multiply(this.coefficients[d],b);return new G(this.field,\na)}evaluateAt(a){let b=0;if(0===a)return this.getCoefficient(0);let c=this.coefficients.length;if(1===a)return this.coefficients.forEach(d=>{b^=d}),b;b=this.coefficients[0];for(let d=1;d<c;d++)b=H(this.field.multiply(a,b),this.coefficients[d]);return b}}function H(a,b){return a^b}\nclass ea{constructor(a,b,c){this.primitive=a;this.size=b;this.generatorBase=c;this.expTable=Array(this.size);this.logTable=Array(this.size);a=1;for(b=0;b<this.size;b++)this.expTable[b]=a,a*=2,a>=this.size&&(a=(a^this.primitive)&this.size-1);for(a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new G(this,Uint8ClampedArray.from([0]));this.one=new G(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]}inverse(a){if(0===\na)throw Error("Can\'t invert 0");return this.expTable[this.size-this.logTable[a]-1]}buildMonomial(a,b){if(0>a)throw Error("Invalid monomial degree less than 0");if(0===b)return this.zero;a=new Uint8ClampedArray(a+1);a[0]=b;return new G(this,a)}log(a){if(0===a)throw Error("Can\'t take log(0)");return this.logTable[a]}exp(a){return this.expTable[a]}}\nfunction fa(a,b,c,d){b.degree()<c.degree()&&([b,c]=[c,b]);let e=a.zero;for(var f=a.one;c.degree()>=d/2;){var g=b;let h=e;b=c;e=f;if(b.isZero())return null;c=g;f=a.zero;g=b.getCoefficient(b.degree());for(g=a.inverse(g);c.degree()>=b.degree()&&!c.isZero();){let k=c.degree()-b.degree(),m=a.multiply(c.getCoefficient(c.degree()),g);f=f.addOrSubtract(a.buildMonomial(k,m));c=c.addOrSubtract(b.multiplyByMonomial(k,m))}f=f.multiplyPoly(e).addOrSubtract(h);if(c.degree()>=b.degree())return null}d=f.getCoefficient(0);\nif(0===d)return null;a=a.inverse(d);return[f.multiply(a),c.multiply(a)]}\nfunction ha(a,b){let c=new Uint8ClampedArray(a.length);c.set(a);a=new ea(285,256,0);var d=new G(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=d.evaluateAt(a.exp(g+a.generatorBase));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new G(a,e);d=fa(a,a.buildMonomial(b,1),d,b);if(null===d)return null;b=d[0];g=b.degree();if(1===g)b=[b.getCoefficient(1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===b.evaluateAt(h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;e=d[1];\nf=b.length;d=Array(f);for(g=0;g<f;g++){h=a.inverse(b[g]);let k=1;for(let m=0;m<f;m++)g!==m&&(k=a.multiply(k,H(1,a.multiply(b[m],h))));d[g]=a.multiply(e.evaluateAt(h),a.inverse(k));0!==a.generatorBase&&(d[g]=a.multiply(d[g],h))}for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}\nlet I=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},\n{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,\n34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},\n{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},\n{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},\n{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,\necBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,\n74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,\nversionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,\ndataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,\ndataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},\n{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},\n{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},\n{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},\n{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},\n{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,\ndataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},\n{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,\n26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},\n{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},\n{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,\ndataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,\ndataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],\nerrorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,\nversionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},\n{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function J(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function K(a,b){return b<<1|a}\nlet ia=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,\ndataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,\nformatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,\ndataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],ja=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%\n2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2];\nfunction ka(a,b,c){c=ja[c.dataMask];let d=a.height;var e=17+4*b.versionNumber;let f=x.createEmpty(e,e);f.setRegion(0,0,9,9,!0);f.setRegion(e-8,0,8,9,!0);f.setRegion(0,e-8,9,8,!0);for(var g of b.alignmentPatternCenters)for(var h of b.alignmentPatternCenters)6===g&&6===h||6===g&&h===e-7||g===e-7&&6===h||f.setRegion(g-2,h-2,5,5,!0);f.setRegion(6,9,1,e-17,!0);f.setRegion(9,6,e-17,1,!0);6<b.versionNumber&&(f.setRegion(e-11,0,3,6,!0),f.setRegion(0,e-11,6,3,!0));b=[];h=g=0;e=!0;for(let k=d-1;0<k;k-=2){6===\nk&&k--;for(let m=0;m<d;m++){let l=e?d-1-m:m;for(let n=0;2>n;n++){let q=k-n;if(!f.get(q,l)){h++;let r=a.get(q,l);c({y:l,x:q})&&(r=!r);g=g<<1|r;8===h&&(b.push(g),g=h=0)}}}e=!e}return b}\nfunction la(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return I[c-1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=K(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let g=b-9;g>=b-11;g--)d=K(a.get(e,g),d);a=Infinity;let f;for(let g of I){if(g.infoBits===c||g.infoBits===d)return g;b=J(c,g.infoBits);b<a&&(f=g,a=b);b=J(d,g.infoBits);b<a&&(f=g,a=b)}if(3>=a)return f}\nfunction ma(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=K(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=K(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=K(a.get(8,e),c);for(e=d-8;e<d;e++)c=K(a.get(e,8),c);a=Infinity;d=null;for(let {bits:f,formatInfo:g}of ia){if(f===b||f===c)return g;e=J(b,f);e<a&&(d=g,a=e);b!==c&&(e=J(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}\nfunction na(a,b,c){let d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(h=>{for(let k=0;k<h.numBlocks;k++)e.push({numDataCodewords:h.dataCodewordsPerBlock,codewords:[]}),f+=h.dataCodewordsPerBlock+d.ecCodewordsPerBlock});if(a.length<f)return null;a=a.slice(0,f);b=d.ecBlocks[0].dataCodewordsPerBlock;for(c=0;c<b;c++)for(var g of e)g.codewords.push(a.shift());if(1<d.ecBlocks.length)for(g=d.ecBlocks[0].numBlocks,b=d.ecBlocks[1].numBlocks,c=0;c<b;c++)e[g+c].codewords.push(a.shift());for(;0<a.length;)for(let h of e)h.codewords.push(a.shift());\nreturn e}function L(a){let b=la(a);if(!b)return null;var c=ma(a);if(!c)return null;a=ka(a,b,c);var d=na(a,b,c.errorCorrectionLevel);if(!d)return null;c=d.reduce((e,f)=>e+f.numDataCodewords,0);c=new Uint8ClampedArray(c);a=0;for(let e of d){d=ha(e.codewords,e.codewords.length-e.numDataCodewords);if(!d)return null;for(let f=0;f<e.numDataCodewords;f++)c[a++]=d[f]}try{return da(c,b.versionNumber)}catch(e){return null}}\nfunction M(a,b,c,d){var e=a.x-b.x+c.x-d.x;let f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};let g=b.x-c.x;var h=d.x-c.x;let k=b.y-c.y,m=d.y-c.y;c=g*m-h*k;h=(e*m-h*f)/c;e=(g*f-e*k)/c;return{a11:b.x-a.x+h*b.x,a12:b.y-a.y+h*b.y,a13:h,a21:d.x-a.x+e*d.x,a22:d.y-a.y+e*d.y,a23:e,a31:a.x,a32:a.y,a33:1}}\nfunction oa(a,b,c,d){a=M(a,b,c,d);return{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}\nfunction pa(a,b){var c=oa({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=M(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=d.a11*c.a11+d.a21*c.a12+d.a31*c.a13,f=d.a12*c.a11+d.a22*c.a12+d.a32*c.a13,g=d.a13*c.a11+d.a23*c.a12+d.a33*c.a13,h=d.a11*c.a21+d.a21*c.a22+d.a31*c.a23,k=d.a12*c.a21+d.a22*c.a22+d.a32*c.a23,m=d.a13*c.a21+d.a23*c.a22+d.a33*c.a23,l=d.a11*c.a31+d.a21*c.a32+d.a31*c.a33,n=d.a12*c.a31+d.a22*c.a32+d.a32*c.a33,q=d.a13*\nc.a31+d.a23*c.a32+d.a33*c.a33;c=x.createEmpty(b.dimension,b.dimension);d=(r,u)=>{const p=g*r+m*u+q;return{x:(e*r+h*u+l)/p,y:(f*r+k*u+n)/p}};for(let r=0;r<b.dimension;r++)for(let u=0;u<b.dimension;u++){let p=d(u+.5,r+.5);c.set(u,r,a.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}let N=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function O(a){return a.reduce((b,c)=>b+c)}\nfunction qa(a,b,c){let d=N(a,b),e=N(b,c),f=N(a,c),g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{bottomLeft:g,topLeft:h,topRight:k}}\nfunction ra(a,b,c,d){d=(O(P(a,c,d,5))/7+O(P(a,b,d,5))/7+O(P(c,a,d,5))/7+O(P(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");b=Math.round(N(a,b)/d);a=Math.round(N(a,c)/d);a=Math.floor((b+a)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:d}}\nfunction Q(a,b,c,d){let e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);let k=Math.abs(a-g),m=Math.abs(b-h),l=Math.floor(-k/2),n=g<a?1:-1,q=h<b?1:-1,r=!0;for(let u=g,p=h;u!==a+n;u+=n){g=f?p:u;h=f?u:p;if(c.get(g,h)!==r&&(r=!r,e.push({x:g,y:h}),e.length===d+1))break;l+=m;if(0<l){if(p===b)break;p+=q;l-=k}}c=\n[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(N(e[f],e[f+1])):c.push(0);return c}function P(a,b,c,d){let e=b.y-a.y,f=b.x-a.x;b=Q(a,b,c,Math.ceil(d/2));a=Q(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function R(a,b){let c=O(a)/O(b),d=0;b.forEach((e,f)=>{d+=Math.pow(a[f]-e*c,2)});return{averageSize:c,error:d}}\nfunction S(a,b,c){try{let d=P(a,{x:-1,y:a.y},c,b.length),e=P(a,{x:a.x,y:-1},c,b.length),f=P(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=P(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=R(d,b),k=R(e,b),m=R(f,b),l=R(g,b),n=(h.averageSize+k.averageSize+m.averageSize+l.averageSize)/4;return Math.sqrt(h.error*h.error+k.error*k.error+m.error*m.error+l.error*l.error)+(Math.pow(h.averageSize-n,2)+Math.pow(k.averageSize-n,2)+Math.pow(m.averageSize-n,2)+\nMath.pow(l.averageSize-n,2))/n}catch(d){return Infinity}}function T(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}\nfunction sa(a){var b=[],c=[];let d=[];var e=[];for(let p=0;p<=a.height;p++){var f=0,g=!1;let t=[0,0,0,0,0];for(let v=-1;v<=a.width;v++){var h=a.get(v,p);if(h===g)f++;else{t=[t[1],t[2],t[3],t[4],f];f=1;g=h;var k=O(t)/7;k=Math.abs(t[0]-k)<k&&Math.abs(t[1]-k)<k&&Math.abs(t[2]-3*k)<3*k&&Math.abs(t[3]-k)<k&&Math.abs(t[4]-k)<k&&!h;var m=O(t.slice(-3))/3;h=Math.abs(t[2]-m)<m&&Math.abs(t[3]-m)<m&&Math.abs(t[4]-m)<m&&h;if(k){let z=v-t[3]-t[4],y=z-t[2];k={startX:y,endX:z,y:p};m=c.filter(w=>y>=w.bottom.startX&&\ny<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<m.length?m[0].bottom=k:c.push({top:k,bottom:k})}if(h){let z=v-t[4],y=z-t[3];h={startX:y,y:p,endX:z};k=e.filter(w=>y>=w.bottom.startX&&y<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<k.length?\nk[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(v=>v.bottom.y!==p&&2<=v.bottom.y-v.top.y));c=c.filter(v=>v.bottom.y===p);d.push(...e.filter(v=>v.bottom.y!==p));e=e.filter(v=>v.bottom.y===p)}b.push(...c.filter(p=>2<=p.bottom.y-p.top.y));d.push(...e);c=[];for(var l of b)2>l.bottom.y-l.top.y||(b=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4,e=(l.top.y+l.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[l.top.endX-l.top.startX,l.bottom.endX-l.bottom.startX,l.bottom.y-l.top.y+\n1],f=O(f)/f.length,g=S({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({score:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((p,t)=>p.score-t.score);l=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var n of c)n!==e&&f.push(Object.assign(Object.assign({},n),{score:n.score+Math.pow(n.size-e.size,2)/e.size}));f.sort((p,t)=>p.score-t.score);l.push({points:[e,f[0],f[1]],score:e.score+f[0].score+f[1].score})}l.sort((p,t)=>p.score-t.score);let {topRight:q,topLeft:r,bottomLeft:u}=qa(...l[0].points);\nl=U(a,d,q,r,u);n=[];l&&n.push({alignmentPattern:{x:l.alignmentPattern.x,y:l.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:l.dimension,topLeft:{x:r.x,y:r.y},topRight:{x:q.x,y:q.y}});l=T(a,q);b=T(a,r);c=T(a,u);(a=U(a,d,l,b,c))&&n.push({alignmentPattern:{x:a.alignmentPattern.x,y:a.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:b.x,y:b.y},topRight:{x:l.x,y:l.y},dimension:a.dimension});return 0===n.length?null:n}\nfunction U(a,b,c,d,e){let f,g;try{({dimension:f,moduleSize:g}=ra(d,c,e,a))}catch(l){return null}var h=c.x-d.x+e.x,k=c.y-d.y+e.y;c=(N(d,e)+N(d,c))/2/g;e=1-3/c;let m={x:d.x+e*(h-d.x),y:d.y+e*(k-d.y)};b=b.map(l=>{const n=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4;l=(l.top.y+l.bottom.y+1)/2;if(a.get(Math.floor(n),Math.floor(l))){var q=S({x:Math.floor(n),y:Math.floor(l)},[1,1,1],a)+N({x:n,y:l},m);return{x:n,y:l,score:q}}}).filter(l=>!!l).sort((l,n)=>l.score-n.score);return{alignmentPattern:15<=\nc&&b.length?b[0]:m,dimension:f}}\nfunction V(a){var b=sa(a);if(!b)return null;for(let e of b){b=pa(a,e);var c=b.matrix;if(null==c)c=null;else{var d=L(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let f=d+1;f<c.height;f++)c.get(d,f)!==c.get(f,d)&&(c.set(d,f,!c.get(d,f)),c.set(f,d,!c.get(f,d)));c=L(c)}}if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:b.mappingFunction(e.dimension,0),topLeftCorner:b.mappingFunction(0,0),bottomRightCorner:b.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:b.mappingFunction(0,\ne.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern},matrix:b.matrix}}return null}let ta={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function W(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}\nfunction X(a,b,c,d={}){let e=Object.create(null);W(e,ta);W(e,d);d="onlyInvert"===e.inversionAttempts||"invertFirst"===e.inversionAttempts;var f="attemptBoth"===e.inversionAttempts||d;var g=e.greyScaleWeights,h=e.canOverwriteImage,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var m=0;if(h){var l=new Uint8ClampedArray(a.buffer,m,k);m+=k}l=new A(b,c,l);if(g.useIntegerApproximation)for(var n=0;n<c;n++)for(var q=0;q<b;q++){var r=4*(n*b+q);l.set(q,n,g.red*a[r]+g.green*a[r+1]+\ng.blue*a[r+2]+128>>8)}else for(n=0;n<c;n++)for(q=0;q<b;q++)r=4*(n*b+q),l.set(q,n,g.red*a[r]+g.green*a[r+1]+g.blue*a[r+2]);g=Math.ceil(b/8);n=Math.ceil(c/8);q=g*n;if(h){var u=new Uint8ClampedArray(a.buffer,m,q);m+=q}u=new A(g,n,u);for(q=0;q<n;q++)for(r=0;r<g;r++){var p=Infinity,t=0;for(var v=0;8>v;v++)for(let w=0;8>w;w++){let aa=l.get(8*r+w,8*q+v);p=Math.min(p,aa);t=Math.max(t,aa)}v=(p+t)/2;v=Math.min(255,1.11*v);24>=t-p&&(v=p/2,0<q&&0<r&&(t=(u.get(r,q-1)+2*u.get(r-1,q)+u.get(r-1,q-1))/4,p<t&&(v=t)));\nu.set(r,q,v)}h?(q=new Uint8ClampedArray(a.buffer,m,k),m+=k,q=new x(q,b)):q=x.createEmpty(b,c);r=null;f&&(h?(a=new Uint8ClampedArray(a.buffer,m,k),r=new x(a,b)):r=x.createEmpty(b,c));for(b=0;b<n;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=n-3;h=2>b?2:b>h?h:b;k=0;for(m=-2;2>=m;m++)for(p=-2;2>=p;p++)k+=u.get(c+m,h+p);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)m=8*a+h,p=8*b+k,t=l.get(m,p),q.set(m,p,t<=c),f&&r.set(m,p,!(t<=c))}f=f?{binarized:q,inverted:r}:{binarized:q};let {binarized:z,inverted:y}=f;(f=V(d?\ny:z))||"attemptBoth"!==e.inversionAttempts&&"invertFirst"!==e.inversionAttempts||(f=V(d?z:y));return f}X.default=X;let Y="dontInvert",Z={red:77,green:150,blue:29,useIntegerApproximation:!0};\nself.onmessage=a=>{let b=a.data.id,c=a.data.data;switch(a.data.type){case "decode":(a=X(c.data,c.width,c.height,{inversionAttempts:Y,greyScaleWeights:Z}))?self.postMessage({id:b,type:"qrResult",data:a.data,cornerPoints:[a.location.topLeftCorner,a.location.topRightCorner,a.location.bottomRightCorner,a.location.bottomLeftCorner]}):self.postMessage({id:b,type:"qrResult",data:null});break;case "grayscaleWeights":Z.red=c.red;Z.green=c.green;Z.blue=c.blue;Z.useIntegerApproximation=c.useIntegerApproximation;\nbreak;case "inversionMode":switch(c){case "original":Y="dontInvert";break;case "invert":Y="onlyInvert";break;case "both":Y="attemptBoth";break;default:throw Error("Invalid inversion mode");}break;case "close":self.close()}}\n']),{type:"application/javascript"}))});
//# sourceMappingURL=bundle.min.js.map
